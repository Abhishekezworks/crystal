graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __InputStaticLeaf9["__InputStaticLeaf[9∈0]"]:::plan
    __InputStaticLeaf12["__InputStaticLeaf[12∈0]"]:::plan
    __InputStaticLeaf13["__InputStaticLeaf[13∈0]"]:::plan
    __InputStaticLeaf15["__InputStaticLeaf[15∈0]"]:::plan
    __InputStaticLeaf16["__InputStaticLeaf[16∈0]"]:::plan
    __InputStaticLeaf17["__InputStaticLeaf[17∈0]"]:::plan
    __InputStaticLeaf20["__InputStaticLeaf[20∈0]"]:::plan
    Access35["Access[35∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access36["Access[36∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object37["Object[37∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    List39["List[39∈0]<br />ᐸ15,16,17ᐳ"]:::plan
    Object40["Object[40∈0]<br />ᐸ{a}ᐳ"]:::plan
    PgUpdate34[["PgUpdate[34∈1]"]]:::sideeffectplan
    Object38["Object[38∈1]<br />ᐸ{result}ᐳ"]:::plan
    __InputStaticLeaf45["__InputStaticLeaf[45∈0]"]:::plan
    __InputStaticLeaf46["__InputStaticLeaf[46∈0]"]:::plan
    __InputStaticLeaf48["__InputStaticLeaf[48∈0]"]:::plan
    __InputStaticLeaf49["__InputStaticLeaf[49∈0]"]:::plan
    __InputStaticLeaf50["__InputStaticLeaf[50∈0]"]:::plan
    __InputStaticLeaf53["__InputStaticLeaf[53∈0]"]:::plan
    List72["List[72∈0]<br />ᐸ48,49,50ᐳ"]:::plan
    Object73["Object[73∈0]<br />ᐸ{a}ᐳ"]:::plan
    PgInsert67[["PgInsert[67∈2]"]]:::sideeffectplan
    Object71["Object[71∈2]<br />ᐸ{result}ᐳ"]:::plan
    PgClassExpression74["PgClassExpression[74∈1]<br />ᐸ__types__.”id”ᐳ"]:::plan
    PgClassExpression75["PgClassExpression[75∈1]<br />ᐸ__types__.”regrole”ᐳ"]:::plan
    PgClassExpression76["PgClassExpression[76∈1]<br />ᐸ__types__....namespace”ᐳ"]:::plan
    PgClassExpression77["PgClassExpression[77∈1]<br />ᐸ__types__....ay_domain”ᐳ"]:::plan
    PgClassExpression78["PgClassExpression[78∈1]<br />ᐸ__types__....ound_type”ᐳ"]:::plan
    PgSelect79[["PgSelect[79∈1]<br />ᐸTemporarySource1ᐳ"]]:::plan
    First83["First[83∈1]"]:::plan
    PgSelectSingle84["PgSelectSingle[84∈1]<br />ᐸTemporarySource1ᐳ"]:::plan
    __Item85>"__Item[85∈3]<br />ᐸ77ᐳ"]:::itemplan
    PgClassExpression86["PgClassExpression[86∈1]<br />ᐸ__temporar...rce1__.”a”ᐳ"]:::plan
    PgClassExpression87["PgClassExpression[87∈1]<br />ᐸ__temporar...rce1__.”b”ᐳ"]:::plan
    PgClassExpression88["PgClassExpression[88∈1]<br />ᐸ__temporar...rce1__.”c”ᐳ"]:::plan
    PgClassExpression89["PgClassExpression[89∈1]<br />ᐸ__temporar...rce1__.”d”ᐳ"]:::plan
    PgClassExpression90["PgClassExpression[90∈1]<br />ᐸ__temporar...rce1__.”e”ᐳ"]:::plan
    PgClassExpression91["PgClassExpression[91∈1]<br />ᐸ__temporar...rce1__.”f”ᐳ"]:::plan
    PgClassExpression92["PgClassExpression[92∈1]<br />ᐸ__temporar....”foo_bar”ᐳ"]:::plan
    PgClassExpression93["PgClassExpression[93∈2]<br />ᐸ__types__.”id”ᐳ"]:::plan
    PgClassExpression94["PgClassExpression[94∈2]<br />ᐸ__types__.”regrole”ᐳ"]:::plan
    PgClassExpression95["PgClassExpression[95∈2]<br />ᐸ__types__....namespace”ᐳ"]:::plan
    PgClassExpression96["PgClassExpression[96∈2]<br />ᐸ__types__....ay_domain”ᐳ"]:::plan
    PgClassExpression97["PgClassExpression[97∈2]<br />ᐸ__types__....ound_type”ᐳ"]:::plan
    PgSelect98[["PgSelect[98∈2]<br />ᐸTemporarySource1ᐳ"]]:::plan
    First102["First[102∈2]"]:::plan
    PgSelectSingle103["PgSelectSingle[103∈2]<br />ᐸTemporarySource1ᐳ"]:::plan
    __Item104>"__Item[104∈4]<br />ᐸ96ᐳ"]:::itemplan
    PgClassExpression105["PgClassExpression[105∈2]<br />ᐸ__temporar...rce1__.”a”ᐳ"]:::plan
    PgClassExpression106["PgClassExpression[106∈2]<br />ᐸ__temporar...rce1__.”b”ᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈2]<br />ᐸ__temporar...rce1__.”c”ᐳ"]:::plan
    PgClassExpression108["PgClassExpression[108∈2]<br />ᐸ__temporar...rce1__.”d”ᐳ"]:::plan
    PgClassExpression109["PgClassExpression[109∈2]<br />ᐸ__temporar...rce1__.”e”ᐳ"]:::plan
    PgClassExpression110["PgClassExpression[110∈2]<br />ᐸ__temporar...rce1__.”f”ᐳ"]:::plan
    PgClassExpression111["PgClassExpression[111∈2]<br />ᐸ__temporar....”foo_bar”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access35
    __Value3 --> Access36
    Access35 & Access36 --> Object37
    __InputStaticLeaf15 & __InputStaticLeaf16 & __InputStaticLeaf17 --> List39
    __InputStaticLeaf20 --> Object40
    Object37 & __InputStaticLeaf9 & __InputStaticLeaf12 & __InputStaticLeaf13 & List39 & Object40 --> PgUpdate34
    PgUpdate34 --> Object38
    __InputStaticLeaf48 & __InputStaticLeaf49 & __InputStaticLeaf50 --> List72
    __InputStaticLeaf53 --> Object73
    Object37 & __InputStaticLeaf45 & __InputStaticLeaf46 & List72 & Object73 --> PgInsert67
    PgInsert67 --> Object71
    PgUpdate34 --> PgClassExpression74
    PgUpdate34 --> PgClassExpression75
    PgUpdate34 --> PgClassExpression76
    PgUpdate34 --> PgClassExpression77
    PgUpdate34 --> PgClassExpression78
    Object37 & PgClassExpression78 --> PgSelect79
    PgSelect79 --> First83
    First83 --> PgSelectSingle84
    PgClassExpression77 ==> __Item85
    PgSelectSingle84 --> PgClassExpression86
    PgSelectSingle84 --> PgClassExpression87
    PgSelectSingle84 --> PgClassExpression88
    PgSelectSingle84 --> PgClassExpression89
    PgSelectSingle84 --> PgClassExpression90
    PgSelectSingle84 --> PgClassExpression91
    PgSelectSingle84 --> PgClassExpression92
    PgInsert67 --> PgClassExpression93
    PgInsert67 --> PgClassExpression94
    PgInsert67 --> PgClassExpression95
    PgInsert67 --> PgClassExpression96
    PgInsert67 --> PgClassExpression97
    Object37 & PgClassExpression97 --> PgSelect98
    PgSelect98 --> First102
    First102 --> PgSelectSingle103
    PgClassExpression96 ==> __Item104
    PgSelectSingle103 --> PgClassExpression105
    PgSelectSingle103 --> PgClassExpression106
    PgSelectSingle103 --> PgClassExpression107
    PgSelectSingle103 --> PgClassExpression108
    PgSelectSingle103 --> PgClassExpression109
    PgSelectSingle103 --> PgClassExpression110
    PgSelectSingle103 --> PgClassExpression111

    %% plan-to-path relationships

    subgraph "Buckets for mutations/v4/pg11.types"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,__InputStaticLeaf9,__InputStaticLeaf12,__InputStaticLeaf13,__InputStaticLeaf15,__InputStaticLeaf16,__InputStaticLeaf17,__InputStaticLeaf20,Access35,Access36,Object37,List39,Object40,__InputStaticLeaf45,__InputStaticLeaf46,__InputStaticLeaf48,__InputStaticLeaf49,__InputStaticLeaf50,__InputStaticLeaf53,List72,Object73 bucket0
    Bucket1("Bucket 1<br />(mutationField)<br />Deps: 37, 9, 12, 13, 39, 40"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgUpdate34,Object38,PgClassExpression74,PgClassExpression75,PgClassExpression76,PgClassExpression77,PgClassExpression78,PgSelect79,First83,PgSelectSingle84,PgClassExpression86,PgClassExpression87,PgClassExpression88,PgClassExpression89,PgClassExpression90,PgClassExpression91,PgClassExpression92 bucket1
    Bucket2("Bucket 2<br />(mutationField)<br />Deps: 37, 45, 46, 72, 73"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgInsert67,Object71,PgClassExpression93,PgClassExpression94,PgClassExpression95,PgClassExpression96,PgClassExpression97,PgSelect98,First102,PgSelectSingle103,PgClassExpression105,PgClassExpression106,PgClassExpression107,PgClassExpression108,PgClassExpression109,PgClassExpression110,PgClassExpression111 bucket2
    Bucket3("Bucket 3<br />(listItem)<br />Deps: 77<br /><br />ROOT __Item{3}ᐸ77ᐳ[85]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item85 bucket3
    Bucket4("Bucket 4<br />(listItem)<br />Deps: 96<br /><br />ROOT __Item{4}ᐸ96ᐳ[104]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item104 bucket4
    Bucket0 --> Bucket1 & Bucket2
    Bucket1 --> Bucket3
    Bucket2 --> Bucket4
    end
