graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __InputStaticLeaf7["__InputStaticLeaf[7∈0]"]:::plan
    __InputStaticLeaf11["__InputStaticLeaf[11∈0]"]:::plan
    Access31["Access[31∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access32["Access[32∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object33["Object[33∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    Lambda35["Lambda[35∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection34["Connection[34∈0]<br />ᐸ30ᐳ"]:::plan
    __InputStaticLeaf36["__InputStaticLeaf[36∈0]"]:::plan
    __InputStaticLeaf40["__InputStaticLeaf[40∈0]"]:::plan
    Lambda64["Lambda[64∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection63["Connection[63∈0]<br />ᐸ59ᐳ"]:::plan
    PgPageInfo65["PgPageInfo[65∈0]"]:::plan
    PgSelect66[["PgSelect[66∈0]<br />ᐸpersonᐳ"]]:::plan
    First67["First[67∈0]"]:::plan
    PgSelectSingle68["PgSelectSingle[68∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression69["PgClassExpression[69∈0]<br />ᐸcount(*)ᐳ"]:::plan
    PgValidateParsedCursor71["PgValidateParsedCursor[71∈0]"]:::plan
    Access72["Access[72∈0]<br />ᐸ35.1ᐳ"]:::plan
    ToPg73["ToPg[73∈0]"]:::plan
    PgSelect70[["PgSelect[70∈0]<br />ᐸpersonᐳ"]]:::plan
    First75["First[75∈0]"]:::plan
    PgSelectSingle76["PgSelectSingle[76∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression81["PgClassExpression[81∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List82["List[82∈0]<br />ᐸ81ᐳ"]:::plan
    PgCursor77["PgCursor[77∈0]"]:::plan
    Last84["Last[84∈0]"]:::plan
    PgSelectSingle85["PgSelectSingle[85∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression90["PgClassExpression[90∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List91["List[91∈0]<br />ᐸ90ᐳ"]:::plan
    PgCursor86["PgCursor[86∈0]"]:::plan
    Lambda93["Lambda[93∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant97["Constant[97∈0]"]:::plan
    __Item98>"__Item[98∈1]<br />ᐸ70ᐳ"]:::itemplan
    PgSelectSingle99["PgSelectSingle[99∈1]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression101["PgClassExpression[101∈1]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List102["List[102∈1]<br />ᐸ101ᐳ"]:::plan
    PgCursor100["PgCursor[100∈1]"]:::plan
    PgClassExpression104["PgClassExpression[104∈1]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression105["PgClassExpression[105∈1]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression106["PgClassExpression[106∈1]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈1]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan
    PgPageInfo108["PgPageInfo[108∈0]"]:::plan
    PgSelect109[["PgSelect[109∈0]<br />ᐸpersonᐳ"]]:::plan
    First110["First[110∈0]"]:::plan
    PgSelectSingle111["PgSelectSingle[111∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression112["PgClassExpression[112∈0]<br />ᐸcount(*)ᐳ"]:::plan
    PgValidateParsedCursor114["PgValidateParsedCursor[114∈0]"]:::plan
    Access115["Access[115∈0]<br />ᐸ64.1ᐳ"]:::plan
    ToPg116["ToPg[116∈0]"]:::plan
    PgSelect113[["PgSelect[113∈0]<br />ᐸpersonᐳ"]]:::plan
    First118["First[118∈0]"]:::plan
    PgSelectSingle119["PgSelectSingle[119∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression124["PgClassExpression[124∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List125["List[125∈0]<br />ᐸ124ᐳ"]:::plan
    PgCursor120["PgCursor[120∈0]"]:::plan
    Last127["Last[127∈0]"]:::plan
    PgSelectSingle128["PgSelectSingle[128∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression133["PgClassExpression[133∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List134["List[134∈0]<br />ᐸ133ᐳ"]:::plan
    PgCursor129["PgCursor[129∈0]"]:::plan
    Lambda136["Lambda[136∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant140["Constant[140∈0]"]:::plan
    __Item141>"__Item[141∈2]<br />ᐸ113ᐳ"]:::itemplan
    PgSelectSingle142["PgSelectSingle[142∈2]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression144["PgClassExpression[144∈2]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List145["List[145∈2]<br />ᐸ144ᐳ"]:::plan
    PgCursor143["PgCursor[143∈2]"]:::plan
    PgClassExpression147["PgClassExpression[147∈2]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression148["PgClassExpression[148∈2]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression149["PgClassExpression[149∈2]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression150["PgClassExpression[150∈2]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access31
    __Value3 --> Access32
    Access31 & Access32 --> Object33
    __InputStaticLeaf11 --> Lambda35
    __InputStaticLeaf7 & Lambda35 --> Connection34
    __InputStaticLeaf40 --> Lambda64
    __InputStaticLeaf36 & Lambda64 --> Connection63
    Object33 & Connection34 --> PgSelect66
    PgSelect66 --> First67
    First67 --> PgSelectSingle68
    PgSelectSingle68 --> PgClassExpression69
    Lambda35 --> PgValidateParsedCursor71
    Lambda35 --> Access72
    Access72 --> ToPg73
    Object33 & Connection34 & Lambda35 & PgValidateParsedCursor71 & ToPg73 --> PgSelect70
    PgSelect70 --> First75
    First75 --> PgSelectSingle76
    PgSelectSingle76 --> PgClassExpression81
    PgClassExpression81 --> List82
    List82 --> PgCursor77
    PgSelect70 --> Last84
    Last84 --> PgSelectSingle85
    PgSelectSingle85 --> PgClassExpression90
    PgClassExpression90 --> List91
    List91 --> PgCursor86
    PgSelect70 --> Lambda93
    PgSelect70 ==> __Item98
    __Item98 --> PgSelectSingle99
    PgSelectSingle99 --> PgClassExpression101
    PgClassExpression101 --> List102
    List102 --> PgCursor100
    PgSelectSingle99 --> PgClassExpression104
    PgSelectSingle99 --> PgClassExpression105
    PgSelectSingle99 --> PgClassExpression106
    PgSelectSingle99 --> PgClassExpression107
    Object33 & Connection63 --> PgSelect109
    PgSelect109 --> First110
    First110 --> PgSelectSingle111
    PgSelectSingle111 --> PgClassExpression112
    Lambda64 --> PgValidateParsedCursor114
    Lambda64 --> Access115
    Access115 --> ToPg116
    Object33 & Connection63 & Lambda64 & PgValidateParsedCursor114 & ToPg116 --> PgSelect113
    PgSelect113 --> First118
    First118 --> PgSelectSingle119
    PgSelectSingle119 --> PgClassExpression124
    PgClassExpression124 --> List125
    List125 --> PgCursor120
    PgSelect113 --> Last127
    Last127 --> PgSelectSingle128
    PgSelectSingle128 --> PgClassExpression133
    PgClassExpression133 --> List134
    List134 --> PgCursor129
    PgSelect113 --> Lambda136
    PgSelect113 ==> __Item141
    __Item141 --> PgSelectSingle142
    PgSelectSingle142 --> PgClassExpression144
    PgClassExpression144 --> List145
    List145 --> PgCursor143
    PgSelectSingle142 --> PgClassExpression147
    PgSelectSingle142 --> PgClassExpression148
    PgSelectSingle142 --> PgClassExpression149
    PgSelectSingle142 --> PgClassExpression150

    %% plan-to-path relationships

    subgraph "Buckets for queries/v4/connections-blankcursor"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,__InputStaticLeaf7,__InputStaticLeaf11,Access31,Access32,Object33,Connection34,Lambda35,__InputStaticLeaf36,__InputStaticLeaf40,Connection63,Lambda64,PgPageInfo65,PgSelect66,First67,PgSelectSingle68,PgClassExpression69,PgSelect70,PgValidateParsedCursor71,Access72,ToPg73,First75,PgSelectSingle76,PgCursor77,PgClassExpression81,List82,Last84,PgSelectSingle85,PgCursor86,PgClassExpression90,List91,Lambda93,Constant97,PgPageInfo108,PgSelect109,First110,PgSelectSingle111,PgClassExpression112,PgSelect113,PgValidateParsedCursor114,Access115,ToPg116,First118,PgSelectSingle119,PgCursor120,PgClassExpression124,List125,Last127,PgSelectSingle128,PgCursor129,PgClassExpression133,List134,Lambda136,Constant140 bucket0
    Bucket1("Bucket 1<br />(listItem)<br />Deps: 70<br /><br />ROOT __Item{1}ᐸ70ᐳ[98]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item98,PgSelectSingle99,PgCursor100,PgClassExpression101,List102,PgClassExpression104,PgClassExpression105,PgClassExpression106,PgClassExpression107 bucket1
    Bucket2("Bucket 2<br />(listItem)<br />Deps: 113<br /><br />ROOT __Item{2}ᐸ113ᐳ[141]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item141,PgSelectSingle142,PgCursor143,PgClassExpression144,List145,PgClassExpression147,PgClassExpression148,PgClassExpression149,PgClassExpression150 bucket2
    Bucket0 --> Bucket1 & Bucket2
    end
