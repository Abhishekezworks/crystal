graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access13["Access[13∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access14["Access[14∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object15["Object[15∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    PgSelect12[["PgSelect[12∈0]<br />ᐸcompound_type_set_queryᐳ"]]:::plan
    __Item16>"__Item[16∈1]<br />ᐸ12ᐳ"]:::itemplan
    PgSelectSingle17["PgSelectSingle[17∈1]<br />ᐸcompound_type_set_queryᐳ"]:::plan
    PgClassExpression18["PgClassExpression[18∈1]<br />ᐸ__compound...uery__.”a”ᐳ"]:::plan
    PgClassExpression19["PgClassExpression[19∈1]<br />ᐸ__compound...uery__.”b”ᐳ"]:::plan
    PgClassExpression20["PgClassExpression[20∈1]<br />ᐸ__compound...uery__.”c”ᐳ"]:::plan
    PgClassExpression21["PgClassExpression[21∈1]<br />ᐸ__compound...uery__.”d”ᐳ"]:::plan
    PgClassExpression22["PgClassExpression[22∈1]<br />ᐸ__compound...uery__.”e”ᐳ"]:::plan
    PgClassExpression23["PgClassExpression[23∈1]<br />ᐸ__compound...uery__.”f”ᐳ"]:::plan
    PgClassExpression24["PgClassExpression[24∈1]<br />ᐸ__compound...uery__.”g”ᐳ"]:::plan
    Access25["Access[25∈1]<br />ᐸ24.hoursᐳ"]:::plan
    Access26["Access[26∈1]<br />ᐸ24.minutesᐳ"]:::plan
    Access27["Access[27∈1]<br />ᐸ24.secondsᐳ"]:::plan
    PgSelect50[["PgSelect[50∈0]<br />ᐸtable_set_queryᐳ"]]:::plan
    __Item54>"__Item[54∈2]<br />ᐸ50ᐳ"]:::itemplan
    PgSelectSingle55["PgSelectSingle[55∈2]<br />ᐸtable_set_queryᐳ"]:::plan
    PgClassExpression56["PgClassExpression[56∈2]<br />ᐸ__table_se...full_name”ᐳ"]:::plan
    PgSelect79[["PgSelect[79∈0]<br />ᐸtable_set_queryᐳ"]]:::plan
    __Item83>"__Item[83∈3]<br />ᐸ79ᐳ"]:::itemplan
    PgSelectSingle84["PgSelectSingle[84∈3]<br />ᐸtable_set_queryᐳ"]:::plan
    PgClassExpression85["PgClassExpression[85∈3]<br />ᐸ__table_se...full_name”ᐳ"]:::plan
    __InputStaticLeaf86["__InputStaticLeaf[86∈0]"]:::plan
    __InputStaticLeaf88["__InputStaticLeaf[88∈0]"]:::plan
    Constant94["Constant[94∈0]"]:::plan
    PgSelect95[["PgSelect[95∈0]<br />ᐸint_set_queryᐳ"]]:::plan
    __Item99>"__Item[99∈4]<br />ᐸ95ᐳ"]:::itemplan
    PgSelectSingle100["PgSelectSingle[100∈4]<br />ᐸint_set_queryᐳ"]:::plan
    PgClassExpression101["PgClassExpression[101∈4]<br />ᐸ__int_set_query__.vᐳ"]:::plan
    PgSelect107[["PgSelect[107∈0]<br />ᐸstatic_big_integerᐳ"]]:::plan
    __Item111>"__Item[111∈5]<br />ᐸ107ᐳ"]:::itemplan
    PgSelectSingle112["PgSelectSingle[112∈5]<br />ᐸstatic_big_integerᐳ"]:::plan
    PgClassExpression113["PgClassExpression[113∈5]<br />ᐸ__static_b...nteger__.vᐳ"]:::plan
    PgSelect119[["PgSelect[119∈0]<br />ᐸquery_interval_setᐳ"]]:::plan
    __Item123>"__Item[123∈6]<br />ᐸ119ᐳ"]:::itemplan
    PgSelectSingle124["PgSelectSingle[124∈6]<br />ᐸquery_interval_setᐳ"]:::plan
    PgClassExpression125["PgClassExpression[125∈6]<br />ᐸ__query_in...al_set__.vᐳ"]:::plan
    Access126["Access[126∈6]<br />ᐸ125.secondsᐳ"]:::plan
    Access127["Access[127∈6]<br />ᐸ125.minutesᐳ"]:::plan
    Access128["Access[128∈6]<br />ᐸ125.hoursᐳ"]:::plan
    Access129["Access[129∈6]<br />ᐸ125.daysᐳ"]:::plan
    Access130["Access[130∈6]<br />ᐸ125.monthsᐳ"]:::plan
    Access131["Access[131∈6]<br />ᐸ125.yearsᐳ"]:::plan
    PgSelect148[["PgSelect[148∈0]<br />ᐸpostᐳ"]]:::plan
    __Item152>"__Item[152∈7]<br />ᐸ148ᐳ"]:::itemplan
    PgSelectSingle153["PgSelectSingle[153∈7]<br />ᐸpostᐳ"]:::plan
    PgClassExpression154["PgClassExpression[154∈7]<br />ᐸ__post__.”id”ᐳ"]:::plan
    Access170["Access[170∈7]<br />ᐸ152.1ᐳ"]:::plan
    __Item165>"__Item[165∈8]<br />ᐸ170ᐳ"]:::itemplan
    PgSelectSingle166["PgSelectSingle[166∈8]<br />ᐸpost_computed_interval_setᐳ"]:::plan
    PgClassExpression167["PgClassExpression[167∈8]<br />ᐸ__post_com...al_set__.vᐳ"]:::plan
    Access168["Access[168∈8]<br />ᐸ167.secondsᐳ"]:::plan
    Access169["Access[169∈8]<br />ᐸ167.minutesᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access13
    __Value3 --> Access14
    Access13 & Access14 --> Object15
    Object15 --> PgSelect12
    PgSelect12 ==> __Item16
    __Item16 --> PgSelectSingle17
    PgSelectSingle17 --> PgClassExpression18
    PgSelectSingle17 --> PgClassExpression19
    PgSelectSingle17 --> PgClassExpression20
    PgSelectSingle17 --> PgClassExpression21
    PgSelectSingle17 --> PgClassExpression22
    PgSelectSingle17 --> PgClassExpression23
    PgSelectSingle17 --> PgClassExpression24
    PgClassExpression24 --> Access25
    PgClassExpression24 --> Access26
    PgClassExpression24 --> Access27
    Object15 --> PgSelect50
    PgSelect50 ==> __Item54
    __Item54 --> PgSelectSingle55
    PgSelectSingle55 --> PgClassExpression56
    Object15 --> PgSelect79
    PgSelect79 ==> __Item83
    __Item83 --> PgSelectSingle84
    PgSelectSingle84 --> PgClassExpression85
    Object15 & __InputStaticLeaf86 & Constant94 & __InputStaticLeaf88 --> PgSelect95
    PgSelect95 ==> __Item99
    __Item99 --> PgSelectSingle100
    PgSelectSingle100 --> PgClassExpression101
    Object15 --> PgSelect107
    PgSelect107 ==> __Item111
    __Item111 --> PgSelectSingle112
    PgSelectSingle112 --> PgClassExpression113
    Object15 --> PgSelect119
    PgSelect119 ==> __Item123
    __Item123 --> PgSelectSingle124
    PgSelectSingle124 --> PgClassExpression125
    PgClassExpression125 --> Access126
    PgClassExpression125 --> Access127
    PgClassExpression125 --> Access128
    PgClassExpression125 --> Access129
    PgClassExpression125 --> Access130
    PgClassExpression125 --> Access131
    Object15 --> PgSelect148
    PgSelect148 ==> __Item152
    __Item152 --> PgSelectSingle153
    PgSelectSingle153 --> PgClassExpression154
    __Item152 --> Access170
    Access170 ==> __Item165
    __Item165 --> PgSelectSingle166
    PgSelectSingle166 --> PgClassExpression167
    PgClassExpression167 --> Access168
    PgClassExpression167 --> Access169

    subgraph "Buckets for queries/v4/simple-procedure-query"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,PgSelect12,Access13,Access14,Object15,PgSelect50,PgSelect79,__InputStaticLeaf86,__InputStaticLeaf88,Constant94,PgSelect95,PgSelect107,PgSelect119,PgSelect148 bucket0
    Bucket1("Bucket 1<br />(listItem)<br />ROOT __Item{1}ᐸ12ᐳ[16]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item16,PgSelectSingle17,PgClassExpression18,PgClassExpression19,PgClassExpression20,PgClassExpression21,PgClassExpression22,PgClassExpression23,PgClassExpression24,Access25,Access26,Access27 bucket1
    Bucket2("Bucket 2<br />(listItem)<br />ROOT __Item{2}ᐸ50ᐳ[54]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item54,PgSelectSingle55,PgClassExpression56 bucket2
    Bucket3("Bucket 3<br />(listItem)<br />ROOT __Item{3}ᐸ79ᐳ[83]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item83,PgSelectSingle84,PgClassExpression85 bucket3
    Bucket4("Bucket 4<br />(listItem)<br />ROOT __Item{4}ᐸ95ᐳ[99]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item99,PgSelectSingle100,PgClassExpression101 bucket4
    Bucket5("Bucket 5<br />(listItem)<br />ROOT __Item{5}ᐸ107ᐳ[111]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item111,PgSelectSingle112,PgClassExpression113 bucket5
    Bucket6("Bucket 6<br />(listItem)<br />ROOT __Item{6}ᐸ119ᐳ[123]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,__Item123,PgSelectSingle124,PgClassExpression125,Access126,Access127,Access128,Access129,Access130,Access131 bucket6
    Bucket7("Bucket 7<br />(listItem)<br />ROOT __Item{7}ᐸ148ᐳ[152]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,__Item152,PgSelectSingle153,PgClassExpression154,Access170 bucket7
    Bucket8("Bucket 8<br />(listItem)<br />ROOT __Item{8}ᐸ170ᐳ[165]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,__Item165,PgSelectSingle166,PgClassExpression167,Access168,Access169 bucket8
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4 & Bucket5 & Bucket6 & Bucket7
    Bucket7 --> Bucket8
    end
