graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access21["Access[21∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access22["Access[22∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object23["Object[23∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    Connection24["Connection[24∈0]<br />ᐸ20ᐳ"]:::plan
    Connection42["Connection[42∈0]<br />ᐸ38ᐳ"]:::plan
    Connection60["Connection[60∈0]<br />ᐸ56ᐳ"]:::plan
    __InputStaticLeaf61["__InputStaticLeaf[61∈0]"]:::plan
    PgSelect62[["PgSelect[62∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First66["First[66∈0]"]:::plan
    PgSelectSingle67["PgSelectSingle[67∈0]<br />ᐸletterDescriptionsᐳ"]:::plan
    __InputStaticLeaf68["__InputStaticLeaf[68∈0]"]:::plan
    PgSelect69[["PgSelect[69∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First73["First[73∈0]"]:::plan
    PgSelectSingle74["PgSelectSingle[74∈0]<br />ᐸletterDescriptionsᐳ"]:::plan
    __InputStaticLeaf82["__InputStaticLeaf[82∈0]"]:::plan
    Connection92["Connection[92∈0]<br />ᐸ88ᐳ"]:::plan
    __InputStaticLeaf101["__InputStaticLeaf[101∈0]"]:::plan
    Connection110["Connection[110∈0]<br />ᐸ106ᐳ"]:::plan
    PgSelect111[["PgSelect[111∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item112>"__Item[112∈1]<br />ᐸ111ᐳ"]:::itemplan
    PgSelectSingle113["PgSelectSingle[113∈1]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression114["PgClassExpression[114∈1]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression115["PgClassExpression[115∈1]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression116["PgClassExpression[116∈1]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression117["PgClassExpression[117∈1]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgSelect118[["PgSelect[118∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item119>"__Item[119∈2]<br />ᐸ118ᐳ"]:::itemplan
    PgSelectSingle120["PgSelectSingle[120∈2]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression121["PgClassExpression[121∈2]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression122["PgClassExpression[122∈2]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression123["PgClassExpression[123∈2]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression124["PgClassExpression[124∈2]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgSelect125[["PgSelect[125∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item126>"__Item[126∈3]<br />ᐸ125ᐳ"]:::itemplan
    PgSelectSingle127["PgSelectSingle[127∈3]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression128["PgClassExpression[128∈3]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression129["PgClassExpression[129∈3]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression130["PgClassExpression[130∈3]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression131["PgClassExpression[131∈3]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgClassExpression132["PgClassExpression[132∈0]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression133["PgClassExpression[133∈0]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression134["PgClassExpression[134∈0]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression135["PgClassExpression[135∈0]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgClassExpression136["PgClassExpression[136∈0]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression137["PgClassExpression[137∈0]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression138["PgClassExpression[138∈0]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression139["PgClassExpression[139∈0]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgSelect140[["PgSelect[140∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item141>"__Item[141∈4]<br />ᐸ140ᐳ"]:::itemplan
    PgSelectSingle142["PgSelectSingle[142∈4]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression143["PgClassExpression[143∈4]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression144["PgClassExpression[144∈4]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression145["PgClassExpression[145∈4]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression146["PgClassExpression[146∈4]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    PgSelect147[["PgSelect[147∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item148>"__Item[148∈5]<br />ᐸ147ᐳ"]:::itemplan
    PgSelectSingle149["PgSelectSingle[149∈5]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression150["PgClassExpression[150∈5]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression151["PgClassExpression[151∈5]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression152["PgClassExpression[152∈5]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression153["PgClassExpression[153∈5]<br />ᐸ__letter_d...scription”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access21
    __Value3 --> Access22
    Access21 & Access22 --> Object23
    Object23 & __InputStaticLeaf61 --> PgSelect62
    PgSelect62 --> First66
    First66 --> PgSelectSingle67
    Object23 & __InputStaticLeaf68 --> PgSelect69
    PgSelect69 --> First73
    First73 --> PgSelectSingle74
    Object23 & Connection24 --> PgSelect111
    PgSelect111 ==> __Item112
    __Item112 --> PgSelectSingle113
    PgSelectSingle113 --> PgClassExpression114
    PgSelectSingle113 --> PgClassExpression115
    PgSelectSingle113 --> PgClassExpression116
    PgSelectSingle113 --> PgClassExpression117
    Object23 & Connection42 --> PgSelect118
    PgSelect118 ==> __Item119
    __Item119 --> PgSelectSingle120
    PgSelectSingle120 --> PgClassExpression121
    PgSelectSingle120 --> PgClassExpression122
    PgSelectSingle120 --> PgClassExpression123
    PgSelectSingle120 --> PgClassExpression124
    Object23 & Connection60 --> PgSelect125
    PgSelect125 ==> __Item126
    __Item126 --> PgSelectSingle127
    PgSelectSingle127 --> PgClassExpression128
    PgSelectSingle127 --> PgClassExpression129
    PgSelectSingle127 --> PgClassExpression130
    PgSelectSingle127 --> PgClassExpression131
    PgSelectSingle67 --> PgClassExpression132
    PgSelectSingle67 --> PgClassExpression133
    PgSelectSingle67 --> PgClassExpression134
    PgSelectSingle67 --> PgClassExpression135
    PgSelectSingle74 --> PgClassExpression136
    PgSelectSingle74 --> PgClassExpression137
    PgSelectSingle74 --> PgClassExpression138
    PgSelectSingle74 --> PgClassExpression139
    Object23 & __InputStaticLeaf82 & Connection92 --> PgSelect140
    PgSelect140 ==> __Item141
    __Item141 --> PgSelectSingle142
    PgSelectSingle142 --> PgClassExpression143
    PgSelectSingle142 --> PgClassExpression144
    PgSelectSingle142 --> PgClassExpression145
    PgSelectSingle142 --> PgClassExpression146
    Object23 & __InputStaticLeaf101 & Connection110 --> PgSelect147
    PgSelect147 ==> __Item148
    __Item148 --> PgSelectSingle149
    PgSelectSingle149 --> PgClassExpression150
    PgSelectSingle149 --> PgClassExpression151
    PgSelectSingle149 --> PgClassExpression152
    PgSelectSingle149 --> PgClassExpression153

    %% plan-to-path relationships

    subgraph "Buckets for queries/v4/enum_tables.queries"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,Access21,Access22,Object23,Connection24,Connection42,Connection60,__InputStaticLeaf61,PgSelect62,First66,PgSelectSingle67,__InputStaticLeaf68,PgSelect69,First73,PgSelectSingle74,__InputStaticLeaf82,Connection92,__InputStaticLeaf101,Connection110,PgSelect111,PgSelect118,PgSelect125,PgClassExpression132,PgClassExpression133,PgClassExpression134,PgClassExpression135,PgClassExpression136,PgClassExpression137,PgClassExpression138,PgClassExpression139,PgSelect140,PgSelect147 bucket0
    Bucket1("Bucket 1<br />(listItem)<br />Deps: 111<br /><br />ROOT __Item{1}ᐸ111ᐳ[112]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item112,PgSelectSingle113,PgClassExpression114,PgClassExpression115,PgClassExpression116,PgClassExpression117 bucket1
    Bucket2("Bucket 2<br />(listItem)<br />Deps: 118<br /><br />ROOT __Item{2}ᐸ118ᐳ[119]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item119,PgSelectSingle120,PgClassExpression121,PgClassExpression122,PgClassExpression123,PgClassExpression124 bucket2
    Bucket3("Bucket 3<br />(listItem)<br />Deps: 125<br /><br />ROOT __Item{3}ᐸ125ᐳ[126]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item126,PgSelectSingle127,PgClassExpression128,PgClassExpression129,PgClassExpression130,PgClassExpression131 bucket3
    Bucket4("Bucket 4<br />(listItem)<br />Deps: 140<br /><br />ROOT __Item{4}ᐸ140ᐳ[141]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item141,PgSelectSingle142,PgClassExpression143,PgClassExpression144,PgClassExpression145,PgClassExpression146 bucket4
    Bucket5("Bucket 5<br />(listItem)<br />Deps: 147<br /><br />ROOT __Item{5}ᐸ147ᐳ[148]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item148,PgSelectSingle149,PgClassExpression150,PgClassExpression151,PgClassExpression152,PgClassExpression153 bucket5
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4 & Bucket5
    end
