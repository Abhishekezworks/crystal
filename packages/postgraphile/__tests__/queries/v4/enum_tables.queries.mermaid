graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access21["Access[21∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access22["Access[22∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object23["Object[23∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    Connection24["Connection[24∈0]<br />ᐸ20ᐳ"]:::plan
    PgSelect25[["PgSelect[25∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item26>"__Item[26∈1]<br />ᐸ25ᐳ"]:::itemplan
    PgSelectSingle27["PgSelectSingle[27∈1]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression28["PgClassExpression[28∈1]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression29["PgClassExpression[29∈1]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression30["PgClassExpression[30∈1]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression31["PgClassExpression[31∈1]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    Connection49["Connection[49∈0]<br />ᐸ45ᐳ"]:::plan
    PgSelect50[["PgSelect[50∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item51>"__Item[51∈2]<br />ᐸ50ᐳ"]:::itemplan
    PgSelectSingle52["PgSelectSingle[52∈2]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression53["PgClassExpression[53∈2]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression54["PgClassExpression[54∈2]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression55["PgClassExpression[55∈2]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression56["PgClassExpression[56∈2]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    Connection74["Connection[74∈0]<br />ᐸ70ᐳ"]:::plan
    PgSelect75[["PgSelect[75∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item76>"__Item[76∈3]<br />ᐸ75ᐳ"]:::itemplan
    PgSelectSingle77["PgSelectSingle[77∈3]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression78["PgClassExpression[78∈3]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression79["PgClassExpression[79∈3]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression80["PgClassExpression[80∈3]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression81["PgClassExpression[81∈3]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    __InputStaticLeaf82["__InputStaticLeaf[82∈0]"]:::plan
    PgSelect83[["PgSelect[83∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First87["First[87∈0]"]:::plan
    PgSelectSingle88["PgSelectSingle[88∈0]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression89["PgClassExpression[89∈0]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression90["PgClassExpression[90∈0]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression91["PgClassExpression[91∈0]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression92["PgClassExpression[92∈0]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    __InputStaticLeaf93["__InputStaticLeaf[93∈0]"]:::plan
    PgSelect94[["PgSelect[94∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First98["First[98∈0]"]:::plan
    PgSelectSingle99["PgSelectSingle[99∈0]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression100["PgClassExpression[100∈0]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression101["PgClassExpression[101∈0]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression102["PgClassExpression[102∈0]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression103["PgClassExpression[103∈0]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    __InputStaticLeaf111["__InputStaticLeaf[111∈0]"]:::plan
    Connection121["Connection[121∈0]<br />ᐸ117ᐳ"]:::plan
    PgSelect122[["PgSelect[122∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item123>"__Item[123∈4]<br />ᐸ122ᐳ"]:::itemplan
    PgSelectSingle124["PgSelectSingle[124∈4]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression125["PgClassExpression[125∈4]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression126["PgClassExpression[126∈4]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression127["PgClassExpression[127∈4]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression128["PgClassExpression[128∈4]<br />ᐸ__letter_d...scription”ᐳ"]:::plan
    __InputStaticLeaf137["__InputStaticLeaf[137∈0]"]:::plan
    Connection146["Connection[146∈0]<br />ᐸ142ᐳ"]:::plan
    PgSelect147[["PgSelect[147∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item148>"__Item[148∈5]<br />ᐸ147ᐳ"]:::itemplan
    PgSelectSingle149["PgSelectSingle[149∈5]<br />ᐸletterDescriptionsᐳ"]:::plan
    PgClassExpression150["PgClassExpression[150∈5]<br />ᐸ__letter_d...ons__.”id”ᐳ"]:::plan
    PgClassExpression151["PgClassExpression[151∈5]<br />ᐸ__letter_d..._.”letter”ᐳ"]:::plan
    PgClassExpression152["PgClassExpression[152∈5]<br />ᐸ__letter_d..._via_view”ᐳ"]:::plan
    PgClassExpression153["PgClassExpression[153∈5]<br />ᐸ__letter_d...scription”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access21
    __Value3 --> Access22
    Access21 & Access22 --> Object23
    Object23 & Connection24 --> PgSelect25
    PgSelect25 ==> __Item26
    __Item26 --> PgSelectSingle27
    PgSelectSingle27 --> PgClassExpression28
    PgSelectSingle27 --> PgClassExpression29
    PgSelectSingle27 --> PgClassExpression30
    PgSelectSingle27 --> PgClassExpression31
    Object23 & Connection49 --> PgSelect50
    PgSelect50 ==> __Item51
    __Item51 --> PgSelectSingle52
    PgSelectSingle52 --> PgClassExpression53
    PgSelectSingle52 --> PgClassExpression54
    PgSelectSingle52 --> PgClassExpression55
    PgSelectSingle52 --> PgClassExpression56
    Object23 & Connection74 --> PgSelect75
    PgSelect75 ==> __Item76
    __Item76 --> PgSelectSingle77
    PgSelectSingle77 --> PgClassExpression78
    PgSelectSingle77 --> PgClassExpression79
    PgSelectSingle77 --> PgClassExpression80
    PgSelectSingle77 --> PgClassExpression81
    Object23 & __InputStaticLeaf82 --> PgSelect83
    PgSelect83 --> First87
    First87 --> PgSelectSingle88
    PgSelectSingle88 --> PgClassExpression89
    PgSelectSingle88 --> PgClassExpression90
    PgSelectSingle88 --> PgClassExpression91
    PgSelectSingle88 --> PgClassExpression92
    Object23 & __InputStaticLeaf93 --> PgSelect94
    PgSelect94 --> First98
    First98 --> PgSelectSingle99
    PgSelectSingle99 --> PgClassExpression100
    PgSelectSingle99 --> PgClassExpression101
    PgSelectSingle99 --> PgClassExpression102
    PgSelectSingle99 --> PgClassExpression103
    Object23 & __InputStaticLeaf111 & Connection121 --> PgSelect122
    PgSelect122 ==> __Item123
    __Item123 --> PgSelectSingle124
    PgSelectSingle124 --> PgClassExpression125
    PgSelectSingle124 --> PgClassExpression126
    PgSelectSingle124 --> PgClassExpression127
    PgSelectSingle124 --> PgClassExpression128
    Object23 & __InputStaticLeaf137 & Connection146 --> PgSelect147
    PgSelect147 ==> __Item148
    __Item148 --> PgSelectSingle149
    PgSelectSingle149 --> PgClassExpression150
    PgSelectSingle149 --> PgClassExpression151
    PgSelectSingle149 --> PgClassExpression152
    PgSelectSingle149 --> PgClassExpression153

    subgraph "Buckets for queries/v4/enum_tables.queries"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,Access21,Access22,Object23,Connection24,PgSelect25,Connection49,PgSelect50,Connection74,PgSelect75,__InputStaticLeaf82,PgSelect83,First87,PgSelectSingle88,PgClassExpression89,PgClassExpression90,PgClassExpression91,PgClassExpression92,__InputStaticLeaf93,PgSelect94,First98,PgSelectSingle99,PgClassExpression100,PgClassExpression101,PgClassExpression102,PgClassExpression103,__InputStaticLeaf111,Connection121,PgSelect122,__InputStaticLeaf137,Connection146,PgSelect147 bucket0
    Bucket1("Bucket 1<br />(listItem)<br />ROOT __Item{1}ᐸ25ᐳ[26]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item26,PgSelectSingle27,PgClassExpression28,PgClassExpression29,PgClassExpression30,PgClassExpression31 bucket1
    Bucket2("Bucket 2<br />(listItem)<br />ROOT __Item{2}ᐸ50ᐳ[51]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item51,PgSelectSingle52,PgClassExpression53,PgClassExpression54,PgClassExpression55,PgClassExpression56 bucket2
    Bucket3("Bucket 3<br />(listItem)<br />ROOT __Item{3}ᐸ75ᐳ[76]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item76,PgSelectSingle77,PgClassExpression78,PgClassExpression79,PgClassExpression80,PgClassExpression81 bucket3
    Bucket4("Bucket 4<br />(listItem)<br />ROOT __Item{4}ᐸ122ᐳ[123]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item123,PgSelectSingle124,PgClassExpression125,PgClassExpression126,PgClassExpression127,PgClassExpression128 bucket4
    Bucket5("Bucket 5<br />(listItem)<br />ROOT __Item{5}ᐸ147ᐳ[148]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item148,PgSelectSingle149,PgClassExpression150,PgClassExpression151,PgClassExpression152,PgClassExpression153 bucket5
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4 & Bucket5
    end
