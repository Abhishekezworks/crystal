%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 12, 13, 412, 25<br /><br />ROOT Connectionᐸ9ᐳ[13]<br />1: PgSelect[15]<br />2: PgSelectRows[16]"):::bucket
    Bucket2("Bucket 2 (listItem)<br />Deps: 12, 25<br /><br />ROOT __Item{2}ᐸ16ᐳ[17]"):::bucket
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 18, 12, 25<br /><br />ROOT PgSelectSingle{2}ᐸpeopleᐳ[18]<br />1: <br />ᐳ: 19, 20<br />2: 26, 31, 32<br />ᐳ: 401, 402, 411, 27<br />3: PgUnionAllSingle[29]<br />ᐳ: PgClassExpression[30]"):::bucket
    Bucket4("Bucket 4 (listItem)<br />Deps: 31, 12<br /><br />ROOT __Item{4}ᐸ402ᐳ[34]"):::bucket
    Bucket5("Bucket 5 (listItem)<br />Deps: 12<br /><br />ROOT __Item{5}ᐸ411ᐳ[37]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 35, 69, 12<br /><br />ROOT PgUnionAllSingle{4}[35]"):::bucket
    Bucket7("Bucket 7 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 39, 12, 38<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: 41, 95, 120<br />ᐳ: Access[43]<br />2: PgSelect[45], PgSelect[61]<br />3: PgSelectRows[54], PgSelectRows[66]<br />ᐳ: 53, 56, 65, 68, 71, 72, 73, 74, 75, 96, 97, 98, 99, 100<br />4: 76, 88, 101, 253, 259, 294, 300<br />ᐳ: 405, 406, 407, 408, 409, 410, 81, 106, 254, 295<br />5: 84, 85, 109, 110, 257, 298<br />ᐳ: 151, 184, 258, 299, 403, 404"):::bucket
    Bucket8("Bucket 8 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 121, 12, 35<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: JSONParse[123]<br />ᐳ: Access[125]<br />2: PgSelect[127], PgSelect[143]<br />3: PgSelectRows[136], PgSelectRows[148]<br />ᐳ: 135, 138, 147, 150, 217, 218"):::bucket
    Bucket9("Bucket 9 (polymorphic)<br />Organization,Person<br />Deps: 151, 12, 84<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson<br /><br />1: JSONParse[153]<br />ᐳ: Access[155]<br />2: PgSelect[157], PgSelect[173]<br />3: PgSelectRows[166], PgSelectRows[178]<br />ᐳ: 165, 168, 177, 180, 219, 220, 221, 222"):::bucket
    Bucket10("Bucket 10 (listItem)<br />Deps: 12<br /><br />ROOT __Item{10}ᐸ403ᐳ[182]"):::bucket
    Bucket11("Bucket 11 (polymorphic)<br />Organization,Person<br />Deps: 184, 12, 109<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson<br /><br />1: JSONParse[186]<br />ᐳ: Access[188]<br />2: PgSelect[190], PgSelect[206]<br />3: PgSelectRows[199], PgSelectRows[211]<br />ᐳ: 198, 201, 210, 213, 260, 261, 262, 263"):::bucket
    Bucket12("Bucket 12 (listItem)<br />Deps: 12<br /><br />ROOT __Item{12}ᐸ404ᐳ[215]"):::bucket
    Bucket13("Bucket 13 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 223, 12, 183<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[225]<br />ᐳ: Access[227]<br />2: PgSelect[229], PgSelect[245]<br />3: PgSelectRows[238], PgSelectRows[250]<br />ᐳ: 237, 240, 249, 252, 301, 302, 303, 304, 305, 306, 307, 308"):::bucket
    Bucket14("Bucket 14 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 264, 12, 216<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[266]<br />ᐳ: Access[268]<br />2: PgSelect[270], PgSelect[286]<br />3: PgSelectRows[279], PgSelectRows[291]<br />ᐳ: 278, 281, 290, 293, 312, 313, 314, 315, 316, 317, 318, 319"):::bucket
    Bucket15("Bucket 15 (listItem)<br />Deps: 259, 12<br /><br />ROOT __Item{15}ᐸ406ᐳ[310]"):::bucket
    Bucket16("Bucket 16 (listItem)<br />Deps: 300, 12<br /><br />ROOT __Item{16}ᐸ409ᐳ[321]"):::bucket
    Bucket17("Bucket 17 (nullableBoundary)<br />Deps: 311, 323, 12<br /><br />ROOT PgUnionAllSingle{15}[311]"):::bucket
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 322, 326, 12<br /><br />ROOT PgUnionAllSingle{16}[322]"):::bucket
    Bucket19("Bucket 19 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 329, 12, 311<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[331]<br />ᐳ: Access[333]<br />2: PgSelect[335], PgSelect[351]<br />3: PgSelectRows[344], PgSelectRows[356]<br />ᐳ: 343, 346, 355, 358, 389, 390, 391, 392, 393, 394"):::bucket
    Bucket20("Bucket 20 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 359, 12, 322<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[361]<br />ᐳ: Access[363]<br />2: PgSelect[365], PgSelect[381]<br />3: PgSelectRows[374], PgSelectRows[386]<br />ᐳ: 373, 376, 385, 388, 395, 396, 397, 398, 399, 400"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5
    Bucket4 --> Bucket6
    Bucket5 --> Bucket7
    Bucket6 --> Bucket8
    Bucket7 --> Bucket9 & Bucket10 & Bucket11 & Bucket12 & Bucket15 & Bucket16
    Bucket10 --> Bucket13
    Bucket12 --> Bucket14
    Bucket15 --> Bucket17
    Bucket16 --> Bucket18
    Bucket17 --> Bucket19
    Bucket18 --> Bucket20

    %% plan dependencies
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant412{{"Constant[412∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant412 --> Connection13
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection25{{"Connection[25∈0] ➊<br />ᐸ21ᐳ"}}:::plan
    PgSelect15[["PgSelect[15∈1] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object12 & Connection13 & Constant412 --> PgSelect15
    PgSelectRows16[["PgSelectRows[16∈1] ➊"]]:::plan
    PgSelect15 --> PgSelectRows16
    __Item17[/"__Item[17∈2]<br />ᐸ16ᐳ"\]:::itemplan
    PgSelectRows16 ==> __Item17
    PgSelectSingle18{{"PgSelectSingle[18∈2]<br />ᐸpeopleᐳ"}}:::plan
    __Item17 --> PgSelectSingle18
    PgUnionAll26[["PgUnionAll[26∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    PgClassExpression19{{"PgClassExpression[19∈3]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll26
    PgUnionAll31[["PgUnionAll[31∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll31
    PgUnionAll32[["PgUnionAll[32∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll32
    PgSelectSingle18 --> PgClassExpression19
    PgClassExpression20{{"PgClassExpression[20∈3]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle18 --> PgClassExpression20
    First27{{"First[27∈3]"}}:::plan
    Access401{{"Access[401∈3]<br />ᐸ26.itemsᐳ"}}:::plan
    Access401 --> First27
    PgUnionAllSingle29["PgUnionAllSingle[29∈3]"]:::plan
    First27 --> PgUnionAllSingle29
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle29 --> PgClassExpression30
    PgUnionAll26 --> Access401
    Access402{{"Access[402∈3]<br />ᐸ31.itemsᐳ"}}:::plan
    PgUnionAll31 --> Access402
    Access411{{"Access[411∈3]<br />ᐸ32.itemsᐳ"}}:::plan
    PgUnionAll32 --> Access411
    __Item34[/"__Item[34∈4]<br />ᐸ402ᐳ"\]:::itemplan
    Access402 ==> __Item34
    PgUnionAllSingle35["PgUnionAllSingle[35∈4]"]:::plan
    __Item34 --> PgUnionAllSingle35
    Access69{{"Access[69∈4]<br />ᐸ31.cursorDetailsᐳ"}}:::plan
    PgUnionAll31 --> Access69
    PgCursor70{{"PgCursor[70∈6]"}}:::plan
    PgUnionAllSingle35 & Access69 --> PgCursor70
    Access121{{"Access[121∈6]<br />ᐸ35.1ᐳ"}}:::plan
    PgUnionAllSingle35 --> Access121
    PgSelect127[["PgSelect[127∈8]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access125{{"Access[125∈8]^<br />ᐸ123.0ᐳ"}}:::plan
    Object12 & Access125 --> PgSelect127
    PgSelect143[["PgSelect[143∈8]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access125 --> PgSelect143
    JSONParse123[["JSONParse[123∈8]<br />ᐸ121ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access121 --> JSONParse123
    JSONParse123 --> Access125
    First135{{"First[135∈8]^"}}:::plan
    PgSelectRows136[["PgSelectRows[136∈8]^"]]:::plan
    PgSelectRows136 --> First135
    PgSelect127 --> PgSelectRows136
    PgSelectSingle138{{"PgSelectSingle[138∈8]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First135 --> PgSelectSingle138
    First147{{"First[147∈8]^"}}:::plan
    PgSelectRows148[["PgSelectRows[148∈8]^"]]:::plan
    PgSelectRows148 --> First147
    PgSelect143 --> PgSelectRows148
    PgSelectSingle150{{"PgSelectSingle[150∈8]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First147 --> PgSelectSingle150
    PgClassExpression217{{"PgClassExpression[217∈8]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle138 --> PgClassExpression217
    PgClassExpression218{{"PgClassExpression[218∈8]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle150 --> PgClassExpression218
    __Item37[/"__Item[37∈5]<br />ᐸ411ᐳ"\]:::itemplan
    Access411 ==> __Item37
    PgUnionAllSingle38["PgUnionAllSingle[38∈5]"]:::plan
    __Item37 --> PgUnionAllSingle38
    Access39{{"Access[39∈5]<br />ᐸ38.1ᐳ"}}:::plan
    PgUnionAllSingle38 --> Access39
    PgUnionAll76[["PgUnionAll[76∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression74{{"PgClassExpression[74∈7]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression75{{"PgClassExpression[75∈7]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression74 & PgClassExpression75 --> PgUnionAll76
    PgUnionAll101[["PgUnionAll[101∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression99{{"PgClassExpression[99∈7]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression100{{"PgClassExpression[100∈7]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression99 & PgClassExpression100 --> PgUnionAll101
    PgUnionAll253[["PgUnionAll[253∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression72{{"PgClassExpression[72∈7]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection95{{"Connection[95∈7] ➊<br />ᐸ90ᐳ<br />ᐳAwsApplication"}}:::plan
    Object12 & PgClassExpression72 & Connection95 --> PgUnionAll253
    PgUnionAll259[["PgUnionAll[259∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression72 & Connection95 --> PgUnionAll259
    PgUnionAll294[["PgUnionAll[294∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression97{{"PgClassExpression[97∈7]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection120{{"Connection[120∈7] ➊<br />ᐸ115ᐳ<br />ᐳGcpApplication"}}:::plan
    Object12 & PgClassExpression97 & Connection120 --> PgUnionAll294
    PgUnionAll300[["PgUnionAll[300∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression97 & Connection120 --> PgUnionAll300
    PgSelect45[["PgSelect[45∈7]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access43{{"Access[43∈7]^<br />ᐸ41.0ᐳ"}}:::plan
    Object12 & Access43 --> PgSelect45
    PgSelect61[["PgSelect[61∈7]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access43 --> PgSelect61
    PgUnionAll85[["PgUnionAll[85∈7]<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />ᐳAwsApplication"]]:::plan
    __DataOnly88["__DataOnly[88∈7]<br />ᐸ72,97ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]:::plan
    Object12 & __DataOnly88 --> PgUnionAll85
    PgClassExpression72 -->|"trapError;trapInhibited"| __DataOnly88
    PgClassExpression97 --> __DataOnly88
    PgUnionAll110[["PgUnionAll[110∈7]<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & __DataOnly88 --> PgUnionAll110
    JSONParse41[["JSONParse[41∈7]<br />ᐸ39ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access39 --> JSONParse41
    JSONParse41 --> Access43
    First53{{"First[53∈7]^"}}:::plan
    PgSelectRows54[["PgSelectRows[54∈7]^"]]:::plan
    PgSelectRows54 --> First53
    PgSelect45 --> PgSelectRows54
    PgSelectSingle56{{"PgSelectSingle[56∈7]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First53 --> PgSelectSingle56
    First65{{"First[65∈7]^"}}:::plan
    PgSelectRows66[["PgSelectRows[66∈7]^"]]:::plan
    PgSelectRows66 --> First65
    PgSelect61 --> PgSelectRows66
    PgSelectSingle68{{"PgSelectSingle[68∈7]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First65 --> PgSelectSingle68
    PgClassExpression71{{"PgClassExpression[71∈7]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle56 --> PgClassExpression71
    PgSelectSingle56 --> PgClassExpression72
    PgClassExpression73{{"PgClassExpression[73∈7]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle56 --> PgClassExpression73
    PgSelectSingle56 --> PgClassExpression74
    PgSelectSingle56 --> PgClassExpression75
    First81{{"First[81∈7]^"}}:::plan
    Access407{{"Access[407∈7]^<br />ᐸ76.itemsᐳ"}}:::plan
    Access407 --> First81
    PgUnionAllSingle84["PgUnionAllSingle[84∈7]^"]:::plan
    First81 --> PgUnionAllSingle84
    PgClassExpression96{{"PgClassExpression[96∈7]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression96
    PgSelectSingle68 --> PgClassExpression97
    PgClassExpression98{{"PgClassExpression[98∈7]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression98
    PgSelectSingle68 --> PgClassExpression99
    PgSelectSingle68 --> PgClassExpression100
    First106{{"First[106∈7]^"}}:::plan
    Access410{{"Access[410∈7]^<br />ᐸ101.itemsᐳ"}}:::plan
    Access410 --> First106
    PgUnionAllSingle109["PgUnionAllSingle[109∈7]^"]:::plan
    First106 --> PgUnionAllSingle109
    Access151{{"Access[151∈7]^<br />ᐸ84.1ᐳ"}}:::plan
    PgUnionAllSingle84 --> Access151
    Access184{{"Access[184∈7]^<br />ᐸ109.1ᐳ"}}:::plan
    PgUnionAllSingle109 --> Access184
    First254{{"First[254∈7]^"}}:::plan
    Access405{{"Access[405∈7]^<br />ᐸ253.itemsᐳ"}}:::plan
    Access405 --> First254
    PgUnionAllSingle257["PgUnionAllSingle[257∈7]^"]:::plan
    First254 --> PgUnionAllSingle257
    PgClassExpression258{{"PgClassExpression[258∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle257 --> PgClassExpression258
    First295{{"First[295∈7]^"}}:::plan
    Access408{{"Access[408∈7]^<br />ᐸ294.itemsᐳ"}}:::plan
    Access408 --> First295
    PgUnionAllSingle298["PgUnionAllSingle[298∈7]^"]:::plan
    First295 --> PgUnionAllSingle298
    PgClassExpression299{{"PgClassExpression[299∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle298 --> PgClassExpression299
    Access403{{"Access[403∈7]^<br />ᐸ85.itemsᐳ"}}:::plan
    PgUnionAll85 --> Access403
    Access404{{"Access[404∈7]^<br />ᐸ110.itemsᐳ"}}:::plan
    PgUnionAll110 --> Access404
    PgUnionAll253 --> Access405
    Access406{{"Access[406∈7]^<br />ᐸ259.itemsᐳ"}}:::plan
    PgUnionAll259 --> Access406
    PgUnionAll76 --> Access407
    PgUnionAll294 --> Access408
    Access409{{"Access[409∈7]^<br />ᐸ300.itemsᐳ"}}:::plan
    PgUnionAll300 --> Access409
    PgUnionAll101 --> Access410
    PgSelect157[["PgSelect[157∈9]<br />ᐸorganizationsᐳ<br />ᐳAwsApplicationᐳOrganization"]]:::plan
    Access155{{"Access[155∈9]^<br />ᐸ153.0ᐳ"}}:::plan
    Object12 & Access155 --> PgSelect157
    PgSelect173[["PgSelect[173∈9]<br />ᐸpeopleᐳ<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Object12 & Access155 --> PgSelect173
    JSONParse153[["JSONParse[153∈9]<br />ᐸ151ᐳ<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Access151 --> JSONParse153
    JSONParse153 --> Access155
    First165{{"First[165∈9]^"}}:::plan
    PgSelectRows166[["PgSelectRows[166∈9]^"]]:::plan
    PgSelectRows166 --> First165
    PgSelect157 --> PgSelectRows166
    PgSelectSingle168{{"PgSelectSingle[168∈9]^<br />ᐸorganizationsᐳ"}}:::plan
    First165 --> PgSelectSingle168
    First177{{"First[177∈9]^"}}:::plan
    PgSelectRows178[["PgSelectRows[178∈9]^"]]:::plan
    PgSelectRows178 --> First177
    PgSelect173 --> PgSelectRows178
    PgSelectSingle180{{"PgSelectSingle[180∈9]^<br />ᐸpeopleᐳ"}}:::plan
    First177 --> PgSelectSingle180
    PgClassExpression219{{"PgClassExpression[219∈9]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle168 --> PgClassExpression219
    PgClassExpression220{{"PgClassExpression[220∈9]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle168 --> PgClassExpression220
    PgClassExpression221{{"PgClassExpression[221∈9]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle180 --> PgClassExpression221
    PgClassExpression222{{"PgClassExpression[222∈9]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle180 --> PgClassExpression222
    __Item182[/"__Item[182∈10]<br />ᐸ403ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access403 ==> __Item182
    PgUnionAllSingle183["PgUnionAllSingle[183∈10]^"]:::plan
    __Item182 --> PgUnionAllSingle183
    Access223{{"Access[223∈10]^<br />ᐸ183.1ᐳ"}}:::plan
    PgUnionAllSingle183 --> Access223
    PgSelect229[["PgSelect[229∈13]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access227{{"Access[227∈13]^<br />ᐸ225.0ᐳ"}}:::plan
    Object12 & Access227 --> PgSelect229
    PgSelect245[["PgSelect[245∈13]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access227 --> PgSelect245
    JSONParse225[["JSONParse[225∈13]<br />ᐸ223ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access223 --> JSONParse225
    JSONParse225 --> Access227
    First237{{"First[237∈13]^"}}:::plan
    PgSelectRows238[["PgSelectRows[238∈13]^"]]:::plan
    PgSelectRows238 --> First237
    PgSelect229 --> PgSelectRows238
    PgSelectSingle240{{"PgSelectSingle[240∈13]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First237 --> PgSelectSingle240
    First249{{"First[249∈13]^"}}:::plan
    PgSelectRows250[["PgSelectRows[250∈13]^"]]:::plan
    PgSelectRows250 --> First249
    PgSelect245 --> PgSelectRows250
    PgSelectSingle252{{"PgSelectSingle[252∈13]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First249 --> PgSelectSingle252
    PgClassExpression301{{"PgClassExpression[301∈13]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle240 --> PgClassExpression301
    PgClassExpression302{{"PgClassExpression[302∈13]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle240 --> PgClassExpression302
    PgClassExpression303{{"PgClassExpression[303∈13]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle240 --> PgClassExpression303
    PgClassExpression304{{"PgClassExpression[304∈13]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle240 --> PgClassExpression304
    PgClassExpression305{{"PgClassExpression[305∈13]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle252 --> PgClassExpression305
    PgClassExpression306{{"PgClassExpression[306∈13]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle252 --> PgClassExpression306
    PgClassExpression307{{"PgClassExpression[307∈13]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle252 --> PgClassExpression307
    PgClassExpression308{{"PgClassExpression[308∈13]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle252 --> PgClassExpression308
    PgSelect190[["PgSelect[190∈11]<br />ᐸorganizationsᐳ<br />ᐳGcpApplicationᐳOrganization"]]:::plan
    Access188{{"Access[188∈11]^<br />ᐸ186.0ᐳ"}}:::plan
    Object12 & Access188 --> PgSelect190
    PgSelect206[["PgSelect[206∈11]<br />ᐸpeopleᐳ<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Object12 & Access188 --> PgSelect206
    JSONParse186[["JSONParse[186∈11]<br />ᐸ184ᐳ<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Access184 --> JSONParse186
    JSONParse186 --> Access188
    First198{{"First[198∈11]^"}}:::plan
    PgSelectRows199[["PgSelectRows[199∈11]^"]]:::plan
    PgSelectRows199 --> First198
    PgSelect190 --> PgSelectRows199
    PgSelectSingle201{{"PgSelectSingle[201∈11]^<br />ᐸorganizationsᐳ"}}:::plan
    First198 --> PgSelectSingle201
    First210{{"First[210∈11]^"}}:::plan
    PgSelectRows211[["PgSelectRows[211∈11]^"]]:::plan
    PgSelectRows211 --> First210
    PgSelect206 --> PgSelectRows211
    PgSelectSingle213{{"PgSelectSingle[213∈11]^<br />ᐸpeopleᐳ"}}:::plan
    First210 --> PgSelectSingle213
    PgClassExpression260{{"PgClassExpression[260∈11]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle201 --> PgClassExpression260
    PgClassExpression261{{"PgClassExpression[261∈11]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle201 --> PgClassExpression261
    PgClassExpression262{{"PgClassExpression[262∈11]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle213 --> PgClassExpression262
    PgClassExpression263{{"PgClassExpression[263∈11]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle213 --> PgClassExpression263
    __Item215[/"__Item[215∈12]<br />ᐸ404ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access404 ==> __Item215
    PgUnionAllSingle216["PgUnionAllSingle[216∈12]^"]:::plan
    __Item215 --> PgUnionAllSingle216
    Access264{{"Access[264∈12]^<br />ᐸ216.1ᐳ"}}:::plan
    PgUnionAllSingle216 --> Access264
    PgSelect270[["PgSelect[270∈14]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access268{{"Access[268∈14]^<br />ᐸ266.0ᐳ"}}:::plan
    Object12 & Access268 --> PgSelect270
    PgSelect286[["PgSelect[286∈14]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access268 --> PgSelect286
    JSONParse266[["JSONParse[266∈14]<br />ᐸ264ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access264 --> JSONParse266
    JSONParse266 --> Access268
    First278{{"First[278∈14]^"}}:::plan
    PgSelectRows279[["PgSelectRows[279∈14]^"]]:::plan
    PgSelectRows279 --> First278
    PgSelect270 --> PgSelectRows279
    PgSelectSingle281{{"PgSelectSingle[281∈14]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First278 --> PgSelectSingle281
    First290{{"First[290∈14]^"}}:::plan
    PgSelectRows291[["PgSelectRows[291∈14]^"]]:::plan
    PgSelectRows291 --> First290
    PgSelect286 --> PgSelectRows291
    PgSelectSingle293{{"PgSelectSingle[293∈14]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First290 --> PgSelectSingle293
    PgClassExpression312{{"PgClassExpression[312∈14]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle281 --> PgClassExpression312
    PgClassExpression313{{"PgClassExpression[313∈14]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle281 --> PgClassExpression313
    PgClassExpression314{{"PgClassExpression[314∈14]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle281 --> PgClassExpression314
    PgClassExpression315{{"PgClassExpression[315∈14]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle281 --> PgClassExpression315
    PgClassExpression316{{"PgClassExpression[316∈14]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle293 --> PgClassExpression316
    PgClassExpression317{{"PgClassExpression[317∈14]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle293 --> PgClassExpression317
    PgClassExpression318{{"PgClassExpression[318∈14]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle293 --> PgClassExpression318
    PgClassExpression319{{"PgClassExpression[319∈14]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle293 --> PgClassExpression319
    __Item310[/"__Item[310∈15]<br />ᐸ406ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access406 ==> __Item310
    PgUnionAllSingle311["PgUnionAllSingle[311∈15]^"]:::plan
    __Item310 --> PgUnionAllSingle311
    Access323{{"Access[323∈15]<br />ᐸ259.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAll259 --> Access323
    PgCursor325{{"PgCursor[325∈17]<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle311 & Access323 --> PgCursor325
    Access329{{"Access[329∈17]<br />ᐸ311.1ᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle311 --> Access329
    PgSelect335[["PgSelect[335∈19]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access333{{"Access[333∈19]^<br />ᐸ331.0ᐳ"}}:::plan
    Object12 & Access333 --> PgSelect335
    PgSelect351[["PgSelect[351∈19]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access333 --> PgSelect351
    JSONParse331[["JSONParse[331∈19]<br />ᐸ329ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access329 --> JSONParse331
    JSONParse331 --> Access333
    First343{{"First[343∈19]^"}}:::plan
    PgSelectRows344[["PgSelectRows[344∈19]^"]]:::plan
    PgSelectRows344 --> First343
    PgSelect335 --> PgSelectRows344
    PgSelectSingle346{{"PgSelectSingle[346∈19]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First343 --> PgSelectSingle346
    First355{{"First[355∈19]^"}}:::plan
    PgSelectRows356[["PgSelectRows[356∈19]^"]]:::plan
    PgSelectRows356 --> First355
    PgSelect351 --> PgSelectRows356
    PgSelectSingle358{{"PgSelectSingle[358∈19]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First355 --> PgSelectSingle358
    PgClassExpression389{{"PgClassExpression[389∈19]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression389
    PgClassExpression390{{"PgClassExpression[390∈19]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression390
    PgClassExpression391{{"PgClassExpression[391∈19]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression391
    PgClassExpression392{{"PgClassExpression[392∈19]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle358 --> PgClassExpression392
    PgClassExpression393{{"PgClassExpression[393∈19]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle358 --> PgClassExpression393
    PgClassExpression394{{"PgClassExpression[394∈19]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle358 --> PgClassExpression394
    __Item321[/"__Item[321∈16]<br />ᐸ409ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access409 ==> __Item321
    PgUnionAllSingle322["PgUnionAllSingle[322∈16]^"]:::plan
    __Item321 --> PgUnionAllSingle322
    Access326{{"Access[326∈16]<br />ᐸ300.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAll300 --> Access326
    PgCursor328{{"PgCursor[328∈18]<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle322 & Access326 --> PgCursor328
    Access359{{"Access[359∈18]<br />ᐸ322.1ᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle322 --> Access359
    PgSelect365[["PgSelect[365∈20]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access363{{"Access[363∈20]^<br />ᐸ361.0ᐳ"}}:::plan
    Object12 & Access363 --> PgSelect365
    PgSelect381[["PgSelect[381∈20]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access363 --> PgSelect381
    JSONParse361[["JSONParse[361∈20]<br />ᐸ359ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access359 --> JSONParse361
    JSONParse361 --> Access363
    First373{{"First[373∈20]^"}}:::plan
    PgSelectRows374[["PgSelectRows[374∈20]^"]]:::plan
    PgSelectRows374 --> First373
    PgSelect365 --> PgSelectRows374
    PgSelectSingle376{{"PgSelectSingle[376∈20]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First373 --> PgSelectSingle376
    First385{{"First[385∈20]^"}}:::plan
    PgSelectRows386[["PgSelectRows[386∈20]^"]]:::plan
    PgSelectRows386 --> First385
    PgSelect381 --> PgSelectRows386
    PgSelectSingle388{{"PgSelectSingle[388∈20]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First385 --> PgSelectSingle388
    PgClassExpression395{{"PgClassExpression[395∈20]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression395
    PgClassExpression396{{"PgClassExpression[396∈20]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression396
    PgClassExpression397{{"PgClassExpression[397∈20]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression397
    PgClassExpression398{{"PgClassExpression[398∈20]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle388 --> PgClassExpression398
    PgClassExpression399{{"PgClassExpression[399∈20]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle388 --> PgClassExpression399
    PgClassExpression400{{"PgClassExpression[400∈20]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle388 --> PgClassExpression400

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,Connection25,Constant412 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect15,PgSelectRows16 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item17,PgSelectSingle18 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression19,PgClassExpression20,PgUnionAll26,First27,PgUnionAllSingle29,PgClassExpression30,PgUnionAll31,PgUnionAll32,Access401,Access402,Access411 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item34,PgUnionAllSingle35,Access69 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item37,PgUnionAllSingle38,Access39 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgCursor70,Access121 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7,JSONParse41,Access43,PgSelect45,First53,PgSelectRows54,PgSelectSingle56,PgSelect61,First65,PgSelectRows66,PgSelectSingle68,PgClassExpression71,PgClassExpression72,PgClassExpression73,PgClassExpression74,PgClassExpression75,PgUnionAll76,First81,PgUnionAllSingle84,PgUnionAll85,__DataOnly88,Connection95,PgClassExpression96,PgClassExpression97,PgClassExpression98,PgClassExpression99,PgClassExpression100,PgUnionAll101,First106,PgUnionAllSingle109,PgUnionAll110,Connection120,Access151,Access184,PgUnionAll253,First254,PgUnionAllSingle257,PgClassExpression258,PgUnionAll259,PgUnionAll294,First295,PgUnionAllSingle298,PgClassExpression299,PgUnionAll300,Access403,Access404,Access405,Access406,Access407,Access408,Access409,Access410 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,JSONParse123,Access125,PgSelect127,First135,PgSelectRows136,PgSelectSingle138,PgSelect143,First147,PgSelectRows148,PgSelectSingle150,PgClassExpression217,PgClassExpression218 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,JSONParse153,Access155,PgSelect157,First165,PgSelectRows166,PgSelectSingle168,PgSelect173,First177,PgSelectRows178,PgSelectSingle180,PgClassExpression219,PgClassExpression220,PgClassExpression221,PgClassExpression222 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10,__Item182,PgUnionAllSingle183,Access223 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,JSONParse186,Access188,PgSelect190,First198,PgSelectRows199,PgSelectSingle201,PgSelect206,First210,PgSelectRows211,PgSelectSingle213,PgClassExpression260,PgClassExpression261,PgClassExpression262,PgClassExpression263 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,__Item215,PgUnionAllSingle216,Access264 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,JSONParse225,Access227,PgSelect229,First237,PgSelectRows238,PgSelectSingle240,PgSelect245,First249,PgSelectRows250,PgSelectSingle252,PgClassExpression301,PgClassExpression302,PgClassExpression303,PgClassExpression304,PgClassExpression305,PgClassExpression306,PgClassExpression307,PgClassExpression308 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14,JSONParse266,Access268,PgSelect270,First278,PgSelectRows279,PgSelectSingle281,PgSelect286,First290,PgSelectRows291,PgSelectSingle293,PgClassExpression312,PgClassExpression313,PgClassExpression314,PgClassExpression315,PgClassExpression316,PgClassExpression317,PgClassExpression318,PgClassExpression319 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Item310,PgUnionAllSingle311,Access323 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item321,PgUnionAllSingle322,Access326 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,PgCursor325,Access329 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgCursor328,Access359 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,JSONParse331,Access333,PgSelect335,First343,PgSelectRows344,PgSelectSingle346,PgSelect351,First355,PgSelectRows356,PgSelectSingle358,PgClassExpression389,PgClassExpression390,PgClassExpression391,PgClassExpression392,PgClassExpression393,PgClassExpression394 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20,JSONParse361,Access363,PgSelect365,First373,PgSelectRows374,PgSelectSingle376,PgSelect381,First385,PgSelectRows386,PgSelectSingle388,PgClassExpression395,PgClassExpression396,PgClassExpression397,PgClassExpression398,PgClassExpression399,PgClassExpression400 bucket20

