%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 13, 15, 398, 31<br /><br />ROOT Connectionᐸ9ᐳ[15]<br />1: PgSelect[17]<br />2: PgSelectRows[19]"):::bucket
    Bucket2("Bucket 2 (listItem)<br />Deps: 13, 31<br /><br />ROOT __Item{2}ᐸ19ᐳ[20]"):::bucket
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 21, 13, 31<br /><br />ROOT PgSelectSingle{2}ᐸpeopleᐳ[21]<br />1: <br />ᐳ: 22, 23<br />2: 32, 38, 39<br />ᐳ: 387, 388, 397, 33<br />3: PgUnionAllSingle[36]<br />ᐳ: PgClassExpression[37]"):::bucket
    Bucket4("Bucket 4 (listItem)<br />Deps: 38, 13<br /><br />ROOT __Item{4}ᐸ388ᐳ[41]"):::bucket
    Bucket5("Bucket 5 (listItem)<br />Deps: 13<br /><br />ROOT __Item{5}ᐸ397ᐳ[44]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 42, 74, 13<br /><br />ROOT PgUnionAllSingle{4}[42]"):::bucket
    Bucket7("Bucket 7 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 46, 13, 45<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: 48, 98, 120<br />ᐳ: Access[50]<br />2: PgSelect[52], PgSelect[66]<br />3: PgSelectRows[60], PgSelectRows[71]<br />ᐳ: 59, 62, 70, 73, 77, 78, 79, 80, 81, 99, 100, 101, 102, 103<br />4: 82, 91, 104, 113, 245, 251, 284, 290<br />ᐳ: 389, 390, 391, 392, 393, 394, 395, 396, 87, 109, 246, 285<br />5: 90, 112, 249, 288<br />ᐳ: 149, 180, 250, 289"):::bucket
    Bucket8("Bucket 8 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 121, 13, 42<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: JSONParse[123]<br />ᐳ: Access[125]<br />2: PgSelect[127], PgSelect[141]<br />3: PgSelectRows[135], PgSelectRows[146]<br />ᐳ: 134, 137, 145, 148, 211, 212"):::bucket
    Bucket9("Bucket 9 (polymorphic)<br />Organization,Person<br />Deps: 149, 13, 90<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson<br /><br />1: JSONParse[151]<br />ᐳ: Access[153]<br />2: PgSelect[155], PgSelect[169]<br />3: PgSelectRows[163], PgSelectRows[174]<br />ᐳ: 162, 165, 173, 176, 213, 214, 215, 216"):::bucket
    Bucket10("Bucket 10 (listItem)<br />Deps: 13<br /><br />ROOT __Item{10}ᐸ389ᐳ[178]"):::bucket
    Bucket11("Bucket 11 (polymorphic)<br />Organization,Person<br />Deps: 180, 13, 112<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson<br /><br />1: JSONParse[182]<br />ᐳ: Access[184]<br />2: PgSelect[186], PgSelect[200]<br />3: PgSelectRows[194], PgSelectRows[205]<br />ᐳ: 193, 196, 204, 207, 252, 253, 254, 255"):::bucket
    Bucket12("Bucket 12 (listItem)<br />Deps: 13<br /><br />ROOT __Item{12}ᐸ393ᐳ[209]"):::bucket
    Bucket13("Bucket 13 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 217, 13, 179<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[219]<br />ᐳ: Access[221]<br />2: PgSelect[223], PgSelect[237]<br />3: PgSelectRows[231], PgSelectRows[242]<br />ᐳ: 230, 233, 241, 244, 291, 292, 293, 294, 295, 296, 297, 298"):::bucket
    Bucket14("Bucket 14 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 256, 13, 210<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[258]<br />ᐳ: Access[260]<br />2: PgSelect[262], PgSelect[276]<br />3: PgSelectRows[270], PgSelectRows[281]<br />ᐳ: 269, 272, 280, 283, 302, 303, 304, 305, 306, 307, 308, 309"):::bucket
    Bucket15("Bucket 15 (listItem)<br />Deps: 251, 13<br /><br />ROOT __Item{15}ᐸ391ᐳ[300]"):::bucket
    Bucket16("Bucket 16 (listItem)<br />Deps: 290, 13<br /><br />ROOT __Item{16}ᐸ395ᐳ[311]"):::bucket
    Bucket17("Bucket 17 (nullableBoundary)<br />Deps: 301, 313, 13<br /><br />ROOT PgUnionAllSingle{15}[301]"):::bucket
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 312, 316, 13<br /><br />ROOT PgUnionAllSingle{16}[312]"):::bucket
    Bucket19("Bucket 19 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 319, 13, 301<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[321]<br />ᐳ: Access[323]<br />2: PgSelect[325], PgSelect[339]<br />3: PgSelectRows[333], PgSelectRows[344]<br />ᐳ: 332, 335, 343, 346, 375, 376, 377, 378, 379, 380"):::bucket
    Bucket20("Bucket 20 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 347, 13, 312<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[349]<br />ᐳ: Access[351]<br />2: PgSelect[353], PgSelect[367]<br />3: PgSelectRows[361], PgSelectRows[372]<br />ᐳ: 360, 363, 371, 374, 381, 382, 383, 384, 385, 386"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5
    Bucket4 --> Bucket6
    Bucket5 --> Bucket7
    Bucket6 --> Bucket8
    Bucket7 --> Bucket9 & Bucket10 & Bucket11 & Bucket12 & Bucket15 & Bucket16
    Bucket10 --> Bucket13
    Bucket12 --> Bucket14
    Bucket15 --> Bucket17
    Bucket16 --> Bucket18
    Bucket17 --> Bucket19
    Bucket18 --> Bucket20

    %% plan dependencies
    Object13{{"Object[13∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access12{{"Access[12∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access12 --> Object13
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access12
    Connection15{{"Connection[15∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant398{{"Constant[398∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant398 --> Connection15
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection31{{"Connection[31∈0] ➊<br />ᐸ24ᐳ"}}:::plan
    PgSelect17[["PgSelect[17∈1] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object13 & Connection15 & Constant398 --> PgSelect17
    PgSelectRows19[["PgSelectRows[19∈1] ➊"]]:::plan
    PgSelect17 --> PgSelectRows19
    __Item20[/"__Item[20∈2]<br />ᐸ19ᐳ"\]:::itemplan
    PgSelectRows19 ==> __Item20
    PgSelectSingle21{{"PgSelectSingle[21∈2]<br />ᐸpeopleᐳ"}}:::plan
    __Item20 --> PgSelectSingle21
    PgUnionAll32[["PgUnionAll[32∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    PgClassExpression22{{"PgClassExpression[22∈3]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll32
    PgUnionAll38[["PgUnionAll[38∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll38
    PgUnionAll39[["PgUnionAll[39∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll39
    PgSelectSingle21 --> PgClassExpression22
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression23
    First33{{"First[33∈3]"}}:::plan
    Access387{{"Access[387∈3]<br />ᐸ32.itemsᐳ"}}:::plan
    Access387 --> First33
    PgUnionAllSingle36["PgUnionAllSingle[36∈3]"]:::plan
    First33 --> PgUnionAllSingle36
    PgClassExpression37{{"PgClassExpression[37∈3]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle36 --> PgClassExpression37
    PgUnionAll32 --> Access387
    Access388{{"Access[388∈3]<br />ᐸ38.itemsᐳ"}}:::plan
    PgUnionAll38 --> Access388
    Access397{{"Access[397∈3]<br />ᐸ39.itemsᐳ"}}:::plan
    PgUnionAll39 --> Access397
    __Item41[/"__Item[41∈4]<br />ᐸ388ᐳ"\]:::itemplan
    Access388 ==> __Item41
    PgUnionAllSingle42["PgUnionAllSingle[42∈4]"]:::plan
    __Item41 --> PgUnionAllSingle42
    Access74{{"Access[74∈4]<br />ᐸ38.cursorDetailsᐳ"}}:::plan
    PgUnionAll38 --> Access74
    PgCursor76{{"PgCursor[76∈6]"}}:::plan
    PgUnionAllSingle42 & Access74 --> PgCursor76
    Access121{{"Access[121∈6]<br />ᐸ42.1ᐳ"}}:::plan
    PgUnionAllSingle42 --> Access121
    PgSelect127[["PgSelect[127∈8]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access125{{"Access[125∈8]^<br />ᐸ123.0ᐳ"}}:::plan
    Object13 & Access125 --> PgSelect127
    PgSelect141[["PgSelect[141∈8]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object13 & Access125 --> PgSelect141
    JSONParse123[["JSONParse[123∈8]<br />ᐸ121ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access121 --> JSONParse123
    JSONParse123 --> Access125
    First134{{"First[134∈8]^"}}:::plan
    PgSelectRows135[["PgSelectRows[135∈8]^"]]:::plan
    PgSelectRows135 --> First134
    PgSelect127 --> PgSelectRows135
    PgSelectSingle137{{"PgSelectSingle[137∈8]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First134 --> PgSelectSingle137
    First145{{"First[145∈8]^"}}:::plan
    PgSelectRows146[["PgSelectRows[146∈8]^"]]:::plan
    PgSelectRows146 --> First145
    PgSelect141 --> PgSelectRows146
    PgSelectSingle148{{"PgSelectSingle[148∈8]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First145 --> PgSelectSingle148
    PgClassExpression211{{"PgClassExpression[211∈8]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle137 --> PgClassExpression211
    PgClassExpression212{{"PgClassExpression[212∈8]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression212
    __Item44[/"__Item[44∈5]<br />ᐸ397ᐳ"\]:::itemplan
    Access397 ==> __Item44
    PgUnionAllSingle45["PgUnionAllSingle[45∈5]"]:::plan
    __Item44 --> PgUnionAllSingle45
    Access46{{"Access[46∈5]<br />ᐸ45.1ᐳ"}}:::plan
    PgUnionAllSingle45 --> Access46
    PgUnionAll82[["PgUnionAll[82∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression80{{"PgClassExpression[80∈7]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression81{{"PgClassExpression[81∈7]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object13 & PgClassExpression80 & PgClassExpression81 --> PgUnionAll82
    PgUnionAll104[["PgUnionAll[104∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression102{{"PgClassExpression[102∈7]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression103{{"PgClassExpression[103∈7]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object13 & PgClassExpression102 & PgClassExpression103 --> PgUnionAll104
    PgUnionAll245[["PgUnionAll[245∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression78{{"PgClassExpression[78∈7]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection98{{"Connection[98∈7] ➊<br />ᐸ95ᐳ<br />ᐳAwsApplication"}}:::plan
    Object13 & PgClassExpression78 & Connection98 --> PgUnionAll245
    PgUnionAll251[["PgUnionAll[251∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression78 & Connection98 --> PgUnionAll251
    PgUnionAll284[["PgUnionAll[284∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression100{{"PgClassExpression[100∈7]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection120{{"Connection[120∈7] ➊<br />ᐸ117ᐳ<br />ᐳGcpApplication"}}:::plan
    Object13 & PgClassExpression100 & Connection120 --> PgUnionAll284
    PgUnionAll290[["PgUnionAll[290∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression100 & Connection120 --> PgUnionAll290
    PgSelect52[["PgSelect[52∈7]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access50{{"Access[50∈7]^<br />ᐸ48.0ᐳ"}}:::plan
    Object13 & Access50 --> PgSelect52
    PgSelect66[["PgSelect[66∈7]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object13 & Access50 --> PgSelect66
    PgUnionAll91[["PgUnionAll[91∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression78 --> PgUnionAll91
    PgUnionAll113[["PgUnionAll[113∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression100 --> PgUnionAll113
    JSONParse48[["JSONParse[48∈7]<br />ᐸ46ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access46 --> JSONParse48
    JSONParse48 --> Access50
    First59{{"First[59∈7]^"}}:::plan
    PgSelectRows60[["PgSelectRows[60∈7]^"]]:::plan
    PgSelectRows60 --> First59
    PgSelect52 --> PgSelectRows60
    PgSelectSingle62{{"PgSelectSingle[62∈7]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First59 --> PgSelectSingle62
    First70{{"First[70∈7]^"}}:::plan
    PgSelectRows71[["PgSelectRows[71∈7]^"]]:::plan
    PgSelectRows71 --> First70
    PgSelect66 --> PgSelectRows71
    PgSelectSingle73{{"PgSelectSingle[73∈7]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First70 --> PgSelectSingle73
    PgClassExpression77{{"PgClassExpression[77∈7]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle62 --> PgClassExpression77
    PgSelectSingle62 --> PgClassExpression78
    PgClassExpression79{{"PgClassExpression[79∈7]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle62 --> PgClassExpression79
    PgSelectSingle62 --> PgClassExpression80
    PgSelectSingle62 --> PgClassExpression81
    First87{{"First[87∈7]^"}}:::plan
    Access392{{"Access[392∈7]^<br />ᐸ82.itemsᐳ"}}:::plan
    Access392 --> First87
    PgUnionAllSingle90["PgUnionAllSingle[90∈7]^"]:::plan
    First87 --> PgUnionAllSingle90
    PgClassExpression99{{"PgClassExpression[99∈7]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle73 --> PgClassExpression99
    PgSelectSingle73 --> PgClassExpression100
    PgClassExpression101{{"PgClassExpression[101∈7]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle73 --> PgClassExpression101
    PgSelectSingle73 --> PgClassExpression102
    PgSelectSingle73 --> PgClassExpression103
    First109{{"First[109∈7]^"}}:::plan
    Access396{{"Access[396∈7]^<br />ᐸ104.itemsᐳ"}}:::plan
    Access396 --> First109
    PgUnionAllSingle112["PgUnionAllSingle[112∈7]^"]:::plan
    First109 --> PgUnionAllSingle112
    Access149{{"Access[149∈7]^<br />ᐸ90.1ᐳ"}}:::plan
    PgUnionAllSingle90 --> Access149
    Access180{{"Access[180∈7]^<br />ᐸ112.1ᐳ"}}:::plan
    PgUnionAllSingle112 --> Access180
    First246{{"First[246∈7]^"}}:::plan
    Access390{{"Access[390∈7]^<br />ᐸ245.itemsᐳ"}}:::plan
    Access390 --> First246
    PgUnionAllSingle249["PgUnionAllSingle[249∈7]^"]:::plan
    First246 --> PgUnionAllSingle249
    PgClassExpression250{{"PgClassExpression[250∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle249 --> PgClassExpression250
    First285{{"First[285∈7]^"}}:::plan
    Access394{{"Access[394∈7]^<br />ᐸ284.itemsᐳ"}}:::plan
    Access394 --> First285
    PgUnionAllSingle288["PgUnionAllSingle[288∈7]^"]:::plan
    First285 --> PgUnionAllSingle288
    PgClassExpression289{{"PgClassExpression[289∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle288 --> PgClassExpression289
    Access389{{"Access[389∈7]^<br />ᐸ91.itemsᐳ"}}:::plan
    PgUnionAll91 --> Access389
    PgUnionAll245 --> Access390
    Access391{{"Access[391∈7]^<br />ᐸ251.itemsᐳ"}}:::plan
    PgUnionAll251 --> Access391
    PgUnionAll82 --> Access392
    Access393{{"Access[393∈7]^<br />ᐸ113.itemsᐳ"}}:::plan
    PgUnionAll113 --> Access393
    PgUnionAll284 --> Access394
    Access395{{"Access[395∈7]^<br />ᐸ290.itemsᐳ"}}:::plan
    PgUnionAll290 --> Access395
    PgUnionAll104 --> Access396
    PgSelect155[["PgSelect[155∈9]<br />ᐸorganizationsᐳ<br />ᐳAwsApplicationᐳOrganization"]]:::plan
    Access153{{"Access[153∈9]^<br />ᐸ151.0ᐳ"}}:::plan
    Object13 & Access153 --> PgSelect155
    PgSelect169[["PgSelect[169∈9]<br />ᐸpeopleᐳ<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Object13 & Access153 --> PgSelect169
    JSONParse151[["JSONParse[151∈9]<br />ᐸ149ᐳ<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Access149 --> JSONParse151
    JSONParse151 --> Access153
    First162{{"First[162∈9]^"}}:::plan
    PgSelectRows163[["PgSelectRows[163∈9]^"]]:::plan
    PgSelectRows163 --> First162
    PgSelect155 --> PgSelectRows163
    PgSelectSingle165{{"PgSelectSingle[165∈9]^<br />ᐸorganizationsᐳ"}}:::plan
    First162 --> PgSelectSingle165
    First173{{"First[173∈9]^"}}:::plan
    PgSelectRows174[["PgSelectRows[174∈9]^"]]:::plan
    PgSelectRows174 --> First173
    PgSelect169 --> PgSelectRows174
    PgSelectSingle176{{"PgSelectSingle[176∈9]^<br />ᐸpeopleᐳ"}}:::plan
    First173 --> PgSelectSingle176
    PgClassExpression213{{"PgClassExpression[213∈9]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression213
    PgClassExpression214{{"PgClassExpression[214∈9]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression214
    PgClassExpression215{{"PgClassExpression[215∈9]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle176 --> PgClassExpression215
    PgClassExpression216{{"PgClassExpression[216∈9]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle176 --> PgClassExpression216
    __Item178[/"__Item[178∈10]<br />ᐸ389ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access389 ==> __Item178
    PgUnionAllSingle179["PgUnionAllSingle[179∈10]^"]:::plan
    __Item178 --> PgUnionAllSingle179
    Access217{{"Access[217∈10]^<br />ᐸ179.1ᐳ"}}:::plan
    PgUnionAllSingle179 --> Access217
    PgSelect223[["PgSelect[223∈13]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access221{{"Access[221∈13]^<br />ᐸ219.0ᐳ"}}:::plan
    Object13 & Access221 --> PgSelect223
    PgSelect237[["PgSelect[237∈13]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access221 --> PgSelect237
    JSONParse219[["JSONParse[219∈13]<br />ᐸ217ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access217 --> JSONParse219
    JSONParse219 --> Access221
    First230{{"First[230∈13]^"}}:::plan
    PgSelectRows231[["PgSelectRows[231∈13]^"]]:::plan
    PgSelectRows231 --> First230
    PgSelect223 --> PgSelectRows231
    PgSelectSingle233{{"PgSelectSingle[233∈13]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First230 --> PgSelectSingle233
    First241{{"First[241∈13]^"}}:::plan
    PgSelectRows242[["PgSelectRows[242∈13]^"]]:::plan
    PgSelectRows242 --> First241
    PgSelect237 --> PgSelectRows242
    PgSelectSingle244{{"PgSelectSingle[244∈13]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First241 --> PgSelectSingle244
    PgClassExpression291{{"PgClassExpression[291∈13]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression291
    PgClassExpression292{{"PgClassExpression[292∈13]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression292
    PgClassExpression293{{"PgClassExpression[293∈13]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression293
    PgClassExpression294{{"PgClassExpression[294∈13]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression294
    PgClassExpression295{{"PgClassExpression[295∈13]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression295
    PgClassExpression296{{"PgClassExpression[296∈13]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression296
    PgClassExpression297{{"PgClassExpression[297∈13]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression297
    PgClassExpression298{{"PgClassExpression[298∈13]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression298
    PgSelect186[["PgSelect[186∈11]<br />ᐸorganizationsᐳ<br />ᐳGcpApplicationᐳOrganization"]]:::plan
    Access184{{"Access[184∈11]^<br />ᐸ182.0ᐳ"}}:::plan
    Object13 & Access184 --> PgSelect186
    PgSelect200[["PgSelect[200∈11]<br />ᐸpeopleᐳ<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Object13 & Access184 --> PgSelect200
    JSONParse182[["JSONParse[182∈11]<br />ᐸ180ᐳ<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Access180 --> JSONParse182
    JSONParse182 --> Access184
    First193{{"First[193∈11]^"}}:::plan
    PgSelectRows194[["PgSelectRows[194∈11]^"]]:::plan
    PgSelectRows194 --> First193
    PgSelect186 --> PgSelectRows194
    PgSelectSingle196{{"PgSelectSingle[196∈11]^<br />ᐸorganizationsᐳ"}}:::plan
    First193 --> PgSelectSingle196
    First204{{"First[204∈11]^"}}:::plan
    PgSelectRows205[["PgSelectRows[205∈11]^"]]:::plan
    PgSelectRows205 --> First204
    PgSelect200 --> PgSelectRows205
    PgSelectSingle207{{"PgSelectSingle[207∈11]^<br />ᐸpeopleᐳ"}}:::plan
    First204 --> PgSelectSingle207
    PgClassExpression252{{"PgClassExpression[252∈11]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression252
    PgClassExpression253{{"PgClassExpression[253∈11]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression253
    PgClassExpression254{{"PgClassExpression[254∈11]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle207 --> PgClassExpression254
    PgClassExpression255{{"PgClassExpression[255∈11]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle207 --> PgClassExpression255
    __Item209[/"__Item[209∈12]<br />ᐸ393ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access393 ==> __Item209
    PgUnionAllSingle210["PgUnionAllSingle[210∈12]^"]:::plan
    __Item209 --> PgUnionAllSingle210
    Access256{{"Access[256∈12]^<br />ᐸ210.1ᐳ"}}:::plan
    PgUnionAllSingle210 --> Access256
    PgSelect262[["PgSelect[262∈14]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access260{{"Access[260∈14]^<br />ᐸ258.0ᐳ"}}:::plan
    Object13 & Access260 --> PgSelect262
    PgSelect276[["PgSelect[276∈14]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access260 --> PgSelect276
    JSONParse258[["JSONParse[258∈14]<br />ᐸ256ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access256 --> JSONParse258
    JSONParse258 --> Access260
    First269{{"First[269∈14]^"}}:::plan
    PgSelectRows270[["PgSelectRows[270∈14]^"]]:::plan
    PgSelectRows270 --> First269
    PgSelect262 --> PgSelectRows270
    PgSelectSingle272{{"PgSelectSingle[272∈14]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First269 --> PgSelectSingle272
    First280{{"First[280∈14]^"}}:::plan
    PgSelectRows281[["PgSelectRows[281∈14]^"]]:::plan
    PgSelectRows281 --> First280
    PgSelect276 --> PgSelectRows281
    PgSelectSingle283{{"PgSelectSingle[283∈14]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First280 --> PgSelectSingle283
    PgClassExpression302{{"PgClassExpression[302∈14]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle272 --> PgClassExpression302
    PgClassExpression303{{"PgClassExpression[303∈14]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle272 --> PgClassExpression303
    PgClassExpression304{{"PgClassExpression[304∈14]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle272 --> PgClassExpression304
    PgClassExpression305{{"PgClassExpression[305∈14]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle272 --> PgClassExpression305
    PgClassExpression306{{"PgClassExpression[306∈14]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle283 --> PgClassExpression306
    PgClassExpression307{{"PgClassExpression[307∈14]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle283 --> PgClassExpression307
    PgClassExpression308{{"PgClassExpression[308∈14]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle283 --> PgClassExpression308
    PgClassExpression309{{"PgClassExpression[309∈14]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle283 --> PgClassExpression309
    __Item300[/"__Item[300∈15]<br />ᐸ391ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access391 ==> __Item300
    PgUnionAllSingle301["PgUnionAllSingle[301∈15]^"]:::plan
    __Item300 --> PgUnionAllSingle301
    Access313{{"Access[313∈15]<br />ᐸ251.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAll251 --> Access313
    PgCursor315{{"PgCursor[315∈17]<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle301 & Access313 --> PgCursor315
    Access319{{"Access[319∈17]<br />ᐸ301.1ᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle301 --> Access319
    PgSelect325[["PgSelect[325∈19]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access323{{"Access[323∈19]^<br />ᐸ321.0ᐳ"}}:::plan
    Object13 & Access323 --> PgSelect325
    PgSelect339[["PgSelect[339∈19]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access323 --> PgSelect339
    JSONParse321[["JSONParse[321∈19]<br />ᐸ319ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access319 --> JSONParse321
    JSONParse321 --> Access323
    First332{{"First[332∈19]^"}}:::plan
    PgSelectRows333[["PgSelectRows[333∈19]^"]]:::plan
    PgSelectRows333 --> First332
    PgSelect325 --> PgSelectRows333
    PgSelectSingle335{{"PgSelectSingle[335∈19]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First332 --> PgSelectSingle335
    First343{{"First[343∈19]^"}}:::plan
    PgSelectRows344[["PgSelectRows[344∈19]^"]]:::plan
    PgSelectRows344 --> First343
    PgSelect339 --> PgSelectRows344
    PgSelectSingle346{{"PgSelectSingle[346∈19]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First343 --> PgSelectSingle346
    PgClassExpression375{{"PgClassExpression[375∈19]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle335 --> PgClassExpression375
    PgClassExpression376{{"PgClassExpression[376∈19]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle335 --> PgClassExpression376
    PgClassExpression377{{"PgClassExpression[377∈19]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle335 --> PgClassExpression377
    PgClassExpression378{{"PgClassExpression[378∈19]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression378
    PgClassExpression379{{"PgClassExpression[379∈19]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression379
    PgClassExpression380{{"PgClassExpression[380∈19]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle346 --> PgClassExpression380
    __Item311[/"__Item[311∈16]<br />ᐸ395ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access395 ==> __Item311
    PgUnionAllSingle312["PgUnionAllSingle[312∈16]^"]:::plan
    __Item311 --> PgUnionAllSingle312
    Access316{{"Access[316∈16]<br />ᐸ290.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAll290 --> Access316
    PgCursor318{{"PgCursor[318∈18]<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle312 & Access316 --> PgCursor318
    Access347{{"Access[347∈18]<br />ᐸ312.1ᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle312 --> Access347
    PgSelect353[["PgSelect[353∈20]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access351{{"Access[351∈20]^<br />ᐸ349.0ᐳ"}}:::plan
    Object13 & Access351 --> PgSelect353
    PgSelect367[["PgSelect[367∈20]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access351 --> PgSelect367
    JSONParse349[["JSONParse[349∈20]<br />ᐸ347ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access347 --> JSONParse349
    JSONParse349 --> Access351
    First360{{"First[360∈20]^"}}:::plan
    PgSelectRows361[["PgSelectRows[361∈20]^"]]:::plan
    PgSelectRows361 --> First360
    PgSelect353 --> PgSelectRows361
    PgSelectSingle363{{"PgSelectSingle[363∈20]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First360 --> PgSelectSingle363
    First371{{"First[371∈20]^"}}:::plan
    PgSelectRows372[["PgSelectRows[372∈20]^"]]:::plan
    PgSelectRows372 --> First371
    PgSelect367 --> PgSelectRows372
    PgSelectSingle374{{"PgSelectSingle[374∈20]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First371 --> PgSelectSingle374
    PgClassExpression381{{"PgClassExpression[381∈20]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle363 --> PgClassExpression381
    PgClassExpression382{{"PgClassExpression[382∈20]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle363 --> PgClassExpression382
    PgClassExpression383{{"PgClassExpression[383∈20]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle363 --> PgClassExpression383
    PgClassExpression384{{"PgClassExpression[384∈20]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle374 --> PgClassExpression384
    PgClassExpression385{{"PgClassExpression[385∈20]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle374 --> PgClassExpression385
    PgClassExpression386{{"PgClassExpression[386∈20]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle374 --> PgClassExpression386

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access12,Object13,Connection15,Connection31,Constant398 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect17,PgSelectRows19 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item20,PgSelectSingle21 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression22,PgClassExpression23,PgUnionAll32,First33,PgUnionAllSingle36,PgClassExpression37,PgUnionAll38,PgUnionAll39,Access387,Access388,Access397 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item41,PgUnionAllSingle42,Access74 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item44,PgUnionAllSingle45,Access46 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgCursor76,Access121 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7,JSONParse48,Access50,PgSelect52,First59,PgSelectRows60,PgSelectSingle62,PgSelect66,First70,PgSelectRows71,PgSelectSingle73,PgClassExpression77,PgClassExpression78,PgClassExpression79,PgClassExpression80,PgClassExpression81,PgUnionAll82,First87,PgUnionAllSingle90,PgUnionAll91,Connection98,PgClassExpression99,PgClassExpression100,PgClassExpression101,PgClassExpression102,PgClassExpression103,PgUnionAll104,First109,PgUnionAllSingle112,PgUnionAll113,Connection120,Access149,Access180,PgUnionAll245,First246,PgUnionAllSingle249,PgClassExpression250,PgUnionAll251,PgUnionAll284,First285,PgUnionAllSingle288,PgClassExpression289,PgUnionAll290,Access389,Access390,Access391,Access392,Access393,Access394,Access395,Access396 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,JSONParse123,Access125,PgSelect127,First134,PgSelectRows135,PgSelectSingle137,PgSelect141,First145,PgSelectRows146,PgSelectSingle148,PgClassExpression211,PgClassExpression212 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,JSONParse151,Access153,PgSelect155,First162,PgSelectRows163,PgSelectSingle165,PgSelect169,First173,PgSelectRows174,PgSelectSingle176,PgClassExpression213,PgClassExpression214,PgClassExpression215,PgClassExpression216 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10,__Item178,PgUnionAllSingle179,Access217 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,JSONParse182,Access184,PgSelect186,First193,PgSelectRows194,PgSelectSingle196,PgSelect200,First204,PgSelectRows205,PgSelectSingle207,PgClassExpression252,PgClassExpression253,PgClassExpression254,PgClassExpression255 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,__Item209,PgUnionAllSingle210,Access256 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,JSONParse219,Access221,PgSelect223,First230,PgSelectRows231,PgSelectSingle233,PgSelect237,First241,PgSelectRows242,PgSelectSingle244,PgClassExpression291,PgClassExpression292,PgClassExpression293,PgClassExpression294,PgClassExpression295,PgClassExpression296,PgClassExpression297,PgClassExpression298 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14,JSONParse258,Access260,PgSelect262,First269,PgSelectRows270,PgSelectSingle272,PgSelect276,First280,PgSelectRows281,PgSelectSingle283,PgClassExpression302,PgClassExpression303,PgClassExpression304,PgClassExpression305,PgClassExpression306,PgClassExpression307,PgClassExpression308,PgClassExpression309 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Item300,PgUnionAllSingle301,Access313 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item311,PgUnionAllSingle312,Access316 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,PgCursor315,Access319 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgCursor318,Access347 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,JSONParse321,Access323,PgSelect325,First332,PgSelectRows333,PgSelectSingle335,PgSelect339,First343,PgSelectRows344,PgSelectSingle346,PgClassExpression375,PgClassExpression376,PgClassExpression377,PgClassExpression378,PgClassExpression379,PgClassExpression380 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20,JSONParse349,Access351,PgSelect353,First360,PgSelectRows361,PgSelectSingle363,PgSelect367,First371,PgSelectRows372,PgSelectSingle374,PgClassExpression381,PgClassExpression382,PgClassExpression383,PgClassExpression384,PgClassExpression385,PgClassExpression386 bucket20

