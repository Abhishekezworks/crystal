%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 13, 15, 400, 31<br /><br />ROOT Connectionᐸ9ᐳ[15]<br />1: PgSelect[17]<br />2: PgSelectRows[19]"):::bucket
    Bucket2("Bucket 2 (listItem)<br />Deps: 13, 31<br /><br />ROOT __Item{2}ᐸ19ᐳ[20]"):::bucket
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 21, 13, 31<br /><br />ROOT PgSelectSingle{2}ᐸpeopleᐳ[21]<br />1: <br />ᐳ: 22, 23<br />2: 32, 38, 39<br />ᐳ: 389, 390, 399, 33<br />3: PgUnionAllSingle[36]<br />ᐳ: PgClassExpression[37]"):::bucket
    Bucket4("Bucket 4 (listItem)<br />Deps: 38, 13<br /><br />ROOT __Item{4}ᐸ390ᐳ[41]"):::bucket
    Bucket5("Bucket 5 (listItem)<br />Deps: 13<br /><br />ROOT __Item{5}ᐸ399ᐳ[44]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 42, 74, 13<br /><br />ROOT PgUnionAllSingle{4}[42]"):::bucket
    Bucket7("Bucket 7 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 46, 13, 45<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: 48, 99, 122<br />ᐳ: Access[50]<br />2: PgSelect[52], PgSelect[66]<br />3: PgSelectRows[60], PgSelectRows[71]<br />ᐳ: 59, 62, 70, 73, 77, 78, 79, 80, 81, 100, 101, 102, 103, 104<br />4: 82, 91, 105, 114, 247, 253, 286, 292<br />ᐳ: 391, 392, 393, 394, 395, 396, 397, 398, 87, 110, 248, 287<br />5: 90, 113, 251, 290<br />ᐳ: 151, 182, 252, 291"):::bucket
    Bucket8("Bucket 8 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 123, 13, 42<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: JSONParse[125]<br />ᐳ: Access[127]<br />2: PgSelect[129], PgSelect[143]<br />3: PgSelectRows[137], PgSelectRows[148]<br />ᐳ: 136, 139, 147, 150, 213, 214"):::bucket
    Bucket9("Bucket 9 (polymorphic)<br />Organization,Person<br />Deps: 151, 13, 90<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson<br /><br />1: JSONParse[153]<br />ᐳ: Access[155]<br />2: PgSelect[157], PgSelect[171]<br />3: PgSelectRows[165], PgSelectRows[176]<br />ᐳ: 164, 167, 175, 178, 215, 216, 217, 218"):::bucket
    Bucket10("Bucket 10 (listItem)<br />Deps: 13<br /><br />ROOT __Item{10}ᐸ391ᐳ[180]"):::bucket
    Bucket11("Bucket 11 (polymorphic)<br />Organization,Person<br />Deps: 182, 13, 113<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson<br /><br />1: JSONParse[184]<br />ᐳ: Access[186]<br />2: PgSelect[188], PgSelect[202]<br />3: PgSelectRows[196], PgSelectRows[207]<br />ᐳ: 195, 198, 206, 209, 254, 255, 256, 257"):::bucket
    Bucket12("Bucket 12 (listItem)<br />Deps: 13<br /><br />ROOT __Item{12}ᐸ395ᐳ[211]"):::bucket
    Bucket13("Bucket 13 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 219, 13, 181<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[221]<br />ᐳ: Access[223]<br />2: PgSelect[225], PgSelect[239]<br />3: PgSelectRows[233], PgSelectRows[244]<br />ᐳ: 232, 235, 243, 246, 293, 294, 295, 296, 297, 298, 299, 300"):::bucket
    Bucket14("Bucket 14 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 258, 13, 212<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[260]<br />ᐳ: Access[262]<br />2: PgSelect[264], PgSelect[278]<br />3: PgSelectRows[272], PgSelectRows[283]<br />ᐳ: 271, 274, 282, 285, 304, 305, 306, 307, 308, 309, 310, 311"):::bucket
    Bucket15("Bucket 15 (listItem)<br />Deps: 253, 13<br /><br />ROOT __Item{15}ᐸ393ᐳ[302]"):::bucket
    Bucket16("Bucket 16 (listItem)<br />Deps: 292, 13<br /><br />ROOT __Item{16}ᐸ397ᐳ[313]"):::bucket
    Bucket17("Bucket 17 (nullableBoundary)<br />Deps: 303, 315, 13<br /><br />ROOT PgUnionAllSingle{15}[303]"):::bucket
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 314, 318, 13<br /><br />ROOT PgUnionAllSingle{16}[314]"):::bucket
    Bucket19("Bucket 19 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 321, 13, 303<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[323]<br />ᐳ: Access[325]<br />2: PgSelect[327], PgSelect[341]<br />3: PgSelectRows[335], PgSelectRows[346]<br />ᐳ: 334, 337, 345, 348, 377, 378, 379, 380, 381, 382"):::bucket
    Bucket20("Bucket 20 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 349, 13, 314<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[351]<br />ᐳ: Access[353]<br />2: PgSelect[355], PgSelect[369]<br />3: PgSelectRows[363], PgSelectRows[374]<br />ᐳ: 362, 365, 373, 376, 383, 384, 385, 386, 387, 388"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5
    Bucket4 --> Bucket6
    Bucket5 --> Bucket7
    Bucket6 --> Bucket8
    Bucket7 --> Bucket9 & Bucket10 & Bucket11 & Bucket12 & Bucket15 & Bucket16
    Bucket10 --> Bucket13
    Bucket12 --> Bucket14
    Bucket15 --> Bucket17
    Bucket16 --> Bucket18
    Bucket17 --> Bucket19
    Bucket18 --> Bucket20

    %% plan dependencies
    Object13{{"Object[13∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access12{{"Access[12∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access12 --> Object13
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access12
    Connection15{{"Connection[15∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant400{{"Constant[400∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant400 --> Connection15
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection31{{"Connection[31∈0] ➊<br />ᐸ24ᐳ"}}:::plan
    PgSelect17[["PgSelect[17∈1] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object13 & Connection15 & Constant400 --> PgSelect17
    PgSelectRows19[["PgSelectRows[19∈1] ➊"]]:::plan
    PgSelect17 --> PgSelectRows19
    __Item20[/"__Item[20∈2]<br />ᐸ19ᐳ"\]:::itemplan
    PgSelectRows19 ==> __Item20
    PgSelectSingle21{{"PgSelectSingle[21∈2]<br />ᐸpeopleᐳ"}}:::plan
    __Item20 --> PgSelectSingle21
    PgUnionAll32[["PgUnionAll[32∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    PgClassExpression22{{"PgClassExpression[22∈3]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll32
    PgUnionAll38[["PgUnionAll[38∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll38
    PgUnionAll39[["PgUnionAll[39∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object13 & PgClassExpression22 & Connection31 --> PgUnionAll39
    PgSelectSingle21 --> PgClassExpression22
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression23
    First33{{"First[33∈3]"}}:::plan
    Access389{{"Access[389∈3]<br />ᐸ32.itemsᐳ"}}:::plan
    Access389 --> First33
    PgUnionAllSingle36["PgUnionAllSingle[36∈3]"]:::plan
    First33 --> PgUnionAllSingle36
    PgClassExpression37{{"PgClassExpression[37∈3]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle36 --> PgClassExpression37
    PgUnionAll32 --> Access389
    Access390{{"Access[390∈3]<br />ᐸ38.itemsᐳ"}}:::plan
    PgUnionAll38 --> Access390
    Access399{{"Access[399∈3]<br />ᐸ39.itemsᐳ"}}:::plan
    PgUnionAll39 --> Access399
    __Item41[/"__Item[41∈4]<br />ᐸ390ᐳ"\]:::itemplan
    Access390 ==> __Item41
    PgUnionAllSingle42["PgUnionAllSingle[42∈4]"]:::plan
    __Item41 --> PgUnionAllSingle42
    Access74{{"Access[74∈4]<br />ᐸ38.cursorDetailsᐳ"}}:::plan
    PgUnionAll38 --> Access74
    PgCursor76{{"PgCursor[76∈6]"}}:::plan
    PgUnionAllSingle42 & Access74 --> PgCursor76
    Access123{{"Access[123∈6]<br />ᐸ42.1ᐳ"}}:::plan
    PgUnionAllSingle42 --> Access123
    PgSelect129[["PgSelect[129∈8]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access127{{"Access[127∈8]^<br />ᐸ125.0ᐳ"}}:::plan
    Object13 & Access127 --> PgSelect129
    PgSelect143[["PgSelect[143∈8]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object13 & Access127 --> PgSelect143
    JSONParse125[["JSONParse[125∈8]<br />ᐸ123ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access123 --> JSONParse125
    JSONParse125 --> Access127
    First136{{"First[136∈8]^"}}:::plan
    PgSelectRows137[["PgSelectRows[137∈8]^"]]:::plan
    PgSelectRows137 --> First136
    PgSelect129 --> PgSelectRows137
    PgSelectSingle139{{"PgSelectSingle[139∈8]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First136 --> PgSelectSingle139
    First147{{"First[147∈8]^"}}:::plan
    PgSelectRows148[["PgSelectRows[148∈8]^"]]:::plan
    PgSelectRows148 --> First147
    PgSelect143 --> PgSelectRows148
    PgSelectSingle150{{"PgSelectSingle[150∈8]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First147 --> PgSelectSingle150
    PgClassExpression213{{"PgClassExpression[213∈8]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle139 --> PgClassExpression213
    PgClassExpression214{{"PgClassExpression[214∈8]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle150 --> PgClassExpression214
    __Item44[/"__Item[44∈5]<br />ᐸ399ᐳ"\]:::itemplan
    Access399 ==> __Item44
    PgUnionAllSingle45["PgUnionAllSingle[45∈5]"]:::plan
    __Item44 --> PgUnionAllSingle45
    Access46{{"Access[46∈5]<br />ᐸ45.1ᐳ"}}:::plan
    PgUnionAllSingle45 --> Access46
    PgUnionAll82[["PgUnionAll[82∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression80{{"PgClassExpression[80∈7]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression81{{"PgClassExpression[81∈7]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object13 & PgClassExpression80 & PgClassExpression81 --> PgUnionAll82
    PgUnionAll105[["PgUnionAll[105∈7]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression103{{"PgClassExpression[103∈7]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression104{{"PgClassExpression[104∈7]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object13 & PgClassExpression103 & PgClassExpression104 --> PgUnionAll105
    PgUnionAll247[["PgUnionAll[247∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression78{{"PgClassExpression[78∈7]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection99{{"Connection[99∈7] ➊<br />ᐸ95ᐳ<br />ᐳAwsApplication"}}:::plan
    Object13 & PgClassExpression78 & Connection99 --> PgUnionAll247
    PgUnionAll253[["PgUnionAll[253∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression78 & Connection99 --> PgUnionAll253
    PgUnionAll286[["PgUnionAll[286∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression101{{"PgClassExpression[101∈7]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection122{{"Connection[122∈7] ➊<br />ᐸ118ᐳ<br />ᐳGcpApplication"}}:::plan
    Object13 & PgClassExpression101 & Connection122 --> PgUnionAll286
    PgUnionAll292[["PgUnionAll[292∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression101 & Connection122 --> PgUnionAll292
    PgSelect52[["PgSelect[52∈7]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access50{{"Access[50∈7]^<br />ᐸ48.0ᐳ"}}:::plan
    Object13 & Access50 --> PgSelect52
    PgSelect66[["PgSelect[66∈7]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object13 & Access50 --> PgSelect66
    PgUnionAll91[["PgUnionAll[91∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression78 --> PgUnionAll91
    PgUnionAll114[["PgUnionAll[114∈7]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object13 & PgClassExpression101 --> PgUnionAll114
    JSONParse48[["JSONParse[48∈7]<br />ᐸ46ᐳ<br />ᐳAwsApplication<br />ᐳGcpApplication"]]:::plan
    Access46 --> JSONParse48
    JSONParse48 --> Access50
    First59{{"First[59∈7]^"}}:::plan
    PgSelectRows60[["PgSelectRows[60∈7]^"]]:::plan
    PgSelectRows60 --> First59
    PgSelect52 --> PgSelectRows60
    PgSelectSingle62{{"PgSelectSingle[62∈7]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First59 --> PgSelectSingle62
    First70{{"First[70∈7]^"}}:::plan
    PgSelectRows71[["PgSelectRows[71∈7]^"]]:::plan
    PgSelectRows71 --> First70
    PgSelect66 --> PgSelectRows71
    PgSelectSingle73{{"PgSelectSingle[73∈7]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First70 --> PgSelectSingle73
    PgClassExpression77{{"PgClassExpression[77∈7]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle62 --> PgClassExpression77
    PgSelectSingle62 --> PgClassExpression78
    PgClassExpression79{{"PgClassExpression[79∈7]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle62 --> PgClassExpression79
    PgSelectSingle62 --> PgClassExpression80
    PgSelectSingle62 --> PgClassExpression81
    First87{{"First[87∈7]^"}}:::plan
    Access394{{"Access[394∈7]^<br />ᐸ82.itemsᐳ"}}:::plan
    Access394 --> First87
    PgUnionAllSingle90["PgUnionAllSingle[90∈7]^"]:::plan
    First87 --> PgUnionAllSingle90
    PgClassExpression100{{"PgClassExpression[100∈7]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle73 --> PgClassExpression100
    PgSelectSingle73 --> PgClassExpression101
    PgClassExpression102{{"PgClassExpression[102∈7]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle73 --> PgClassExpression102
    PgSelectSingle73 --> PgClassExpression103
    PgSelectSingle73 --> PgClassExpression104
    First110{{"First[110∈7]^"}}:::plan
    Access398{{"Access[398∈7]^<br />ᐸ105.itemsᐳ"}}:::plan
    Access398 --> First110
    PgUnionAllSingle113["PgUnionAllSingle[113∈7]^"]:::plan
    First110 --> PgUnionAllSingle113
    Access151{{"Access[151∈7]^<br />ᐸ90.1ᐳ"}}:::plan
    PgUnionAllSingle90 --> Access151
    Access182{{"Access[182∈7]^<br />ᐸ113.1ᐳ"}}:::plan
    PgUnionAllSingle113 --> Access182
    First248{{"First[248∈7]^"}}:::plan
    Access392{{"Access[392∈7]^<br />ᐸ247.itemsᐳ"}}:::plan
    Access392 --> First248
    PgUnionAllSingle251["PgUnionAllSingle[251∈7]^"]:::plan
    First248 --> PgUnionAllSingle251
    PgClassExpression252{{"PgClassExpression[252∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle251 --> PgClassExpression252
    First287{{"First[287∈7]^"}}:::plan
    Access396{{"Access[396∈7]^<br />ᐸ286.itemsᐳ"}}:::plan
    Access396 --> First287
    PgUnionAllSingle290["PgUnionAllSingle[290∈7]^"]:::plan
    First287 --> PgUnionAllSingle290
    PgClassExpression291{{"PgClassExpression[291∈7]^<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle290 --> PgClassExpression291
    Access391{{"Access[391∈7]^<br />ᐸ91.itemsᐳ"}}:::plan
    PgUnionAll91 --> Access391
    PgUnionAll247 --> Access392
    Access393{{"Access[393∈7]^<br />ᐸ253.itemsᐳ"}}:::plan
    PgUnionAll253 --> Access393
    PgUnionAll82 --> Access394
    Access395{{"Access[395∈7]^<br />ᐸ114.itemsᐳ"}}:::plan
    PgUnionAll114 --> Access395
    PgUnionAll286 --> Access396
    Access397{{"Access[397∈7]^<br />ᐸ292.itemsᐳ"}}:::plan
    PgUnionAll292 --> Access397
    PgUnionAll105 --> Access398
    PgSelect157[["PgSelect[157∈9]<br />ᐸorganizationsᐳ<br />ᐳAwsApplicationᐳOrganization"]]:::plan
    Access155{{"Access[155∈9]^<br />ᐸ153.0ᐳ"}}:::plan
    Object13 & Access155 --> PgSelect157
    PgSelect171[["PgSelect[171∈9]<br />ᐸpeopleᐳ<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Object13 & Access155 --> PgSelect171
    JSONParse153[["JSONParse[153∈9]<br />ᐸ151ᐳ<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Access151 --> JSONParse153
    JSONParse153 --> Access155
    First164{{"First[164∈9]^"}}:::plan
    PgSelectRows165[["PgSelectRows[165∈9]^"]]:::plan
    PgSelectRows165 --> First164
    PgSelect157 --> PgSelectRows165
    PgSelectSingle167{{"PgSelectSingle[167∈9]^<br />ᐸorganizationsᐳ"}}:::plan
    First164 --> PgSelectSingle167
    First175{{"First[175∈9]^"}}:::plan
    PgSelectRows176[["PgSelectRows[176∈9]^"]]:::plan
    PgSelectRows176 --> First175
    PgSelect171 --> PgSelectRows176
    PgSelectSingle178{{"PgSelectSingle[178∈9]^<br />ᐸpeopleᐳ"}}:::plan
    First175 --> PgSelectSingle178
    PgClassExpression215{{"PgClassExpression[215∈9]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle167 --> PgClassExpression215
    PgClassExpression216{{"PgClassExpression[216∈9]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle167 --> PgClassExpression216
    PgClassExpression217{{"PgClassExpression[217∈9]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle178 --> PgClassExpression217
    PgClassExpression218{{"PgClassExpression[218∈9]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle178 --> PgClassExpression218
    __Item180[/"__Item[180∈10]<br />ᐸ391ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access391 ==> __Item180
    PgUnionAllSingle181["PgUnionAllSingle[181∈10]^"]:::plan
    __Item180 --> PgUnionAllSingle181
    Access219{{"Access[219∈10]^<br />ᐸ181.1ᐳ"}}:::plan
    PgUnionAllSingle181 --> Access219
    PgSelect225[["PgSelect[225∈13]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access223{{"Access[223∈13]^<br />ᐸ221.0ᐳ"}}:::plan
    Object13 & Access223 --> PgSelect225
    PgSelect239[["PgSelect[239∈13]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access223 --> PgSelect239
    JSONParse221[["JSONParse[221∈13]<br />ᐸ219ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access219 --> JSONParse221
    JSONParse221 --> Access223
    First232{{"First[232∈13]^"}}:::plan
    PgSelectRows233[["PgSelectRows[233∈13]^"]]:::plan
    PgSelectRows233 --> First232
    PgSelect225 --> PgSelectRows233
    PgSelectSingle235{{"PgSelectSingle[235∈13]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First232 --> PgSelectSingle235
    First243{{"First[243∈13]^"}}:::plan
    PgSelectRows244[["PgSelectRows[244∈13]^"]]:::plan
    PgSelectRows244 --> First243
    PgSelect239 --> PgSelectRows244
    PgSelectSingle246{{"PgSelectSingle[246∈13]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First243 --> PgSelectSingle246
    PgClassExpression293{{"PgClassExpression[293∈13]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression293
    PgClassExpression294{{"PgClassExpression[294∈13]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression294
    PgClassExpression295{{"PgClassExpression[295∈13]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression295
    PgClassExpression296{{"PgClassExpression[296∈13]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression296
    PgClassExpression297{{"PgClassExpression[297∈13]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle246 --> PgClassExpression297
    PgClassExpression298{{"PgClassExpression[298∈13]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle246 --> PgClassExpression298
    PgClassExpression299{{"PgClassExpression[299∈13]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle246 --> PgClassExpression299
    PgClassExpression300{{"PgClassExpression[300∈13]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle246 --> PgClassExpression300
    PgSelect188[["PgSelect[188∈11]<br />ᐸorganizationsᐳ<br />ᐳGcpApplicationᐳOrganization"]]:::plan
    Access186{{"Access[186∈11]^<br />ᐸ184.0ᐳ"}}:::plan
    Object13 & Access186 --> PgSelect188
    PgSelect202[["PgSelect[202∈11]<br />ᐸpeopleᐳ<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Object13 & Access186 --> PgSelect202
    JSONParse184[["JSONParse[184∈11]<br />ᐸ182ᐳ<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Access182 --> JSONParse184
    JSONParse184 --> Access186
    First195{{"First[195∈11]^"}}:::plan
    PgSelectRows196[["PgSelectRows[196∈11]^"]]:::plan
    PgSelectRows196 --> First195
    PgSelect188 --> PgSelectRows196
    PgSelectSingle198{{"PgSelectSingle[198∈11]^<br />ᐸorganizationsᐳ"}}:::plan
    First195 --> PgSelectSingle198
    First206{{"First[206∈11]^"}}:::plan
    PgSelectRows207[["PgSelectRows[207∈11]^"]]:::plan
    PgSelectRows207 --> First206
    PgSelect202 --> PgSelectRows207
    PgSelectSingle209{{"PgSelectSingle[209∈11]^<br />ᐸpeopleᐳ"}}:::plan
    First206 --> PgSelectSingle209
    PgClassExpression254{{"PgClassExpression[254∈11]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle198 --> PgClassExpression254
    PgClassExpression255{{"PgClassExpression[255∈11]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle198 --> PgClassExpression255
    PgClassExpression256{{"PgClassExpression[256∈11]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle209 --> PgClassExpression256
    PgClassExpression257{{"PgClassExpression[257∈11]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle209 --> PgClassExpression257
    __Item211[/"__Item[211∈12]<br />ᐸ395ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access395 ==> __Item211
    PgUnionAllSingle212["PgUnionAllSingle[212∈12]^"]:::plan
    __Item211 --> PgUnionAllSingle212
    Access258{{"Access[258∈12]^<br />ᐸ212.1ᐳ"}}:::plan
    PgUnionAllSingle212 --> Access258
    PgSelect264[["PgSelect[264∈14]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access262{{"Access[262∈14]^<br />ᐸ260.0ᐳ"}}:::plan
    Object13 & Access262 --> PgSelect264
    PgSelect278[["PgSelect[278∈14]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access262 --> PgSelect278
    JSONParse260[["JSONParse[260∈14]<br />ᐸ258ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access258 --> JSONParse260
    JSONParse260 --> Access262
    First271{{"First[271∈14]^"}}:::plan
    PgSelectRows272[["PgSelectRows[272∈14]^"]]:::plan
    PgSelectRows272 --> First271
    PgSelect264 --> PgSelectRows272
    PgSelectSingle274{{"PgSelectSingle[274∈14]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First271 --> PgSelectSingle274
    First282{{"First[282∈14]^"}}:::plan
    PgSelectRows283[["PgSelectRows[283∈14]^"]]:::plan
    PgSelectRows283 --> First282
    PgSelect278 --> PgSelectRows283
    PgSelectSingle285{{"PgSelectSingle[285∈14]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First282 --> PgSelectSingle285
    PgClassExpression304{{"PgClassExpression[304∈14]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression304
    PgClassExpression305{{"PgClassExpression[305∈14]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression305
    PgClassExpression306{{"PgClassExpression[306∈14]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression306
    PgClassExpression307{{"PgClassExpression[307∈14]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression307
    PgClassExpression308{{"PgClassExpression[308∈14]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle285 --> PgClassExpression308
    PgClassExpression309{{"PgClassExpression[309∈14]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle285 --> PgClassExpression309
    PgClassExpression310{{"PgClassExpression[310∈14]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle285 --> PgClassExpression310
    PgClassExpression311{{"PgClassExpression[311∈14]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle285 --> PgClassExpression311
    __Item302[/"__Item[302∈15]<br />ᐸ393ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access393 ==> __Item302
    PgUnionAllSingle303["PgUnionAllSingle[303∈15]^"]:::plan
    __Item302 --> PgUnionAllSingle303
    Access315{{"Access[315∈15]<br />ᐸ253.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAll253 --> Access315
    PgCursor317{{"PgCursor[317∈17]<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle303 & Access315 --> PgCursor317
    Access321{{"Access[321∈17]<br />ᐸ303.1ᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle303 --> Access321
    PgSelect327[["PgSelect[327∈19]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access325{{"Access[325∈19]^<br />ᐸ323.0ᐳ"}}:::plan
    Object13 & Access325 --> PgSelect327
    PgSelect341[["PgSelect[341∈19]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access325 --> PgSelect341
    JSONParse323[["JSONParse[323∈19]<br />ᐸ321ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access321 --> JSONParse323
    JSONParse323 --> Access325
    First334{{"First[334∈19]^"}}:::plan
    PgSelectRows335[["PgSelectRows[335∈19]^"]]:::plan
    PgSelectRows335 --> First334
    PgSelect327 --> PgSelectRows335
    PgSelectSingle337{{"PgSelectSingle[337∈19]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First334 --> PgSelectSingle337
    First345{{"First[345∈19]^"}}:::plan
    PgSelectRows346[["PgSelectRows[346∈19]^"]]:::plan
    PgSelectRows346 --> First345
    PgSelect341 --> PgSelectRows346
    PgSelectSingle348{{"PgSelectSingle[348∈19]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First345 --> PgSelectSingle348
    PgClassExpression377{{"PgClassExpression[377∈19]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle337 --> PgClassExpression377
    PgClassExpression378{{"PgClassExpression[378∈19]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle337 --> PgClassExpression378
    PgClassExpression379{{"PgClassExpression[379∈19]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle337 --> PgClassExpression379
    PgClassExpression380{{"PgClassExpression[380∈19]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle348 --> PgClassExpression380
    PgClassExpression381{{"PgClassExpression[381∈19]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle348 --> PgClassExpression381
    PgClassExpression382{{"PgClassExpression[382∈19]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle348 --> PgClassExpression382
    __Item313[/"__Item[313∈16]<br />ᐸ397ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access397 ==> __Item313
    PgUnionAllSingle314["PgUnionAllSingle[314∈16]^"]:::plan
    __Item313 --> PgUnionAllSingle314
    Access318{{"Access[318∈16]<br />ᐸ292.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAll292 --> Access318
    PgCursor320{{"PgCursor[320∈18]<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle314 & Access318 --> PgCursor320
    Access349{{"Access[349∈18]<br />ᐸ314.1ᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle314 --> Access349
    PgSelect355[["PgSelect[355∈20]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access353{{"Access[353∈20]^<br />ᐸ351.0ᐳ"}}:::plan
    Object13 & Access353 --> PgSelect355
    PgSelect369[["PgSelect[369∈20]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Object13 & Access353 --> PgSelect369
    JSONParse351[["JSONParse[351∈20]<br />ᐸ349ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access349 --> JSONParse351
    JSONParse351 --> Access353
    First362{{"First[362∈20]^"}}:::plan
    PgSelectRows363[["PgSelectRows[363∈20]^"]]:::plan
    PgSelectRows363 --> First362
    PgSelect355 --> PgSelectRows363
    PgSelectSingle365{{"PgSelectSingle[365∈20]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First362 --> PgSelectSingle365
    First373{{"First[373∈20]^"}}:::plan
    PgSelectRows374[["PgSelectRows[374∈20]^"]]:::plan
    PgSelectRows374 --> First373
    PgSelect369 --> PgSelectRows374
    PgSelectSingle376{{"PgSelectSingle[376∈20]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First373 --> PgSelectSingle376
    PgClassExpression383{{"PgClassExpression[383∈20]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle365 --> PgClassExpression383
    PgClassExpression384{{"PgClassExpression[384∈20]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle365 --> PgClassExpression384
    PgClassExpression385{{"PgClassExpression[385∈20]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle365 --> PgClassExpression385
    PgClassExpression386{{"PgClassExpression[386∈20]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression386
    PgClassExpression387{{"PgClassExpression[387∈20]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression387
    PgClassExpression388{{"PgClassExpression[388∈20]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle376 --> PgClassExpression388

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access12,Object13,Connection15,Connection31,Constant400 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect17,PgSelectRows19 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item20,PgSelectSingle21 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression22,PgClassExpression23,PgUnionAll32,First33,PgUnionAllSingle36,PgClassExpression37,PgUnionAll38,PgUnionAll39,Access389,Access390,Access399 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item41,PgUnionAllSingle42,Access74 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item44,PgUnionAllSingle45,Access46 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgCursor76,Access123 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7,JSONParse48,Access50,PgSelect52,First59,PgSelectRows60,PgSelectSingle62,PgSelect66,First70,PgSelectRows71,PgSelectSingle73,PgClassExpression77,PgClassExpression78,PgClassExpression79,PgClassExpression80,PgClassExpression81,PgUnionAll82,First87,PgUnionAllSingle90,PgUnionAll91,Connection99,PgClassExpression100,PgClassExpression101,PgClassExpression102,PgClassExpression103,PgClassExpression104,PgUnionAll105,First110,PgUnionAllSingle113,PgUnionAll114,Connection122,Access151,Access182,PgUnionAll247,First248,PgUnionAllSingle251,PgClassExpression252,PgUnionAll253,PgUnionAll286,First287,PgUnionAllSingle290,PgClassExpression291,PgUnionAll292,Access391,Access392,Access393,Access394,Access395,Access396,Access397,Access398 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,JSONParse125,Access127,PgSelect129,First136,PgSelectRows137,PgSelectSingle139,PgSelect143,First147,PgSelectRows148,PgSelectSingle150,PgClassExpression213,PgClassExpression214 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,JSONParse153,Access155,PgSelect157,First164,PgSelectRows165,PgSelectSingle167,PgSelect171,First175,PgSelectRows176,PgSelectSingle178,PgClassExpression215,PgClassExpression216,PgClassExpression217,PgClassExpression218 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10,__Item180,PgUnionAllSingle181,Access219 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,JSONParse184,Access186,PgSelect188,First195,PgSelectRows196,PgSelectSingle198,PgSelect202,First206,PgSelectRows207,PgSelectSingle209,PgClassExpression254,PgClassExpression255,PgClassExpression256,PgClassExpression257 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,__Item211,PgUnionAllSingle212,Access258 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,JSONParse221,Access223,PgSelect225,First232,PgSelectRows233,PgSelectSingle235,PgSelect239,First243,PgSelectRows244,PgSelectSingle246,PgClassExpression293,PgClassExpression294,PgClassExpression295,PgClassExpression296,PgClassExpression297,PgClassExpression298,PgClassExpression299,PgClassExpression300 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14,JSONParse260,Access262,PgSelect264,First271,PgSelectRows272,PgSelectSingle274,PgSelect278,First282,PgSelectRows283,PgSelectSingle285,PgClassExpression304,PgClassExpression305,PgClassExpression306,PgClassExpression307,PgClassExpression308,PgClassExpression309,PgClassExpression310,PgClassExpression311 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Item302,PgUnionAllSingle303,Access315 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item313,PgUnionAllSingle314,Access318 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,PgCursor317,Access321 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgCursor320,Access349 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,JSONParse323,Access325,PgSelect327,First334,PgSelectRows335,PgSelectSingle337,PgSelect341,First345,PgSelectRows346,PgSelectSingle348,PgClassExpression377,PgClassExpression378,PgClassExpression379,PgClassExpression380,PgClassExpression381,PgClassExpression382 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20,JSONParse351,Access353,PgSelect355,First362,PgSelectRows363,PgSelectSingle365,PgSelect369,First373,PgSelectRows374,PgSelectSingle376,PgClassExpression383,PgClassExpression384,PgClassExpression385,PgClassExpression386,PgClassExpression387,PgClassExpression388 bucket20

