%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access10["Access[10∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access11["Access[11∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object12["Object[12∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    PgSelect9[["PgSelect[9∈0]<br />ᐸcompound_type_set_queryᐳ"]]:::plan
    __Item13>"__Item[13∈1]<br />ᐸ9ᐳ"]:::itemplan
    PgSelectSingle14["PgSelectSingle[14∈1]<br />ᐸcompound_type_set_queryᐳ"]:::plan
    PgClassExpression15["PgClassExpression[15∈1]<br />ᐸ__compound...uery__.”a”ᐳ"]:::plan
    PgClassExpression16["PgClassExpression[16∈1]<br />ᐸ__compound...uery__.”b”ᐳ"]:::plan
    PgClassExpression17["PgClassExpression[17∈1]<br />ᐸ__compound...uery__.”c”ᐳ"]:::plan
    PgClassExpression18["PgClassExpression[18∈1]<br />ᐸ__compound...uery__.”d”ᐳ"]:::plan
    PgClassExpression19["PgClassExpression[19∈1]<br />ᐸ__compound...uery__.”e”ᐳ"]:::plan
    PgClassExpression20["PgClassExpression[20∈1]<br />ᐸ__compound...uery__.”f”ᐳ"]:::plan
    PgClassExpression21["PgClassExpression[21∈1]<br />ᐸ__compound...uery__.”g”ᐳ"]:::plan
    Access22["Access[22∈1]<br />ᐸ21.hoursᐳ"]:::plan
    Access23["Access[23∈1]<br />ᐸ21.minutesᐳ"]:::plan
    Access24["Access[24∈1]<br />ᐸ21.secondsᐳ"]:::plan
    PgSelect44[["PgSelect[44∈0]<br />ᐸtable_set_queryᐳ"]]:::plan
    __Item48>"__Item[48∈2]<br />ᐸ44ᐳ"]:::itemplan
    PgSelectSingle49["PgSelectSingle[49∈2]<br />ᐸtable_set_queryᐳ"]:::plan
    PgClassExpression50["PgClassExpression[50∈2]<br />ᐸ__table_se...full_name”ᐳ"]:::plan
    PgSelect70[["PgSelect[70∈0]<br />ᐸtable_set_queryᐳ"]]:::plan
    __Item74>"__Item[74∈3]<br />ᐸ70ᐳ"]:::itemplan
    PgSelectSingle75["PgSelectSingle[75∈3]<br />ᐸtable_set_queryᐳ"]:::plan
    PgClassExpression76["PgClassExpression[76∈3]<br />ᐸ__table_se...full_name”ᐳ"]:::plan
    __InputStaticLeaf77["__InputStaticLeaf[77∈0]"]:::plan
    __InputStaticLeaf79["__InputStaticLeaf[79∈0]"]:::plan
    Constant82["Constant[82∈0]"]:::plan
    PgSelect83[["PgSelect[83∈0]<br />ᐸint_set_queryᐳ"]]:::plan
    __Item87>"__Item[87∈4]<br />ᐸ83ᐳ"]:::itemplan
    PgSelectSingle88["PgSelectSingle[88∈4]<br />ᐸint_set_queryᐳ"]:::plan
    PgClassExpression89["PgClassExpression[89∈4]<br />ᐸ__int_set_query__.vᐳ"]:::plan
    PgSelect92[["PgSelect[92∈0]<br />ᐸstatic_big_integerᐳ"]]:::plan
    __Item96>"__Item[96∈5]<br />ᐸ92ᐳ"]:::itemplan
    PgSelectSingle97["PgSelectSingle[97∈5]<br />ᐸstatic_big_integerᐳ"]:::plan
    PgClassExpression98["PgClassExpression[98∈5]<br />ᐸ__static_b...nteger__.vᐳ"]:::plan
    PgSelect101[["PgSelect[101∈0]<br />ᐸquery_interval_setᐳ"]]:::plan
    __Item105>"__Item[105∈6]<br />ᐸ101ᐳ"]:::itemplan
    PgSelectSingle106["PgSelectSingle[106∈6]<br />ᐸquery_interval_setᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈6]<br />ᐸ__query_in...al_set__.vᐳ"]:::plan
    Access108["Access[108∈6]<br />ᐸ107.secondsᐳ"]:::plan
    Access109["Access[109∈6]<br />ᐸ107.minutesᐳ"]:::plan
    Access110["Access[110∈6]<br />ᐸ107.hoursᐳ"]:::plan
    Access111["Access[111∈6]<br />ᐸ107.daysᐳ"]:::plan
    Access112["Access[112∈6]<br />ᐸ107.monthsᐳ"]:::plan
    Access113["Access[113∈6]<br />ᐸ107.yearsᐳ"]:::plan
    PgSelect130[["PgSelect[130∈0]<br />ᐸpostᐳ"]]:::plan
    __Item134>"__Item[134∈7]<br />ᐸ130ᐳ"]:::itemplan
    PgSelectSingle135["PgSelectSingle[135∈7]<br />ᐸpostᐳ"]:::plan
    PgClassExpression136["PgClassExpression[136∈7]<br />ᐸ__post__.”id”ᐳ"]:::plan
    Access149["Access[149∈7]<br />ᐸ134.1ᐳ"]:::plan
    __Item144>"__Item[144∈8]<br />ᐸ149ᐳ"]:::itemplan
    PgSelectSingle145["PgSelectSingle[145∈8]<br />ᐸpost_computed_interval_setᐳ"]:::plan
    PgClassExpression146["PgClassExpression[146∈8]<br />ᐸ__post_com...al_set__.vᐳ"]:::plan
    Access147["Access[147∈8]<br />ᐸ146.secondsᐳ"]:::plan
    Access148["Access[148∈8]<br />ᐸ146.minutesᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access10
    __Value3 --> Access11
    Access10 & Access11 --> Object12
    Object12 --> PgSelect9
    PgSelect9 ==> __Item13
    __Item13 --> PgSelectSingle14
    PgSelectSingle14 --> PgClassExpression15
    PgSelectSingle14 --> PgClassExpression16
    PgSelectSingle14 --> PgClassExpression17
    PgSelectSingle14 --> PgClassExpression18
    PgSelectSingle14 --> PgClassExpression19
    PgSelectSingle14 --> PgClassExpression20
    PgSelectSingle14 --> PgClassExpression21
    PgClassExpression21 --> Access22
    PgClassExpression21 --> Access23
    PgClassExpression21 --> Access24
    Object12 --> PgSelect44
    PgSelect44 ==> __Item48
    __Item48 --> PgSelectSingle49
    PgSelectSingle49 --> PgClassExpression50
    Object12 --> PgSelect70
    PgSelect70 ==> __Item74
    __Item74 --> PgSelectSingle75
    PgSelectSingle75 --> PgClassExpression76
    Object12 & __InputStaticLeaf77 & Constant82 & __InputStaticLeaf79 --> PgSelect83
    PgSelect83 ==> __Item87
    __Item87 --> PgSelectSingle88
    PgSelectSingle88 --> PgClassExpression89
    Object12 --> PgSelect92
    PgSelect92 ==> __Item96
    __Item96 --> PgSelectSingle97
    PgSelectSingle97 --> PgClassExpression98
    Object12 --> PgSelect101
    PgSelect101 ==> __Item105
    __Item105 --> PgSelectSingle106
    PgSelectSingle106 --> PgClassExpression107
    PgClassExpression107 --> Access108
    PgClassExpression107 --> Access109
    PgClassExpression107 --> Access110
    PgClassExpression107 --> Access111
    PgClassExpression107 --> Access112
    PgClassExpression107 --> Access113
    Object12 --> PgSelect130
    PgSelect130 ==> __Item134
    __Item134 --> PgSelectSingle135
    PgSelectSingle135 --> PgClassExpression136
    __Item134 --> Access149
    Access149 ==> __Item144
    __Item144 --> PgSelectSingle145
    PgSelectSingle145 --> PgClassExpression146
    PgClassExpression146 --> Access147
    PgClassExpression146 --> Access148

    subgraph "Buckets for queries/v4/simple-procedure-query"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,PgSelect9,Access10,Access11,Object12,PgSelect44,PgSelect70,__InputStaticLeaf77,__InputStaticLeaf79,Constant82,PgSelect83,PgSelect92,PgSelect101,PgSelect130 bucket0
    Bucket1("Bucket 1 (listItem)<br />ROOT __Item{1}ᐸ9ᐳ[13]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item13,PgSelectSingle14,PgClassExpression15,PgClassExpression16,PgClassExpression17,PgClassExpression18,PgClassExpression19,PgClassExpression20,PgClassExpression21,Access22,Access23,Access24 bucket1
    Bucket2("Bucket 2 (listItem)<br />ROOT __Item{2}ᐸ44ᐳ[48]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item48,PgSelectSingle49,PgClassExpression50 bucket2
    Bucket3("Bucket 3 (listItem)<br />ROOT __Item{3}ᐸ70ᐳ[74]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item74,PgSelectSingle75,PgClassExpression76 bucket3
    Bucket4("Bucket 4 (listItem)<br />ROOT __Item{4}ᐸ83ᐳ[87]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item87,PgSelectSingle88,PgClassExpression89 bucket4
    Bucket5("Bucket 5 (listItem)<br />ROOT __Item{5}ᐸ92ᐳ[96]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item96,PgSelectSingle97,PgClassExpression98 bucket5
    Bucket6("Bucket 6 (listItem)<br />ROOT __Item{6}ᐸ101ᐳ[105]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,__Item105,PgSelectSingle106,PgClassExpression107,Access108,Access109,Access110,Access111,Access112,Access113 bucket6
    Bucket7("Bucket 7 (listItem)<br />ROOT __Item{7}ᐸ130ᐳ[134]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,__Item134,PgSelectSingle135,PgClassExpression136,Access149 bucket7
    Bucket8("Bucket 8 (listItem)<br />ROOT __Item{8}ᐸ149ᐳ[144]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,__Item144,PgSelectSingle145,PgClassExpression146,Access147,Access148 bucket8
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4 & Bucket5 & Bucket6 & Bucket7
    Bucket7 --> Bucket8
    end
