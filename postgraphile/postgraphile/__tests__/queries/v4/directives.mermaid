%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    Lambda15{{"Lambda[15∈0]<br />ᐸrawEncodeᐳ"}}:::plan
    Constant14{{"Constant[14∈0]<br />ᐸ'query'ᐳ"}}:::plan
    Constant14 --> Lambda15
    __Value4["__Value[4∈0]<br />ᐸrootValueᐳ"]:::plan

    %% define steps

    subgraph "Buckets for queries/v4/directives"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value4,Constant14,Lambda15 bucket0
    classDef unary fill:#fafffa,borderWidth:8px
    class Lambda15,__Value4,Constant14 unary
    end
