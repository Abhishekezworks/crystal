%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% define steps
    __Value0["__Value[0∈0]"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Constant15{{"Constant[15∈0]"}}:::plan
    Lambda16{{"Lambda[16∈0]<br />ᐸrawEncodeᐳ"}}:::plan
    Constant17{{"Constant[17∈0]"}}:::plan
    Lambda18{{"Lambda[18∈0]<br />ᐸrawEncodeᐳ"}}:::plan

    %% plan dependencies
    Constant15 --> Lambda16
    Constant17 --> Lambda18

    subgraph "Buckets for queries/v4/directives"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    __Value1["__Value[1∈0]<br />ᐸvariableValuesᐳ"]:::plan
    class Bucket0,__Value0,__Value1,__Value5,Constant15,Lambda16,Constant17,Lambda18 bucket0
    end
