%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect233[["PgSelect[233∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Constant333{{"Constant[333∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant334{{"Constant[334∈0] ➊<br />ᐸ3ᐳ"}}:::plan
    Lambda266{{"Lambda[266∈0] ➊<br />ᐸcalculateLimitAndOffsetSQLᐳ"}}:::plan
    Object12 & Constant333 & Constant334 & Lambda266 --> PgSelect233
    PgSelect251[["PgSelect[251∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Access247{{"Access[247∈0] ➊<br />ᐸ246.1ᐳ"}}:::plan
    Access249{{"Access[249∈0] ➊<br />ᐸ246.2ᐳ"}}:::plan
    Object12 -->|rejectNull| PgSelect251
    Access247 -->|rejectNull| PgSelect251
    Access249 & Lambda266 --> PgSelect251
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    First235{{"First[235∈0] ➊"}}:::plan
    PgSelect233 --> First235
    PgSelectSingle236{{"PgSelectSingle[236∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First235 --> PgSelectSingle236
    Lambda246{{"Lambda[246∈0] ➊<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Constant335{{"Constant[335∈0] ➊<br />ᐸ'WyJob3VzZXMiLDIsM10='ᐳ"}}:::plan
    Constant335 --> Lambda246
    Lambda246 --> Access247
    Lambda246 --> Access249
    First253{{"First[253∈0] ➊"}}:::plan
    PgSelect251 --> First253
    PgSelectSingle254{{"PgSelectSingle[254∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First253 --> PgSelectSingle254
    Constant336{{"Constant[336∈0] ➊<br />ᐸ§{ cursorLower: null, cursorUpper: null, first: null, last: ᐳ"}}:::plan
    Constant336 --> Lambda266
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant17{{"Constant[17∈0] ➊<br />ᐸ'houses'ᐳ"}}:::plan
    Constant32{{"Constant[32∈0] ➊<br />ᐸ'streets'ᐳ"}}:::plan
    Constant47{{"Constant[47∈0] ➊<br />ᐸ'buildings'ᐳ"}}:::plan
    Constant94{{"Constant[94∈0] ➊<br />ᐸ'properties'ᐳ"}}:::plan
    PgSelect14[["PgSelect[14∈1] ➊<br />ᐸhousesᐳ"]]:::plan
    Object12 & Connection13 & Lambda266 & Lambda266 & Lambda266 & Lambda266 & Lambda266 & Lambda266 --> PgSelect14
    Connection43{{"Connection[43∈1] ➊<br />ᐸ39ᐳ"}}:::plan
    Connection80{{"Connection[80∈1] ➊<br />ᐸ76ᐳ"}}:::plan
    Connection117{{"Connection[117∈1] ➊<br />ᐸ113ᐳ"}}:::plan
    Connection153{{"Connection[153∈1] ➊<br />ᐸ149ᐳ"}}:::plan
    Connection186{{"Connection[186∈1] ➊<br />ᐸ182ᐳ"}}:::plan
    Connection222{{"Connection[222∈1] ➊<br />ᐸ218ᐳ"}}:::plan
    __Item15[/"__Item[15∈2]<br />ᐸ14ᐳ"\]:::itemplan
    PgSelect14 ==> __Item15
    PgSelectSingle16{{"PgSelectSingle[16∈2]<br />ᐸhousesᐳ"}}:::plan
    __Item15 --> PgSelectSingle16
    List20{{"List[20∈3]<br />ᐸ17,18,19ᐳ"}}:::plan
    PgClassExpression18{{"PgClassExpression[18∈3]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression19{{"PgClassExpression[19∈3]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant17 & PgClassExpression18 & PgClassExpression19 --> List20
    PgSelectSingle16 --> PgClassExpression18
    PgSelectSingle16 --> PgClassExpression19
    Lambda21{{"Lambda[21∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List20 --> Lambda21
    PgClassExpression22{{"PgClassExpression[22∈3]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle16 --> PgClassExpression22
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle16 --> PgClassExpression23
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle16 --> PgClassExpression24
    PgClassExpression25{{"PgClassExpression[25∈3]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    PgSelectSingle16 --> PgClassExpression25
    PgSelectSingle31{{"PgSelectSingle[31∈3]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle16 --> PgSelectSingle31
    PgSelectSingle55{{"PgSelectSingle[55∈3]<br />ᐸbuildingsᐳ"}}:::plan
    RemapKeys325{{"RemapKeys[325∈3]<br />ᐸ16:{”0”:26,”1”:27,”2”:28,”3”:29,”4”:30,”5”:31,”6”:32,”7”:33,”8”:34,”9”:35,”10”:36,”11”:37,”12”:38}ᐳ"}}:::plan
    RemapKeys325 --> PgSelectSingle55
    PgSelectSingle129{{"PgSelectSingle[129∈3]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys303{{"RemapKeys[303∈3]<br />ᐸ16:{”0”:16,”1”:17,”2”:18,”3”:19,”4”:20,”5”:21}ᐳ"}}:::plan
    RemapKeys303 --> PgSelectSingle129
    PgSelectSingle165{{"PgSelectSingle[165∈3]<br />ᐸstreet_propertyᐳ"}}:::plan
    RemapKeys292{{"RemapKeys[292∈3]<br />ᐸ16:{”0”:3,”1”:4,”2”:5,”3”:6,”4”:7,”5”:8,”6”:9,”7”:10,”8”:11,”9”:12,”10”:13,”11”:14}ᐳ"}}:::plan
    RemapKeys292 --> PgSelectSingle165
    PgSelectSingle16 --> RemapKeys292
    PgSelectSingle16 --> RemapKeys303
    PgSelectSingle16 --> RemapKeys325
    List34{{"List[34∈4]<br />ᐸ32,33ᐳ"}}:::plan
    PgClassExpression33{{"PgClassExpression[33∈4]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression33 --> List34
    PgSelectSingle31 --> PgClassExpression33
    Lambda35{{"Lambda[35∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List34 --> Lambda35
    PgClassExpression36{{"PgClassExpression[36∈4]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle31 --> PgClassExpression36
    Access267{{"Access[267∈4]<br />ᐸ16.1ᐳ"}}:::plan
    PgSelectSingle16 --> Access267
    __Item45[/"__Item[45∈5]<br />ᐸ267ᐳ"\]:::itemplan
    Access267 ==> __Item45
    PgSelectSingle46{{"PgSelectSingle[46∈5]<br />ᐸbuildingsᐳ"}}:::plan
    __Item45 --> PgSelectSingle46
    List49{{"List[49∈6]<br />ᐸ47,48ᐳ"}}:::plan
    PgClassExpression48{{"PgClassExpression[48∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression48 --> List49
    PgSelectSingle46 --> PgClassExpression48
    Lambda50{{"Lambda[50∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List49 --> Lambda50
    PgClassExpression51{{"PgClassExpression[51∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle46 --> PgClassExpression51
    List58{{"List[58∈7]<br />ᐸ47,57ᐳ"}}:::plan
    PgClassExpression57{{"PgClassExpression[57∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression57 --> List58
    PgSelectSingle55 --> PgClassExpression57
    Lambda59{{"Lambda[59∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List58 --> Lambda59
    PgClassExpression60{{"PgClassExpression[60∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle55 --> PgClassExpression60
    PgClassExpression61{{"PgClassExpression[61∈7]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgSelectSingle55 --> PgClassExpression61
    PgClassExpression62{{"PgClassExpression[62∈7]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    PgSelectSingle55 --> PgClassExpression62
    PgSelectSingle68{{"PgSelectSingle[68∈7]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys310{{"RemapKeys[310∈7]<br />ᐸ55:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys310 --> PgSelectSingle68
    PgSelectSingle93{{"PgSelectSingle[93∈7]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys321{{"RemapKeys[321∈7]<br />ᐸ55:{”0”:7,”1”:8,”2”:9,”3”:10,”4”:11,”5”:12}ᐳ"}}:::plan
    RemapKeys321 --> PgSelectSingle93
    PgSelectSingle55 --> RemapKeys310
    PgSelectSingle55 --> RemapKeys321
    List71{{"List[71∈8]<br />ᐸ32,70ᐳ"}}:::plan
    PgClassExpression70{{"PgClassExpression[70∈8]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression70 --> List71
    PgSelectSingle68 --> PgClassExpression70
    Lambda72{{"Lambda[72∈8]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List71 --> Lambda72
    PgClassExpression73{{"PgClassExpression[73∈8]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression73
    Access307{{"Access[307∈8]<br />ᐸ310.1ᐳ"}}:::plan
    RemapKeys310 --> Access307
    __Item82[/"__Item[82∈9]<br />ᐸ307ᐳ"\]:::itemplan
    Access307 ==> __Item82
    PgSelectSingle83{{"PgSelectSingle[83∈9]<br />ᐸbuildingsᐳ"}}:::plan
    __Item82 --> PgSelectSingle83
    List86{{"List[86∈10]<br />ᐸ47,85ᐳ"}}:::plan
    PgClassExpression85{{"PgClassExpression[85∈10]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression85 --> List86
    PgSelectSingle83 --> PgClassExpression85
    Lambda87{{"Lambda[87∈10]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List86 --> Lambda87
    PgClassExpression88{{"PgClassExpression[88∈10]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle83 --> PgClassExpression88
    List96{{"List[96∈11]<br />ᐸ94,95ᐳ"}}:::plan
    PgClassExpression95{{"PgClassExpression[95∈11]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression95 --> List96
    PgSelectSingle93 --> PgClassExpression95
    Lambda97{{"Lambda[97∈11]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List96 --> Lambda97
    PgClassExpression98{{"PgClassExpression[98∈11]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle93 --> PgClassExpression98
    PgClassExpression99{{"PgClassExpression[99∈11]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle93 --> PgClassExpression99
    PgSelectSingle105{{"PgSelectSingle[105∈11]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys317{{"RemapKeys[317∈11]<br />ᐸ93:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys317 --> PgSelectSingle105
    PgSelectSingle93 --> RemapKeys317
    List108{{"List[108∈12]<br />ᐸ32,107ᐳ"}}:::plan
    PgClassExpression107{{"PgClassExpression[107∈12]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression107 --> List108
    PgSelectSingle105 --> PgClassExpression107
    Lambda109{{"Lambda[109∈12]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List108 --> Lambda109
    PgClassExpression110{{"PgClassExpression[110∈12]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle105 --> PgClassExpression110
    Access314{{"Access[314∈12]<br />ᐸ317.1ᐳ"}}:::plan
    RemapKeys317 --> Access314
    __Item119[/"__Item[119∈13]<br />ᐸ314ᐳ"\]:::itemplan
    Access314 ==> __Item119
    PgSelectSingle120{{"PgSelectSingle[120∈13]<br />ᐸbuildingsᐳ"}}:::plan
    __Item119 --> PgSelectSingle120
    List123{{"List[123∈14]<br />ᐸ47,122ᐳ"}}:::plan
    PgClassExpression122{{"PgClassExpression[122∈14]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression122 --> List123
    PgSelectSingle120 --> PgClassExpression122
    Lambda124{{"Lambda[124∈14]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List123 --> Lambda124
    PgClassExpression125{{"PgClassExpression[125∈14]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle120 --> PgClassExpression125
    List132{{"List[132∈15]<br />ᐸ94,131ᐳ"}}:::plan
    PgClassExpression131{{"PgClassExpression[131∈15]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression131 --> List132
    PgSelectSingle129 --> PgClassExpression131
    Lambda133{{"Lambda[133∈15]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List132 --> Lambda133
    PgClassExpression134{{"PgClassExpression[134∈15]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression134
    PgClassExpression135{{"PgClassExpression[135∈15]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression135
    PgSelectSingle141{{"PgSelectSingle[141∈15]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys299{{"RemapKeys[299∈15]<br />ᐸ129:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys299 --> PgSelectSingle141
    PgSelectSingle129 --> RemapKeys299
    List144{{"List[144∈16]<br />ᐸ32,143ᐳ"}}:::plan
    PgClassExpression143{{"PgClassExpression[143∈16]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression143 --> List144
    PgSelectSingle141 --> PgClassExpression143
    Lambda145{{"Lambda[145∈16]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List144 --> Lambda145
    PgClassExpression146{{"PgClassExpression[146∈16]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle141 --> PgClassExpression146
    Access296{{"Access[296∈16]<br />ᐸ299.1ᐳ"}}:::plan
    RemapKeys299 --> Access296
    __Item155[/"__Item[155∈17]<br />ᐸ296ᐳ"\]:::itemplan
    Access296 ==> __Item155
    PgSelectSingle156{{"PgSelectSingle[156∈17]<br />ᐸbuildingsᐳ"}}:::plan
    __Item155 --> PgSelectSingle156
    List159{{"List[159∈18]<br />ᐸ47,158ᐳ"}}:::plan
    PgClassExpression158{{"PgClassExpression[158∈18]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression158 --> List159
    PgSelectSingle156 --> PgClassExpression158
    Lambda160{{"Lambda[160∈18]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List159 --> Lambda160
    PgClassExpression161{{"PgClassExpression[161∈18]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle156 --> PgClassExpression161
    PgClassExpression166{{"PgClassExpression[166∈19]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression166
    PgClassExpression167{{"PgClassExpression[167∈19]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression167
    PgClassExpression168{{"PgClassExpression[168∈19]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression168
    PgSelectSingle174{{"PgSelectSingle[174∈19]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle165 --> PgSelectSingle174
    PgSelectSingle198{{"PgSelectSingle[198∈19]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys288{{"RemapKeys[288∈19]<br />ᐸ165:{”0”:4,”1”:5,”2”:6,”3”:7,”4”:8,”5”:9}ᐳ"}}:::plan
    RemapKeys288 --> PgSelectSingle198
    PgSelectSingle165 --> RemapKeys288
    List177{{"List[177∈20]<br />ᐸ32,176ᐳ"}}:::plan
    PgClassExpression176{{"PgClassExpression[176∈20]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression176 --> List177
    PgSelectSingle174 --> PgClassExpression176
    Lambda178{{"Lambda[178∈20]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List177 --> Lambda178
    PgClassExpression179{{"PgClassExpression[179∈20]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle174 --> PgClassExpression179
    Access274{{"Access[274∈20]<br />ᐸ165.1ᐳ"}}:::plan
    PgSelectSingle165 --> Access274
    __Item188[/"__Item[188∈21]<br />ᐸ274ᐳ"\]:::itemplan
    Access274 ==> __Item188
    PgSelectSingle189{{"PgSelectSingle[189∈21]<br />ᐸbuildingsᐳ"}}:::plan
    __Item188 --> PgSelectSingle189
    List192{{"List[192∈22]<br />ᐸ47,191ᐳ"}}:::plan
    PgClassExpression191{{"PgClassExpression[191∈22]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression191 --> List192
    PgSelectSingle189 --> PgClassExpression191
    Lambda193{{"Lambda[193∈22]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List192 --> Lambda193
    PgClassExpression194{{"PgClassExpression[194∈22]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle189 --> PgClassExpression194
    List201{{"List[201∈23]<br />ᐸ94,200ᐳ"}}:::plan
    PgClassExpression200{{"PgClassExpression[200∈23]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression200 --> List201
    PgSelectSingle198 --> PgClassExpression200
    Lambda202{{"Lambda[202∈23]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List201 --> Lambda202
    PgClassExpression203{{"PgClassExpression[203∈23]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle198 --> PgClassExpression203
    PgClassExpression204{{"PgClassExpression[204∈23]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle198 --> PgClassExpression204
    PgSelectSingle210{{"PgSelectSingle[210∈23]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys284{{"RemapKeys[284∈23]<br />ᐸ198:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys284 --> PgSelectSingle210
    PgSelectSingle198 --> RemapKeys284
    List213{{"List[213∈24]<br />ᐸ32,212ᐳ"}}:::plan
    PgClassExpression212{{"PgClassExpression[212∈24]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant32 & PgClassExpression212 --> List213
    PgSelectSingle210 --> PgClassExpression212
    Lambda214{{"Lambda[214∈24]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List213 --> Lambda214
    PgClassExpression215{{"PgClassExpression[215∈24]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle210 --> PgClassExpression215
    Access281{{"Access[281∈24]<br />ᐸ284.1ᐳ"}}:::plan
    RemapKeys284 --> Access281
    __Item224[/"__Item[224∈25]<br />ᐸ281ᐳ"\]:::itemplan
    Access281 ==> __Item224
    PgSelectSingle225{{"PgSelectSingle[225∈25]<br />ᐸbuildingsᐳ"}}:::plan
    __Item224 --> PgSelectSingle225
    List228{{"List[228∈26]<br />ᐸ47,227ᐳ"}}:::plan
    PgClassExpression227{{"PgClassExpression[227∈26]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant47 & PgClassExpression227 --> List228
    PgSelectSingle225 --> PgClassExpression227
    Lambda229{{"Lambda[229∈26]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List228 --> Lambda229
    PgClassExpression230{{"PgClassExpression[230∈26]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle225 --> PgClassExpression230
    List243{{"List[243∈27] ➊<br />ᐸ17,241,242ᐳ"}}:::plan
    PgClassExpression241{{"PgClassExpression[241∈27] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression242{{"PgClassExpression[242∈27] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant17 & PgClassExpression241 & PgClassExpression242 --> List243
    PgClassExpression237{{"PgClassExpression[237∈27] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression237
    PgClassExpression238{{"PgClassExpression[238∈27] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression238
    PgClassExpression239{{"PgClassExpression[239∈27] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression239
    PgSelectSingle236 --> PgClassExpression241
    PgSelectSingle236 --> PgClassExpression242
    Lambda244{{"Lambda[244∈27] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List243 --> Lambda244
    List261{{"List[261∈28] ➊<br />ᐸ17,259,260ᐳ"}}:::plan
    PgClassExpression259{{"PgClassExpression[259∈28] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression260{{"PgClassExpression[260∈28] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant17 & PgClassExpression259 & PgClassExpression260 --> List261
    PgClassExpression255{{"PgClassExpression[255∈28] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle254 --> PgClassExpression255
    PgClassExpression256{{"PgClassExpression[256∈28] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle254 --> PgClassExpression256
    PgClassExpression257{{"PgClassExpression[257∈28] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle254 --> PgClassExpression257
    PgSelectSingle254 --> PgClassExpression259
    PgSelectSingle254 --> PgClassExpression260
    Lambda262{{"Lambda[262∈28] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List261 --> Lambda262

    %% define steps

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 10, 11, 13, 17, 32, 47, 94, 333, 334, 335, 336, 12, 246, 247, 249, 266<br />2: PgSelect[233], PgSelect[251]<br />ᐳ: 235, 236, 253, 254"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,Constant17,Constant32,Constant47,Constant94,PgSelect233,First235,PgSelectSingle236,Lambda246,Access247,Access249,PgSelect251,First253,PgSelectSingle254,Lambda266,Constant333,Constant334,Constant335,Constant336 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 12, 13, 266, 17, 32, 47, 94<br /><br />ROOT Connectionᐸ9ᐳ[13]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect14,Connection43,Connection80,Connection117,Connection153,Connection186,Connection222 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 17, 32, 47, 94, 43, 80, 117, 153, 186, 222<br /><br />ROOT __Item{2}ᐸ14ᐳ[15]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item15,PgSelectSingle16 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 16, 17, 32, 47, 94, 43, 80, 117, 153, 186, 222<br /><br />ROOT PgSelectSingle{2}ᐸhousesᐳ[16]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression18,PgClassExpression19,List20,Lambda21,PgClassExpression22,PgClassExpression23,PgClassExpression24,PgClassExpression25,PgSelectSingle31,PgSelectSingle55,PgSelectSingle129,PgSelectSingle165,RemapKeys292,RemapKeys303,RemapKeys325 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 31, 32, 16, 47, 43<br /><br />ROOT PgSelectSingle{3}ᐸstreetsᐳ[31]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression33,List34,Lambda35,PgClassExpression36,Access267 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 47<br /><br />ROOT __Item{5}ᐸ267ᐳ[45]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item45,PgSelectSingle46 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 46, 47<br /><br />ROOT PgSelectSingle{5}ᐸbuildingsᐳ[46]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression48,List49,Lambda50,PgClassExpression51 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 55, 47, 32, 94, 80, 117<br /><br />ROOT PgSelectSingle{3}ᐸbuildingsᐳ[55]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression57,List58,Lambda59,PgClassExpression60,PgClassExpression61,PgClassExpression62,PgSelectSingle68,PgSelectSingle93,RemapKeys310,RemapKeys321 bucket7
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 68, 32, 310, 47, 80<br /><br />ROOT PgSelectSingle{7}ᐸstreetsᐳ[68]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression70,List71,Lambda72,PgClassExpression73,Access307 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 47<br /><br />ROOT __Item{9}ᐸ307ᐳ[82]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item82,PgSelectSingle83 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 83, 47<br /><br />ROOT PgSelectSingle{9}ᐸbuildingsᐳ[83]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression85,List86,Lambda87,PgClassExpression88 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 93, 94, 32, 47, 117<br /><br />ROOT PgSelectSingle{7}ᐸpropertiesᐳ[93]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression95,List96,Lambda97,PgClassExpression98,PgClassExpression99,PgSelectSingle105,RemapKeys317 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 105, 32, 317, 47, 117<br /><br />ROOT PgSelectSingle{11}ᐸstreetsᐳ[105]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression107,List108,Lambda109,PgClassExpression110,Access314 bucket12
    Bucket13("Bucket 13 (listItem)<br />Deps: 47<br /><br />ROOT __Item{13}ᐸ314ᐳ[119]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item119,PgSelectSingle120 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 120, 47<br /><br />ROOT PgSelectSingle{13}ᐸbuildingsᐳ[120]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression122,List123,Lambda124,PgClassExpression125 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 129, 94, 32, 47, 153<br /><br />ROOT PgSelectSingle{3}ᐸpropertiesᐳ[129]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression131,List132,Lambda133,PgClassExpression134,PgClassExpression135,PgSelectSingle141,RemapKeys299 bucket15
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 141, 32, 299, 47, 153<br /><br />ROOT PgSelectSingle{15}ᐸstreetsᐳ[141]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression143,List144,Lambda145,PgClassExpression146,Access296 bucket16
    Bucket17("Bucket 17 (listItem)<br />Deps: 47<br /><br />ROOT __Item{17}ᐸ296ᐳ[155]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,__Item155,PgSelectSingle156 bucket17
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 156, 47<br /><br />ROOT PgSelectSingle{17}ᐸbuildingsᐳ[156]"):::bucket
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgClassExpression158,List159,Lambda160,PgClassExpression161 bucket18
    Bucket19("Bucket 19 (nullableBoundary)<br />Deps: 165, 32, 47, 94, 186, 222<br /><br />ROOT PgSelectSingle{3}ᐸstreet_propertyᐳ[165]"):::bucket
    classDef bucket19 stroke:#7f007f
    class Bucket19,PgClassExpression166,PgClassExpression167,PgClassExpression168,PgSelectSingle174,PgSelectSingle198,RemapKeys288 bucket19
    Bucket20("Bucket 20 (nullableBoundary)<br />Deps: 174, 32, 165, 47, 186<br /><br />ROOT PgSelectSingle{19}ᐸstreetsᐳ[174]"):::bucket
    classDef bucket20 stroke:#ffa500
    class Bucket20,PgClassExpression176,List177,Lambda178,PgClassExpression179,Access274 bucket20
    Bucket21("Bucket 21 (listItem)<br />Deps: 47<br /><br />ROOT __Item{21}ᐸ274ᐳ[188]"):::bucket
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item188,PgSelectSingle189 bucket21
    Bucket22("Bucket 22 (nullableBoundary)<br />Deps: 189, 47<br /><br />ROOT PgSelectSingle{21}ᐸbuildingsᐳ[189]"):::bucket
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgClassExpression191,List192,Lambda193,PgClassExpression194 bucket22
    Bucket23("Bucket 23 (nullableBoundary)<br />Deps: 198, 94, 32, 47, 222<br /><br />ROOT PgSelectSingle{19}ᐸpropertiesᐳ[198]"):::bucket
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgClassExpression200,List201,Lambda202,PgClassExpression203,PgClassExpression204,PgSelectSingle210,RemapKeys284 bucket23
    Bucket24("Bucket 24 (nullableBoundary)<br />Deps: 210, 32, 284, 47, 222<br /><br />ROOT PgSelectSingle{23}ᐸstreetsᐳ[210]"):::bucket
    classDef bucket24 stroke:#808000
    class Bucket24,PgClassExpression212,List213,Lambda214,PgClassExpression215,Access281 bucket24
    Bucket25("Bucket 25 (listItem)<br />Deps: 47<br /><br />ROOT __Item{25}ᐸ281ᐳ[224]"):::bucket
    classDef bucket25 stroke:#dda0dd
    class Bucket25,__Item224,PgSelectSingle225 bucket25
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 225, 47<br /><br />ROOT PgSelectSingle{25}ᐸbuildingsᐳ[225]"):::bucket
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgClassExpression227,List228,Lambda229,PgClassExpression230 bucket26
    Bucket27("Bucket 27 (nullableBoundary)<br />Deps: 236, 17<br /><br />ROOT PgSelectSingleᐸhousesᐳ[236]"):::bucket
    classDef bucket27 stroke:#ffff00
    class Bucket27,PgClassExpression237,PgClassExpression238,PgClassExpression239,PgClassExpression241,PgClassExpression242,List243,Lambda244 bucket27
    Bucket28("Bucket 28 (nullableBoundary)<br />Deps: 254, 17<br /><br />ROOT PgSelectSingleᐸhousesᐳ[254]"):::bucket
    classDef bucket28 stroke:#00ffff
    class Bucket28,PgClassExpression255,PgClassExpression256,PgClassExpression257,PgClassExpression259,PgClassExpression260,List261,Lambda262 bucket28
    Bucket0 --> Bucket1 & Bucket27 & Bucket28
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket7 & Bucket15 & Bucket19
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8 & Bucket11
    Bucket8 --> Bucket9
    Bucket9 --> Bucket10
    Bucket11 --> Bucket12
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    Bucket17 --> Bucket18
    Bucket19 --> Bucket20 & Bucket23
    Bucket20 --> Bucket21
    Bucket21 --> Bucket22
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25
    Bucket25 --> Bucket26
    end
