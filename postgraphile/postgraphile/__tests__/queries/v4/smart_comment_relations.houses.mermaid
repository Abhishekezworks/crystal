%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect284[["PgSelect[284∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Object17{{"Object[17∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Constant346{{"Constant[346∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant347{{"Constant[347∈0] ➊<br />ᐸ3ᐳ"}}:::plan
    Object17 & Constant346 & Constant347 --> PgSelect284
    PgSelect304[["PgSelect[304∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Access300{{"Access[300∈0] ➊<br />ᐸ299.1ᐳ"}}:::plan
    Access302{{"Access[302∈0] ➊<br />ᐸ299.2ᐳ"}}:::plan
    Object17 -->|rejectNull| PgSelect304
    Access300 -->|rejectNull| PgSelect304
    Access302 --> PgSelect304
    Access15{{"Access[15∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access16{{"Access[16∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access15 & Access16 --> Object17
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access15
    __Value2 --> Access16
    First288{{"First[288∈0] ➊"}}:::plan
    PgSelect284 --> First288
    PgSelectSingle289{{"PgSelectSingle[289∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First288 --> PgSelectSingle289
    Lambda299{{"Lambda[299∈0] ➊<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Constant348{{"Constant[348∈0] ➊<br />ᐸ'WyJob3VzZXMiLDIsM10='ᐳ"}}:::plan
    Constant348 --> Lambda299
    Lambda299 --> Access300
    Lambda299 --> Access302
    First308{{"First[308∈0] ➊"}}:::plan
    PgSelect304 --> First308
    PgSelectSingle309{{"PgSelectSingle[309∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First308 --> PgSelectSingle309
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection18{{"Connection[18∈0] ➊<br />ᐸ14ᐳ"}}:::plan
    Constant22{{"Constant[22∈0] ➊<br />ᐸ'houses'ᐳ"}}:::plan
    Constant37{{"Constant[37∈0] ➊<br />ᐸ'streets'ᐳ"}}:::plan
    Constant58{{"Constant[58∈0] ➊<br />ᐸ'buildings'ᐳ"}}:::plan
    Constant115{{"Constant[115∈0] ➊<br />ᐸ'properties'ᐳ"}}:::plan
    PgSelect19[["PgSelect[19∈1] ➊<br />ᐸhousesᐳ"]]:::plan
    Object17 & Connection18 --> PgSelect19
    Connection54{{"Connection[54∈1] ➊<br />ᐸ50ᐳ"}}:::plan
    Connection99{{"Connection[99∈1] ➊<br />ᐸ95ᐳ"}}:::plan
    Connection144{{"Connection[144∈1] ➊<br />ᐸ140ᐳ"}}:::plan
    Connection188{{"Connection[188∈1] ➊<br />ᐸ184ᐳ"}}:::plan
    Connection229{{"Connection[229∈1] ➊<br />ᐸ225ᐳ"}}:::plan
    Connection273{{"Connection[273∈1] ➊<br />ᐸ269ᐳ"}}:::plan
    __Item20[/"__Item[20∈2]<br />ᐸ19ᐳ"\]:::itemplan
    PgSelect19 ==> __Item20
    PgSelectSingle21{{"PgSelectSingle[21∈2]<br />ᐸhousesᐳ"}}:::plan
    __Item20 --> PgSelectSingle21
    List25{{"List[25∈3]<br />ᐸ22,23,24ᐳ"}}:::plan
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression23 & PgClassExpression24 --> List25
    PgSelectSingle21 --> PgClassExpression23
    PgSelectSingle21 --> PgClassExpression24
    Lambda26{{"Lambda[26∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List25 --> Lambda26
    PgClassExpression27{{"PgClassExpression[27∈3]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression27
    PgClassExpression28{{"PgClassExpression[28∈3]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression28
    PgClassExpression29{{"PgClassExpression[29∈3]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression29
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression30
    PgSelectSingle36{{"PgSelectSingle[36∈3]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle21 --> PgSelectSingle36
    PgSelectSingle68{{"PgSelectSingle[68∈3]<br />ᐸbuildingsᐳ"}}:::plan
    RemapKeys344{{"RemapKeys[344∈3]<br />ᐸ21:{”0”:26,”1”:27,”2”:28,”3”:29,”4”:30,”5”:31,”6”:32,”7”:33,”8”:34,”9”:35,”10”:36,”11”:37,”12”:38}ᐳ"}}:::plan
    RemapKeys344 --> PgSelectSingle68
    PgSelectSingle158{{"PgSelectSingle[158∈3]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys334{{"RemapKeys[334∈3]<br />ᐸ21:{”0”:16,”1”:17,”2”:18,”3”:19,”4”:20,”5”:21}ᐳ"}}:::plan
    RemapKeys334 --> PgSelectSingle158
    PgSelectSingle202{{"PgSelectSingle[202∈3]<br />ᐸstreet_propertyᐳ"}}:::plan
    RemapKeys329{{"RemapKeys[329∈3]<br />ᐸ21:{”0”:3,”1”:4,”2”:5,”3”:6,”4”:7,”5”:8,”6”:9,”7”:10,”8”:11,”9”:12,”10”:13,”11”:14}ᐳ"}}:::plan
    RemapKeys329 --> PgSelectSingle202
    PgSelectSingle21 --> RemapKeys329
    PgSelectSingle21 --> RemapKeys334
    PgSelectSingle21 --> RemapKeys344
    List39{{"List[39∈4]<br />ᐸ37,38ᐳ"}}:::plan
    PgClassExpression38{{"PgClassExpression[38∈4]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression38 --> List39
    PgSelectSingle36 --> PgClassExpression38
    Lambda40{{"Lambda[40∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List39 --> Lambda40
    PgClassExpression41{{"PgClassExpression[41∈4]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle36 --> PgClassExpression41
    Access318{{"Access[318∈4]<br />ᐸ21.1ᐳ"}}:::plan
    PgSelectSingle21 --> Access318
    __Item56[/"__Item[56∈5]<br />ᐸ318ᐳ"\]:::itemplan
    Access318 ==> __Item56
    PgSelectSingle57{{"PgSelectSingle[57∈5]<br />ᐸbuildingsᐳ"}}:::plan
    __Item56 --> PgSelectSingle57
    List60{{"List[60∈6]<br />ᐸ58,59ᐳ"}}:::plan
    PgClassExpression59{{"PgClassExpression[59∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression59 --> List60
    PgSelectSingle57 --> PgClassExpression59
    Lambda61{{"Lambda[61∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List60 --> Lambda61
    PgClassExpression62{{"PgClassExpression[62∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle57 --> PgClassExpression62
    List71{{"List[71∈7]<br />ᐸ58,70ᐳ"}}:::plan
    PgClassExpression70{{"PgClassExpression[70∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression70 --> List71
    PgSelectSingle68 --> PgClassExpression70
    Lambda72{{"Lambda[72∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List71 --> Lambda72
    PgClassExpression73{{"PgClassExpression[73∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression73
    PgClassExpression74{{"PgClassExpression[74∈7]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression74
    PgClassExpression75{{"PgClassExpression[75∈7]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    PgSelectSingle68 --> PgClassExpression75
    PgSelectSingle81{{"PgSelectSingle[81∈7]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys337{{"RemapKeys[337∈7]<br />ᐸ68:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys337 --> PgSelectSingle81
    PgSelectSingle114{{"PgSelectSingle[114∈7]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys342{{"RemapKeys[342∈7]<br />ᐸ68:{”0”:7,”1”:8,”2”:9,”3”:10,”4”:11,”5”:12}ᐳ"}}:::plan
    RemapKeys342 --> PgSelectSingle114
    PgSelectSingle68 --> RemapKeys337
    PgSelectSingle68 --> RemapKeys342
    List84{{"List[84∈8]<br />ᐸ37,83ᐳ"}}:::plan
    PgClassExpression83{{"PgClassExpression[83∈8]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression83 --> List84
    PgSelectSingle81 --> PgClassExpression83
    Lambda85{{"Lambda[85∈8]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List84 --> Lambda85
    PgClassExpression86{{"PgClassExpression[86∈8]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle81 --> PgClassExpression86
    Access336{{"Access[336∈8]<br />ᐸ337.1ᐳ"}}:::plan
    RemapKeys337 --> Access336
    __Item101[/"__Item[101∈9]<br />ᐸ336ᐳ"\]:::itemplan
    Access336 ==> __Item101
    PgSelectSingle102{{"PgSelectSingle[102∈9]<br />ᐸbuildingsᐳ"}}:::plan
    __Item101 --> PgSelectSingle102
    List105{{"List[105∈10]<br />ᐸ58,104ᐳ"}}:::plan
    PgClassExpression104{{"PgClassExpression[104∈10]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression104 --> List105
    PgSelectSingle102 --> PgClassExpression104
    Lambda106{{"Lambda[106∈10]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List105 --> Lambda106
    PgClassExpression107{{"PgClassExpression[107∈10]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle102 --> PgClassExpression107
    List117{{"List[117∈11]<br />ᐸ115,116ᐳ"}}:::plan
    PgClassExpression116{{"PgClassExpression[116∈11]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant115 & PgClassExpression116 --> List117
    PgSelectSingle114 --> PgClassExpression116
    Lambda118{{"Lambda[118∈11]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List117 --> Lambda118
    PgClassExpression119{{"PgClassExpression[119∈11]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle114 --> PgClassExpression119
    PgClassExpression120{{"PgClassExpression[120∈11]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle114 --> PgClassExpression120
    PgSelectSingle126{{"PgSelectSingle[126∈11]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys340{{"RemapKeys[340∈11]<br />ᐸ114:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys340 --> PgSelectSingle126
    PgSelectSingle114 --> RemapKeys340
    List129{{"List[129∈12]<br />ᐸ37,128ᐳ"}}:::plan
    PgClassExpression128{{"PgClassExpression[128∈12]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression128 --> List129
    PgSelectSingle126 --> PgClassExpression128
    Lambda130{{"Lambda[130∈12]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List129 --> Lambda130
    PgClassExpression131{{"PgClassExpression[131∈12]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle126 --> PgClassExpression131
    Access339{{"Access[339∈12]<br />ᐸ340.1ᐳ"}}:::plan
    RemapKeys340 --> Access339
    __Item146[/"__Item[146∈13]<br />ᐸ339ᐳ"\]:::itemplan
    Access339 ==> __Item146
    PgSelectSingle147{{"PgSelectSingle[147∈13]<br />ᐸbuildingsᐳ"}}:::plan
    __Item146 --> PgSelectSingle147
    List150{{"List[150∈14]<br />ᐸ58,149ᐳ"}}:::plan
    PgClassExpression149{{"PgClassExpression[149∈14]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression149 --> List150
    PgSelectSingle147 --> PgClassExpression149
    Lambda151{{"Lambda[151∈14]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List150 --> Lambda151
    PgClassExpression152{{"PgClassExpression[152∈14]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle147 --> PgClassExpression152
    List161{{"List[161∈15]<br />ᐸ115,160ᐳ"}}:::plan
    PgClassExpression160{{"PgClassExpression[160∈15]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant115 & PgClassExpression160 --> List161
    PgSelectSingle158 --> PgClassExpression160
    Lambda162{{"Lambda[162∈15]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List161 --> Lambda162
    PgClassExpression163{{"PgClassExpression[163∈15]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle158 --> PgClassExpression163
    PgClassExpression164{{"PgClassExpression[164∈15]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle158 --> PgClassExpression164
    PgSelectSingle170{{"PgSelectSingle[170∈15]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys332{{"RemapKeys[332∈15]<br />ᐸ158:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys332 --> PgSelectSingle170
    PgSelectSingle158 --> RemapKeys332
    List173{{"List[173∈16]<br />ᐸ37,172ᐳ"}}:::plan
    PgClassExpression172{{"PgClassExpression[172∈16]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression172 --> List173
    PgSelectSingle170 --> PgClassExpression172
    Lambda174{{"Lambda[174∈16]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List173 --> Lambda174
    PgClassExpression175{{"PgClassExpression[175∈16]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle170 --> PgClassExpression175
    Access331{{"Access[331∈16]<br />ᐸ332.1ᐳ"}}:::plan
    RemapKeys332 --> Access331
    __Item190[/"__Item[190∈17]<br />ᐸ331ᐳ"\]:::itemplan
    Access331 ==> __Item190
    PgSelectSingle191{{"PgSelectSingle[191∈17]<br />ᐸbuildingsᐳ"}}:::plan
    __Item190 --> PgSelectSingle191
    List194{{"List[194∈18]<br />ᐸ58,193ᐳ"}}:::plan
    PgClassExpression193{{"PgClassExpression[193∈18]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression193 --> List194
    PgSelectSingle191 --> PgClassExpression193
    Lambda195{{"Lambda[195∈18]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List194 --> Lambda195
    PgClassExpression196{{"PgClassExpression[196∈18]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle191 --> PgClassExpression196
    PgClassExpression203{{"PgClassExpression[203∈19]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    PgSelectSingle202 --> PgClassExpression203
    PgClassExpression204{{"PgClassExpression[204∈19]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    PgSelectSingle202 --> PgClassExpression204
    PgClassExpression205{{"PgClassExpression[205∈19]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    PgSelectSingle202 --> PgClassExpression205
    PgSelectSingle211{{"PgSelectSingle[211∈19]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle202 --> PgSelectSingle211
    PgSelectSingle243{{"PgSelectSingle[243∈19]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys327{{"RemapKeys[327∈19]<br />ᐸ202:{”0”:4,”1”:5,”2”:6,”3”:7,”4”:8,”5”:9}ᐳ"}}:::plan
    RemapKeys327 --> PgSelectSingle243
    PgSelectSingle202 --> RemapKeys327
    List214{{"List[214∈20]<br />ᐸ37,213ᐳ"}}:::plan
    PgClassExpression213{{"PgClassExpression[213∈20]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression213 --> List214
    PgSelectSingle211 --> PgClassExpression213
    Lambda215{{"Lambda[215∈20]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List214 --> Lambda215
    PgClassExpression216{{"PgClassExpression[216∈20]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle211 --> PgClassExpression216
    Access321{{"Access[321∈20]<br />ᐸ202.1ᐳ"}}:::plan
    PgSelectSingle202 --> Access321
    __Item231[/"__Item[231∈21]<br />ᐸ321ᐳ"\]:::itemplan
    Access321 ==> __Item231
    PgSelectSingle232{{"PgSelectSingle[232∈21]<br />ᐸbuildingsᐳ"}}:::plan
    __Item231 --> PgSelectSingle232
    List235{{"List[235∈22]<br />ᐸ58,234ᐳ"}}:::plan
    PgClassExpression234{{"PgClassExpression[234∈22]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression234 --> List235
    PgSelectSingle232 --> PgClassExpression234
    Lambda236{{"Lambda[236∈22]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List235 --> Lambda236
    PgClassExpression237{{"PgClassExpression[237∈22]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle232 --> PgClassExpression237
    List246{{"List[246∈23]<br />ᐸ115,245ᐳ"}}:::plan
    PgClassExpression245{{"PgClassExpression[245∈23]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant115 & PgClassExpression245 --> List246
    PgSelectSingle243 --> PgClassExpression245
    Lambda247{{"Lambda[247∈23]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List246 --> Lambda247
    PgClassExpression248{{"PgClassExpression[248∈23]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle243 --> PgClassExpression248
    PgClassExpression249{{"PgClassExpression[249∈23]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle243 --> PgClassExpression249
    PgSelectSingle255{{"PgSelectSingle[255∈23]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys325{{"RemapKeys[325∈23]<br />ᐸ243:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys325 --> PgSelectSingle255
    PgSelectSingle243 --> RemapKeys325
    List258{{"List[258∈24]<br />ᐸ37,257ᐳ"}}:::plan
    PgClassExpression257{{"PgClassExpression[257∈24]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression257 --> List258
    PgSelectSingle255 --> PgClassExpression257
    Lambda259{{"Lambda[259∈24]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List258 --> Lambda259
    PgClassExpression260{{"PgClassExpression[260∈24]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle255 --> PgClassExpression260
    Access324{{"Access[324∈24]<br />ᐸ325.1ᐳ"}}:::plan
    RemapKeys325 --> Access324
    __Item275[/"__Item[275∈25]<br />ᐸ324ᐳ"\]:::itemplan
    Access324 ==> __Item275
    PgSelectSingle276{{"PgSelectSingle[276∈25]<br />ᐸbuildingsᐳ"}}:::plan
    __Item275 --> PgSelectSingle276
    List279{{"List[279∈26]<br />ᐸ58,278ᐳ"}}:::plan
    PgClassExpression278{{"PgClassExpression[278∈26]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression278 --> List279
    PgSelectSingle276 --> PgClassExpression278
    Lambda280{{"Lambda[280∈26]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List279 --> Lambda280
    PgClassExpression281{{"PgClassExpression[281∈26]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle276 --> PgClassExpression281
    List296{{"List[296∈27] ➊<br />ᐸ22,294,295ᐳ"}}:::plan
    PgClassExpression294{{"PgClassExpression[294∈27] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression295{{"PgClassExpression[295∈27] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression294 & PgClassExpression295 --> List296
    PgClassExpression290{{"PgClassExpression[290∈27] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle289 --> PgClassExpression290
    PgClassExpression291{{"PgClassExpression[291∈27] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle289 --> PgClassExpression291
    PgClassExpression292{{"PgClassExpression[292∈27] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle289 --> PgClassExpression292
    PgSelectSingle289 --> PgClassExpression294
    PgSelectSingle289 --> PgClassExpression295
    Lambda297{{"Lambda[297∈27] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List296 --> Lambda297
    List316{{"List[316∈28] ➊<br />ᐸ22,314,315ᐳ"}}:::plan
    PgClassExpression314{{"PgClassExpression[314∈28] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression315{{"PgClassExpression[315∈28] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression314 & PgClassExpression315 --> List316
    PgClassExpression310{{"PgClassExpression[310∈28] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle309 --> PgClassExpression310
    PgClassExpression311{{"PgClassExpression[311∈28] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle309 --> PgClassExpression311
    PgClassExpression312{{"PgClassExpression[312∈28] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle309 --> PgClassExpression312
    PgSelectSingle309 --> PgClassExpression314
    PgSelectSingle309 --> PgClassExpression315
    Lambda317{{"Lambda[317∈28] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List316 --> Lambda317

    %% define steps

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 15, 16, 18, 22, 37, 58, 115, 346, 347, 348, 17, 299, 300, 302<br />2: PgSelect[284], PgSelect[304]<br />ᐳ: 288, 289, 308, 309"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access15,Access16,Object17,Connection18,Constant22,Constant37,Constant58,Constant115,PgSelect284,First288,PgSelectSingle289,Lambda299,Access300,Access302,PgSelect304,First308,PgSelectSingle309,Constant346,Constant347,Constant348 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 17, 18, 22, 37, 58, 115<br /><br />ROOT Connectionᐸ14ᐳ[18]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect19,Connection54,Connection99,Connection144,Connection188,Connection229,Connection273 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 22, 37, 58, 115, 54, 99, 144, 188, 229, 273<br /><br />ROOT __Item{2}ᐸ19ᐳ[20]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item20,PgSelectSingle21 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 21, 22, 37, 58, 115, 54, 99, 144, 188, 229, 273<br /><br />ROOT PgSelectSingle{2}ᐸhousesᐳ[21]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression23,PgClassExpression24,List25,Lambda26,PgClassExpression27,PgClassExpression28,PgClassExpression29,PgClassExpression30,PgSelectSingle36,PgSelectSingle68,PgSelectSingle158,PgSelectSingle202,RemapKeys329,RemapKeys334,RemapKeys344 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 36, 37, 21, 58, 54<br /><br />ROOT PgSelectSingle{3}ᐸstreetsᐳ[36]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression38,List39,Lambda40,PgClassExpression41,Access318 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 58<br /><br />ROOT __Item{5}ᐸ318ᐳ[56]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item56,PgSelectSingle57 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 57, 58<br /><br />ROOT PgSelectSingle{5}ᐸbuildingsᐳ[57]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression59,List60,Lambda61,PgClassExpression62 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 68, 58, 37, 115, 99, 144<br /><br />ROOT PgSelectSingle{3}ᐸbuildingsᐳ[68]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression70,List71,Lambda72,PgClassExpression73,PgClassExpression74,PgClassExpression75,PgSelectSingle81,PgSelectSingle114,RemapKeys337,RemapKeys342 bucket7
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 81, 37, 337, 58, 99<br /><br />ROOT PgSelectSingle{7}ᐸstreetsᐳ[81]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression83,List84,Lambda85,PgClassExpression86,Access336 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 58<br /><br />ROOT __Item{9}ᐸ336ᐳ[101]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item101,PgSelectSingle102 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 102, 58<br /><br />ROOT PgSelectSingle{9}ᐸbuildingsᐳ[102]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression104,List105,Lambda106,PgClassExpression107 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 114, 115, 37, 58, 144<br /><br />ROOT PgSelectSingle{7}ᐸpropertiesᐳ[114]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression116,List117,Lambda118,PgClassExpression119,PgClassExpression120,PgSelectSingle126,RemapKeys340 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 126, 37, 340, 58, 144<br /><br />ROOT PgSelectSingle{11}ᐸstreetsᐳ[126]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression128,List129,Lambda130,PgClassExpression131,Access339 bucket12
    Bucket13("Bucket 13 (listItem)<br />Deps: 58<br /><br />ROOT __Item{13}ᐸ339ᐳ[146]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item146,PgSelectSingle147 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 147, 58<br /><br />ROOT PgSelectSingle{13}ᐸbuildingsᐳ[147]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression149,List150,Lambda151,PgClassExpression152 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 158, 115, 37, 58, 188<br /><br />ROOT PgSelectSingle{3}ᐸpropertiesᐳ[158]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression160,List161,Lambda162,PgClassExpression163,PgClassExpression164,PgSelectSingle170,RemapKeys332 bucket15
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 170, 37, 332, 58, 188<br /><br />ROOT PgSelectSingle{15}ᐸstreetsᐳ[170]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression172,List173,Lambda174,PgClassExpression175,Access331 bucket16
    Bucket17("Bucket 17 (listItem)<br />Deps: 58<br /><br />ROOT __Item{17}ᐸ331ᐳ[190]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,__Item190,PgSelectSingle191 bucket17
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 191, 58<br /><br />ROOT PgSelectSingle{17}ᐸbuildingsᐳ[191]"):::bucket
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgClassExpression193,List194,Lambda195,PgClassExpression196 bucket18
    Bucket19("Bucket 19 (nullableBoundary)<br />Deps: 202, 37, 58, 115, 229, 273<br /><br />ROOT PgSelectSingle{3}ᐸstreet_propertyᐳ[202]"):::bucket
    classDef bucket19 stroke:#7f007f
    class Bucket19,PgClassExpression203,PgClassExpression204,PgClassExpression205,PgSelectSingle211,PgSelectSingle243,RemapKeys327 bucket19
    Bucket20("Bucket 20 (nullableBoundary)<br />Deps: 211, 37, 202, 58, 229<br /><br />ROOT PgSelectSingle{19}ᐸstreetsᐳ[211]"):::bucket
    classDef bucket20 stroke:#ffa500
    class Bucket20,PgClassExpression213,List214,Lambda215,PgClassExpression216,Access321 bucket20
    Bucket21("Bucket 21 (listItem)<br />Deps: 58<br /><br />ROOT __Item{21}ᐸ321ᐳ[231]"):::bucket
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item231,PgSelectSingle232 bucket21
    Bucket22("Bucket 22 (nullableBoundary)<br />Deps: 232, 58<br /><br />ROOT PgSelectSingle{21}ᐸbuildingsᐳ[232]"):::bucket
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgClassExpression234,List235,Lambda236,PgClassExpression237 bucket22
    Bucket23("Bucket 23 (nullableBoundary)<br />Deps: 243, 115, 37, 58, 273<br /><br />ROOT PgSelectSingle{19}ᐸpropertiesᐳ[243]"):::bucket
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgClassExpression245,List246,Lambda247,PgClassExpression248,PgClassExpression249,PgSelectSingle255,RemapKeys325 bucket23
    Bucket24("Bucket 24 (nullableBoundary)<br />Deps: 255, 37, 325, 58, 273<br /><br />ROOT PgSelectSingle{23}ᐸstreetsᐳ[255]"):::bucket
    classDef bucket24 stroke:#808000
    class Bucket24,PgClassExpression257,List258,Lambda259,PgClassExpression260,Access324 bucket24
    Bucket25("Bucket 25 (listItem)<br />Deps: 58<br /><br />ROOT __Item{25}ᐸ324ᐳ[275]"):::bucket
    classDef bucket25 stroke:#dda0dd
    class Bucket25,__Item275,PgSelectSingle276 bucket25
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 276, 58<br /><br />ROOT PgSelectSingle{25}ᐸbuildingsᐳ[276]"):::bucket
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgClassExpression278,List279,Lambda280,PgClassExpression281 bucket26
    Bucket27("Bucket 27 (nullableBoundary)<br />Deps: 289, 22<br /><br />ROOT PgSelectSingleᐸhousesᐳ[289]"):::bucket
    classDef bucket27 stroke:#ffff00
    class Bucket27,PgClassExpression290,PgClassExpression291,PgClassExpression292,PgClassExpression294,PgClassExpression295,List296,Lambda297 bucket27
    Bucket28("Bucket 28 (nullableBoundary)<br />Deps: 309, 22<br /><br />ROOT PgSelectSingleᐸhousesᐳ[309]"):::bucket
    classDef bucket28 stroke:#00ffff
    class Bucket28,PgClassExpression310,PgClassExpression311,PgClassExpression312,PgClassExpression314,PgClassExpression315,List316,Lambda317 bucket28
    Bucket0 --> Bucket1 & Bucket27 & Bucket28
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket7 & Bucket15 & Bucket19
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8 & Bucket11
    Bucket8 --> Bucket9
    Bucket9 --> Bucket10
    Bucket11 --> Bucket12
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    Bucket17 --> Bucket18
    Bucket19 --> Bucket20 & Bucket23
    Bucket20 --> Bucket21
    Bucket21 --> Bucket22
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25
    Bucket25 --> Bucket26
    end
