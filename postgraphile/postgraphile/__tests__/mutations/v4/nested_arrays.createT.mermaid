%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    List228{{"List[228∈0] ➊<br />ᐸ80,185,244,244,244,244,244,244ᐳ"}}:::plan
    List80{{"List[80∈0] ➊<br />ᐸ39ᐳ"}}:::plan
    List185{{"List[185∈0] ➊<br />ᐸ95,144ᐳ"}}:::plan
    Constant244{{"Constant[244∈0] ➊<br />ᐸ[]ᐳ"}}:::plan
    List80 & List185 & Constant244 & Constant244 & Constant244 & Constant244 & Constant244 & Constant244 --> List228
    Object39{{"Object[39∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access48{{"Access[48∈0] ➊<br />ᐸ0.input.t.v.0.0.fromHoursᐳ"}}:::plan
    Access58{{"Access[58∈0] ➊<br />ᐸ0.input.t.v.0.0.fromMinutesᐳ"}}:::plan
    Access68{{"Access[68∈0] ➊<br />ᐸ0.input.t.v.0.0.toHoursᐳ"}}:::plan
    Access78{{"Access[78∈0] ➊<br />ᐸ0.input.t.v.0.0.toMinutesᐳ"}}:::plan
    Access48 & Access58 & Access68 & Access78 --> Object39
    Object95{{"Object[95∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access104{{"Access[104∈0] ➊<br />ᐸ0.input.t.v.1.0.fromHoursᐳ"}}:::plan
    Access114{{"Access[114∈0] ➊<br />ᐸ0.input.t.v.1.0.fromMinutesᐳ"}}:::plan
    Access124{{"Access[124∈0] ➊<br />ᐸ0.input.t.v.1.0.toHoursᐳ"}}:::plan
    Access134{{"Access[134∈0] ➊<br />ᐸ0.input.t.v.1.0.toMinutesᐳ"}}:::plan
    Access104 & Access114 & Access124 & Access134 --> Object95
    Object144{{"Object[144∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access153{{"Access[153∈0] ➊<br />ᐸ0.input.t.v.1.1.fromHoursᐳ"}}:::plan
    Access163{{"Access[163∈0] ➊<br />ᐸ0.input.t.v.1.1.fromMinutesᐳ"}}:::plan
    Access173{{"Access[173∈0] ➊<br />ᐸ0.input.t.v.1.1.toHoursᐳ"}}:::plan
    Access183{{"Access[183∈0] ➊<br />ᐸ0.input.t.v.1.1.toMinutesᐳ"}}:::plan
    Access153 & Access163 & Access173 & Access183 --> Object144
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    Object95 & Object144 --> List185
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    __Value0["__Value[0∈0] ➊<br />ᐸvariableValuesᐳ"]:::plan
    __Value0 --> Access48
    __Value0 --> Access58
    __Value0 --> Access68
    __Value0 --> Access78
    Object39 --> List80
    __Value0 --> Access104
    __Value0 --> Access114
    __Value0 --> Access124
    __Value0 --> Access134
    __Value0 --> Access153
    __Value0 --> Access163
    __Value0 --> Access173
    __Value0 --> Access183
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    PgInsertSingle8[["PgInsertSingle[8∈1] ➊<br />ᐸt(v)ᐳ"]]:::sideeffectplan
    Object11 & List228 --> PgInsertSingle8
    Object12{{"Object[12∈1] ➊<br />ᐸ{result}ᐳ"}}:::plan
    PgInsertSingle8 --> Object12
    PgClassExpression229{{"PgClassExpression[229∈3] ➊<br />ᐸ__t__.”k”ᐳ"}}:::plan
    PgInsertSingle8 --> PgClassExpression229
    PgClassExpression230{{"PgClassExpression[230∈3] ➊<br />ᐸ__t__.”v”ᐳ"}}:::plan
    PgInsertSingle8 --> PgClassExpression230
    PgSelect234[["PgSelect[234∈5]<br />ᐸfrmcdc_workHourᐳ"]]:::plan
    __Item233[/"__Item[233∈5]<br />ᐸ230ᐳ"\]:::itemplan
    Object11 & __Item233 --> PgSelect234
    PgClassExpression230 ==> __Item233
    __Item238[/"__Item[238∈6]<br />ᐸ234ᐳ"\]:::itemplan
    PgSelect234 ==> __Item238
    PgSelectSingle239{{"PgSelectSingle[239∈6]<br />ᐸfrmcdc_workHourᐳ"}}:::plan
    __Item238 --> PgSelectSingle239
    PgClassExpression240{{"PgClassExpression[240∈6]<br />ᐸ__frmcdc_w...rom_hours”ᐳ"}}:::plan
    PgSelectSingle239 --> PgClassExpression240
    PgClassExpression241{{"PgClassExpression[241∈6]<br />ᐸ__frmcdc_w...m_minutes”ᐳ"}}:::plan
    PgSelectSingle239 --> PgClassExpression241
    PgClassExpression242{{"PgClassExpression[242∈6]<br />ᐸ__frmcdc_w...”to_hours”ᐳ"}}:::plan
    PgSelectSingle239 --> PgClassExpression242
    PgClassExpression243{{"PgClassExpression[243∈6]<br />ᐸ__frmcdc_w...o_minutes”ᐳ"}}:::plan
    PgSelectSingle239 --> PgClassExpression243

    %% define steps

    subgraph "Buckets for mutations/v4/nested_arrays.createT"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value2,__Value4,Access9,Access10,Object11,Object39,Access48,Access58,Access68,Access78,List80,Object95,Access104,Access114,Access124,Access134,Object144,Access153,Access163,Access173,Access183,List185,List228,Constant244 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 228<br /><br />1: PgInsertSingle[8]<br />2: <br />ᐳ: Object[12]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgInsertSingle8,Object12 bucket1
    Bucket2("Bucket 2 (nullableBoundary)<br />Deps: 12, 8, 11<br /><br />ROOT Object{1}ᐸ{result}ᐳ[12]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 8, 11<br /><br />ROOT PgInsertSingle{1}ᐸt(v)ᐳ[8]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression229,PgClassExpression230 bucket3
    Bucket5("Bucket 5 (listItem)<br />Deps: 11<br /><br />ROOT __Item{5}ᐸ230ᐳ[233]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item233,PgSelect234 bucket5
    Bucket6("Bucket 6 (listItem)<br /><br />ROOT __Item{6}ᐸ234ᐳ[238]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,__Item238,PgSelectSingle239,PgClassExpression240,PgClassExpression241,PgClassExpression242,PgClassExpression243 bucket6
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket5
    Bucket5 --> Bucket6
    end
