---
sidebar_position: 2
---

# Getting started

## Installation

Grafast is an alternative execution layer for GraphQL; we still need GraphQL.js
for building the schema, and parsing and validating requests. So the first thing
you need to do to get started is to install `grafast` and `graphql`:

```
yarn install grafast graphql
```

or with `npm`:

```
npm install --save grafast graphql
```

Other package managers are available :wink:

:::note

We intend to write up a specification so that other languages may implement the
Grafast execution strategy, but for now Grafast is JavaScript/TypeScript only.

:::

## My first plan

If you have an existing GraphQL.js schema, check out
[using with an existing schema](./existing-schema). Otherwise, let's quickly
build a schema and query it.

:::info

There are many ways to build a GraphQL schema, we're going to use the "schema
first" approach in this example, but there's no reason that a Grafast schema
couldn't be produced "code first" or "database first" or any other approach.

:::

First, lets define our GraphQL schema. We're going to go with an incredibly
simple schema with a single field that adds together its two arguments:

```ts
const typeDefs = /* GraphQL */ `
  type Query {
    addTwoNumbers(a: Int!, b: Int!): Int
  }
`;
```

Now we need to define how the `Query.addTwoNumbers` field works; to do that, we
define the `plans` for the schema. In this case we're going to use the
[lambda][] plan which takes a list of other plans, and then calls a callback for
each set of values passed in:

```ts
const { lambda } = require("grafast");

const plans = {
  Query: {
    addTwoNumbers(_, args) {
      const $a = args.get("a");
      const $b = args.get("b");
      return lambda([$a, $b], ([a, b]) => a + b);
    },
  },
};
```

:::tip

`lambda` is a bit of an escape hatch â”€ it enables one-by-one processing of
values rather than the batched processing that Grafast prefers for efficiency.
For a simple example like this it's fine, but for something more serious you
should generally pick a [more suitable step](./standard-steps).

:::

To turn this into a schema, we can use the `makeGrafastSchema` helper which will
stitch the `typeDefs` and the `plans` together:

```ts
const { makeGrafastSchema } = require("grafast");

const schema = makeGrafastSchema({
  typeDefs,
  plans,
});
```

Finally, we can run our query:

```ts
const { grafastSync } = require("grafast");

const result = grafastSync({
  schema,
  source: /* GraphQL */ `
    {
      addTwoNumbers(a: 40, b: 2)
    }
  `,
});
```

The result is what we'd expect:

```json
{
  "data": {
    "addTwoNumbers": 42
  }
}
```

:::info

Our schema is so simple the query could be ran synchronously with `grafastSync`,
but most queries in the real world should be executed through `grafast` and will
return a promise, or even an async iterable!

:::

## Next steps

Now we have a basic schema, we should make it available to our application via a
server.
