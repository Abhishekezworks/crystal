%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant6{{"Constant[6∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant7{{"Constant[7∈0] ➊<br />ᐸ'Computed post ꖛ1'ᐳ"}}:::plan
    Constant13{{"Constant[13∈0] ➊<br />ᐸ'Computed post ꖛ2'ᐳ"}}:::plan
    Constant19{{"Constant[19∈0] ➊<br />ᐸ'Computed post ꖛ3'ᐳ"}}:::plan
    PgSelect8[["PgSelect[8∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant7 --> PgSelect8
    PgSelect14[["PgSelect[14∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant13 --> PgSelect14
    PgSelect20[["PgSelect[20∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant19 --> PgSelect20
    First24{{"First[24∈1] ➊"}}:::plan
    PgSelect20 --> First24
    PgSelectSingle25{{"PgSelectSingle[25∈1] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First24 --> PgSelectSingle25
    PgClassExpression26{{"PgClassExpression[26∈1] ➊<br />ᐸ__relational_posts__ᐳ"}}:::plan
    PgSelectSingle25 --> PgClassExpression26
    PgSelect28[["PgSelect[28∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant156{{"Constant[156∈2] ➊<br />ᐸ1000000ᐳ"}}:::plan
    Object11 & Constant156 --> PgSelect28
    PgSelect71[["PgSelect[71∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant157{{"Constant[157∈2] ➊<br />ᐸ1000001ᐳ"}}:::plan
    Object11 & Constant157 --> PgSelect71
    PgSelect114[["PgSelect[114∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant158{{"Constant[158∈2] ➊<br />ᐸ1000002ᐳ"}}:::plan
    Object11 & Constant158 --> PgSelect114
    First32{{"First[32∈2] ➊"}}:::plan
    PgSelect28 --> First32
    PgSelectSingle33{{"PgSelectSingle[33∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First32 --> PgSelectSingle33
    First75{{"First[75∈2] ➊"}}:::plan
    PgSelect71 --> First75
    PgSelectSingle76{{"PgSelectSingle[76∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First75 --> PgSelectSingle76
    First118{{"First[118∈2] ➊"}}:::plan
    PgSelect114 --> First118
    PgSelectSingle119{{"PgSelectSingle[119∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First118 --> PgSelectSingle119
    PgPolymorphic35{{"PgPolymorphic[35∈3] ➊"}}:::plan
    PgClassExpression34{{"PgClassExpression[34∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle33 & PgClassExpression34 --> PgPolymorphic35
    PgPolymorphic78{{"PgPolymorphic[78∈3] ➊"}}:::plan
    PgClassExpression77{{"PgClassExpression[77∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle76 & PgClassExpression77 --> PgPolymorphic78
    PgPolymorphic121{{"PgPolymorphic[121∈3] ➊"}}:::plan
    PgClassExpression120{{"PgClassExpression[120∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle119 & PgClassExpression120 --> PgPolymorphic121
    PgSelectSingle33 --> PgClassExpression34
    PgSelectSingle76 --> PgClassExpression77
    PgSelectSingle119 --> PgClassExpression120
    PgSelect37[["PgSelect[37∈4] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression36{{"PgClassExpression[36∈4] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression36 --> PgSelect37
    PgSelect43[["PgSelect[43∈4] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect43
    PgSelect52[["PgSelect[52∈4] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect52
    PgSelect58[["PgSelect[58∈4] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect58
    PgSelect64[["PgSelect[64∈4] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect64
    PgSelectSingle33 --> PgClassExpression36
    First41{{"First[41∈4] ➊"}}:::plan
    PgSelect37 --> First41
    PgSelectSingle42{{"PgSelectSingle[42∈4] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First41 --> PgSelectSingle42
    First47{{"First[47∈4] ➊"}}:::plan
    PgSelect43 --> First47
    PgSelectSingle48{{"PgSelectSingle[48∈4] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First47 --> PgSelectSingle48
    PgClassExpression49{{"PgClassExpression[49∈4] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle48 --> PgClassExpression49
    PgClassExpression50{{"PgClassExpression[50∈4] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle48 --> PgClassExpression50
    PgClassExpression51{{"PgClassExpression[51∈4] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle48 --> PgClassExpression51
    First56{{"First[56∈4] ➊"}}:::plan
    PgSelect52 --> First56
    PgSelectSingle57{{"PgSelectSingle[57∈4] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First56 --> PgSelectSingle57
    First62{{"First[62∈4] ➊"}}:::plan
    PgSelect58 --> First62
    PgSelectSingle63{{"PgSelectSingle[63∈4] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First62 --> PgSelectSingle63
    First68{{"First[68∈4] ➊"}}:::plan
    PgSelect64 --> First68
    PgSelectSingle69{{"PgSelectSingle[69∈4] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First68 --> PgSelectSingle69
    PgSelect80[["PgSelect[80∈5] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression79{{"PgClassExpression[79∈5] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression79 --> PgSelect80
    PgSelect86[["PgSelect[86∈5] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression79 --> PgSelect86
    PgSelect95[["PgSelect[95∈5] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression79 --> PgSelect95
    PgSelect101[["PgSelect[101∈5] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression79 --> PgSelect101
    PgSelect107[["PgSelect[107∈5] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression79 --> PgSelect107
    PgSelectSingle76 --> PgClassExpression79
    First84{{"First[84∈5] ➊"}}:::plan
    PgSelect80 --> First84
    PgSelectSingle85{{"PgSelectSingle[85∈5] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First84 --> PgSelectSingle85
    First90{{"First[90∈5] ➊"}}:::plan
    PgSelect86 --> First90
    PgSelectSingle91{{"PgSelectSingle[91∈5] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First90 --> PgSelectSingle91
    PgClassExpression92{{"PgClassExpression[92∈5] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle91 --> PgClassExpression92
    PgClassExpression93{{"PgClassExpression[93∈5] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle91 --> PgClassExpression93
    PgClassExpression94{{"PgClassExpression[94∈5] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle91 --> PgClassExpression94
    First99{{"First[99∈5] ➊"}}:::plan
    PgSelect95 --> First99
    PgSelectSingle100{{"PgSelectSingle[100∈5] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First99 --> PgSelectSingle100
    First105{{"First[105∈5] ➊"}}:::plan
    PgSelect101 --> First105
    PgSelectSingle106{{"PgSelectSingle[106∈5] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First105 --> PgSelectSingle106
    First111{{"First[111∈5] ➊"}}:::plan
    PgSelect107 --> First111
    PgSelectSingle112{{"PgSelectSingle[112∈5] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First111 --> PgSelectSingle112
    PgSelect123[["PgSelect[123∈6] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression122{{"PgClassExpression[122∈6] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression122 --> PgSelect123
    PgSelect129[["PgSelect[129∈6] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression122 --> PgSelect129
    PgSelect138[["PgSelect[138∈6] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression122 --> PgSelect138
    PgSelect144[["PgSelect[144∈6] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression122 --> PgSelect144
    PgSelect150[["PgSelect[150∈6] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression122 --> PgSelect150
    PgSelectSingle119 --> PgClassExpression122
    First127{{"First[127∈6] ➊"}}:::plan
    PgSelect123 --> First127
    PgSelectSingle128{{"PgSelectSingle[128∈6] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First127 --> PgSelectSingle128
    First133{{"First[133∈6] ➊"}}:::plan
    PgSelect129 --> First133
    PgSelectSingle134{{"PgSelectSingle[134∈6] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First133 --> PgSelectSingle134
    PgClassExpression135{{"PgClassExpression[135∈6] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle134 --> PgClassExpression135
    PgClassExpression136{{"PgClassExpression[136∈6] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle134 --> PgClassExpression136
    PgClassExpression137{{"PgClassExpression[137∈6] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle134 --> PgClassExpression137
    First142{{"First[142∈6] ➊"}}:::plan
    PgSelect138 --> First142
    PgSelectSingle143{{"PgSelectSingle[143∈6] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First142 --> PgSelectSingle143
    First148{{"First[148∈6] ➊"}}:::plan
    PgSelect144 --> First148
    PgSelectSingle149{{"PgSelectSingle[149∈6] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First148 --> PgSelectSingle149
    First154{{"First[154∈6] ➊"}}:::plan
    PgSelect150 --> First154
    PgSelectSingle155{{"PgSelectSingle[155∈6] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First154 --> PgSelectSingle155

    %% define steps

    %% implicit side effects
    PgSelect8 -.-o PgSelect14
    PgSelect14 -.-o PgSelect20

    subgraph "Buckets for mutations/basics/create-three-relational-posts-computed"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Constant6,Constant7,Access9,Access10,Object11,Constant13,Constant19 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 6, 7, 13, 19, 4<br /><br />1: PgSelect[8]<br />2: PgSelect[14]<br />3: PgSelect[20]<br />4: <br />ᐳ: 24, 25, 26"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect8,PgSelect14,PgSelect20,First24,PgSelectSingle25,PgClassExpression26 bucket1
    Bucket2("Bucket 2 (nullableBoundary)<br />Deps: 11, 26, 4<br /><br />ROOT PgClassExpression{1}ᐸ__relational_posts__ᐳ[26]<br />1: <br />ᐳ: 156, 157, 158<br />2: 28, 71, 114<br />ᐳ: 32, 33, 75, 76, 118, 119"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgSelect28,First32,PgSelectSingle33,PgSelect71,First75,PgSelectSingle76,PgSelect114,First118,PgSelectSingle119,Constant156,Constant157,Constant158 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 33, 76, 119, 4, 11<br /><br />ROOT __ValueᐸrootValueᐳ[4]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression34,PgPolymorphic35,PgClassExpression77,PgPolymorphic78,PgClassExpression120,PgPolymorphic121 bucket3
    Bucket4("Bucket 4 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 33, 11, 35<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[36]<br />2: 37, 43, 52, 58, 64<br />ᐳ: 41, 42, 47, 48, 49, 50, 51, 56, 57, 62, 63, 68, 69"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression36,PgSelect37,First41,PgSelectSingle42,PgSelect43,First47,PgSelectSingle48,PgClassExpression49,PgClassExpression50,PgClassExpression51,PgSelect52,First56,PgSelectSingle57,PgSelect58,First62,PgSelectSingle63,PgSelect64,First68,PgSelectSingle69 bucket4
    Bucket5("Bucket 5 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 76, 11, 78<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[79]<br />2: 80, 86, 95, 101, 107<br />ᐳ: 84, 85, 90, 91, 92, 93, 94, 99, 100, 105, 106, 111, 112"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,PgClassExpression79,PgSelect80,First84,PgSelectSingle85,PgSelect86,First90,PgSelectSingle91,PgClassExpression92,PgClassExpression93,PgClassExpression94,PgSelect95,First99,PgSelectSingle100,PgSelect101,First105,PgSelectSingle106,PgSelect107,First111,PgSelectSingle112 bucket5
    Bucket6("Bucket 6 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 119, 11, 121<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[122]<br />2: 123, 129, 138, 144, 150<br />ᐳ: 127, 128, 133, 134, 135, 136, 137, 142, 143, 148, 149, 154, 155"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression122,PgSelect123,First127,PgSelectSingle128,PgSelect129,First133,PgSelectSingle134,PgClassExpression135,PgClassExpression136,PgClassExpression137,PgSelect138,First142,PgSelectSingle143,PgSelect144,First148,PgSelectSingle149,PgSelect150,First154,PgSelectSingle155 bucket6
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5 & Bucket6
    end
