%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for mutations/basics/update-relational-post"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (mutationField)<br />Deps: 15, 358, 9, 359"):::bucket
    Bucket2("Bucket 2 (mutationField)<br />Deps: 358, 9, 360, 2<br /><br />1: Access[22]<br />2: Access[24]<br />3: Object[25]<br />4: PgUpdateSingle[21]"):::bucket
    Bucket3("Bucket 3 (mutationField)<br />Deps: 358, 9, 30, 2<br /><br />1: Access[32]<br />2: Access[34]<br />3: Object[35]<br />4: PgUpdateSingle[31]"):::bucket
    Bucket4("Bucket 4 (mutationField)<br />Deps: 361, 9, 30, 2<br /><br />1: Access[42]<br />2: Access[44]<br />3: Object[45]<br />4: PgUpdateSingle[41]"):::bucket
    Bucket5("Bucket 5 (nullableBoundary)<br />Deps: 11, 15<br /><br />ROOT PgUpdateSingle{1}ᐸrelational_posts(id;title,description,note)ᐳ[11]<br />1: 286, 299<br />ᐳ: 47, 298, 46<br />2: PgSelectInlineApply[292]<br />3: PgSelect[50]<br />ᐳ: Access[293], Access[300]<br />4: PgSelectRows[58]<br />ᐳ: First[57], PgSelectSingle[60]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 21, 25<br /><br />ROOT PgUpdateSingle{2}ᐸrelational_posts(id;title,description,note)ᐳ[21]<br />1: 304, 317<br />ᐳ: 62, 316, 61<br />2: PgSelectInlineApply[310]<br />3: PgSelect[65]<br />ᐳ: Access[311], Access[318]<br />4: PgSelectRows[73]<br />ᐳ: First[72], PgSelectSingle[75]"):::bucket
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 31, 35<br /><br />ROOT PgUpdateSingle{3}ᐸrelational_posts(id;title,description,note)ᐳ[31]<br />1: 322, 335<br />ᐳ: 77, 334, 76<br />2: PgSelectInlineApply[328]<br />3: PgSelect[80]<br />ᐳ: Access[329], Access[336]<br />4: PgSelectRows[88]<br />ᐳ: First[87], PgSelectSingle[90]"):::bucket
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 41, 45<br /><br />ROOT PgUpdateSingle{4}ᐸrelational_posts(id;title,description,note)ᐳ[41]<br />1: 340, 353<br />ᐳ: 92, 352, 91<br />2: PgSelectInlineApply[346]<br />3: PgSelect[95]<br />ᐳ: Access[347], Access[354]<br />4: PgSelectRows[103]<br />ᐳ: First[102], PgSelectSingle[105]"):::bucket
    Bucket9("Bucket 9 (nullableBoundary)<br />Deps: 60, 293, 300<br /><br />ROOT PgSelectSingle{5}ᐸrelational_postsᐳ[60]<br />1: <br />ᐳ: 106, 107, 108, 109, 295, 301, 296, 302, 287<br />2: PgSelectRows[120], PgSelectRows[129]<br />ᐳ: 119, 122, 123, 128, 131, 132, 289, 290<br />3: PgSelectRows[146]<br />ᐳ: First[145], PgSelectSingle[148]"):::bucket
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 75, 311, 318<br /><br />ROOT PgSelectSingle{6}ᐸrelational_postsᐳ[75]<br />1: <br />ᐳ: 149, 150, 151, 152, 313, 319, 314, 320, 305<br />2: PgSelectRows[163], PgSelectRows[172]<br />ᐳ: 162, 165, 166, 171, 174, 175, 307, 308<br />3: PgSelectRows[189]<br />ᐳ: First[188], PgSelectSingle[191]"):::bucket
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 90, 329, 336<br /><br />ROOT PgSelectSingle{7}ᐸrelational_postsᐳ[90]<br />1: <br />ᐳ: 192, 193, 194, 195, 331, 337, 332, 338, 323<br />2: PgSelectRows[206], PgSelectRows[215]<br />ᐳ: 205, 208, 209, 214, 217, 218, 325, 326<br />3: PgSelectRows[232]<br />ᐳ: First[231], PgSelectSingle[234]"):::bucket
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 105, 347, 354<br /><br />ROOT PgSelectSingle{8}ᐸrelational_postsᐳ[105]<br />1: <br />ᐳ: 235, 236, 237, 238, 349, 355, 350, 356, 341<br />2: PgSelectRows[249], PgSelectRows[258]<br />ᐳ: 248, 251, 252, 257, 260, 261, 343, 344<br />3: PgSelectRows[275]<br />ᐳ: First[274], PgSelectSingle[277]"):::bucket
    Bucket13("Bucket 13 (nullableBoundary)<br />Deps: 148<br /><br />ROOT PgSelectSingle{9}ᐸpeopleᐳ[148]"):::bucket
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 191<br /><br />ROOT PgSelectSingle{10}ᐸpeopleᐳ[191]"):::bucket
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 234<br /><br />ROOT PgSelectSingle{11}ᐸpeopleᐳ[234]"):::bucket
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 277<br /><br />ROOT PgSelectSingle{12}ᐸpeopleᐳ[277]"):::bucket
    end
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4
    Bucket1 --> Bucket5
    Bucket2 --> Bucket6
    Bucket3 --> Bucket7
    Bucket4 --> Bucket8
    Bucket5 --> Bucket9
    Bucket6 --> Bucket10
    Bucket7 --> Bucket11
    Bucket8 --> Bucket12
    Bucket9 --> Bucket13
    Bucket10 --> Bucket14
    Bucket11 --> Bucket15
    Bucket12 --> Bucket16

    %% plan dependencies
    Object15{{"Object[15∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access12{{"Access[12∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access14{{"Access[14∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access12 & Access14 --> Object15
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access12
    __Value2 --> Access14
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant30{{"Constant[30∈0] ➊<br />ᐸnullᐳ"}}:::plan
    Constant358{{"Constant[358∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant359{{"Constant[359∈0] ➊<br />ᐸ'A description'ᐳ"}}:::plan
    Constant360{{"Constant[360∈0] ➊<br />ᐸ'A note'ᐳ"}}:::plan
    Constant361{{"Constant[361∈0] ➊<br />ᐸ3141592ᐳ"}}:::plan
    PgUpdateSingle11[["PgUpdateSingle[11∈1] ➊<br />ᐸrelational_posts(id;title,description,note)ᐳ"]]:::sideeffectplan
    Object15 & Constant358 & Constant359 --> PgUpdateSingle11
    PgSelect50[["PgSelect[50∈5] ➊<br />ᐸrelational_postsᐳ"]]:::plan
    PgClassExpression46{{"PgClassExpression[46∈5] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectInlineApply292["PgSelectInlineApply[292∈5] ➊"]:::plan
    PgFromExpression298{{"PgFromExpression[298∈5] ➊"}}:::plan
    PgSelectInlineApply299["PgSelectInlineApply[299∈5] ➊"]:::plan
    Object15 & PgClassExpression46 & PgSelectInlineApply292 & PgFromExpression298 & PgSelectInlineApply299 --> PgSelect50
    Access47{{"Access[47∈5] ➊<br />ᐸ11.tᐳ"}}:::plan
    Access47 --> PgClassExpression46
    PgUpdateSingle11 --> Access47
    First57{{"First[57∈5] ➊"}}:::plan
    PgSelectRows58[["PgSelectRows[58∈5] ➊"]]:::plan
    PgSelectRows58 --> First57
    PgSelect50 --> PgSelectRows58
    PgSelectSingle60{{"PgSelectSingle[60∈5] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First57 --> PgSelectSingle60
    PgSelectInlineApply286["PgSelectInlineApply[286∈5] ➊"]:::plan
    PgSelectInlineApply286 --> PgSelectInlineApply292
    Access293{{"Access[293∈5] ➊<br />ᐸ50.m.joinDetailsFor124ᐳ"}}:::plan
    PgSelect50 --> Access293
    Access300{{"Access[300∈5] ➊<br />ᐸ50.m.joinDetailsFor111ᐳ"}}:::plan
    PgSelect50 --> Access300
    List289{{"List[289∈9] ➊<br />ᐸ287,131ᐳ"}}:::plan
    Access287{{"Access[287∈9] ➊<br />ᐸ296.m.joinDetailsFor141ᐳ"}}:::plan
    PgSelectSingle131{{"PgSelectSingle[131∈9] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    Access287 & PgSelectSingle131 --> List289
    List295{{"List[295∈9] ➊<br />ᐸ293,60ᐳ"}}:::plan
    Access293 & PgSelectSingle60 --> List295
    List301{{"List[301∈9] ➊<br />ᐸ300,60ᐳ"}}:::plan
    Access300 & PgSelectSingle60 --> List301
    PgClassExpression106{{"PgClassExpression[106∈9] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression106
    PgClassExpression107{{"PgClassExpression[107∈9] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression107
    PgClassExpression108{{"PgClassExpression[108∈9] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression108
    PgClassExpression109{{"PgClassExpression[109∈9] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression109
    First119{{"First[119∈9] ➊"}}:::plan
    PgSelectRows120[["PgSelectRows[120∈9] ➊"]]:::plan
    PgSelectRows120 --> First119
    Lambda302{{"Lambda[302∈9] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda302 --> PgSelectRows120
    PgSelectSingle122{{"PgSelectSingle[122∈9] ➊<br />ᐸtextᐳ"}}:::plan
    First119 --> PgSelectSingle122
    PgClassExpression123{{"PgClassExpression[123∈9] ➊<br />ᐸ__relation..._lower__.vᐳ"}}:::plan
    PgSelectSingle122 --> PgClassExpression123
    First128{{"First[128∈9] ➊"}}:::plan
    PgSelectRows129[["PgSelectRows[129∈9] ➊"]]:::plan
    PgSelectRows129 --> First128
    Lambda296{{"Lambda[296∈9] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda296 --> PgSelectRows129
    First128 --> PgSelectSingle131
    PgClassExpression132{{"PgClassExpression[132∈9] ➊<br />ᐸ__relation..._archived”ᐳ"}}:::plan
    PgSelectSingle131 --> PgClassExpression132
    First145{{"First[145∈9] ➊"}}:::plan
    PgSelectRows146[["PgSelectRows[146∈9] ➊"]]:::plan
    PgSelectRows146 --> First145
    Lambda290{{"Lambda[290∈9] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda290 --> PgSelectRows146
    PgSelectSingle148{{"PgSelectSingle[148∈9] ➊<br />ᐸpeopleᐳ"}}:::plan
    First145 --> PgSelectSingle148
    Lambda296 --> Access287
    List289 --> Lambda290
    List295 --> Lambda296
    List301 --> Lambda302
    PgClassExpression278{{"PgClassExpression[278∈13] ➊<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression278
    PgClassExpression279{{"PgClassExpression[279∈13] ➊<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression279
    PgUpdateSingle21[["PgUpdateSingle[21∈2] ➊<br />ᐸrelational_posts(id;title,description,note)ᐳ"]]:::sideeffectplan
    Object25{{"Object[25∈2] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Object25 & Constant358 & Constant360 --> PgUpdateSingle21
    Access22{{"Access[22∈2] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access24{{"Access[24∈2] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access22 & Access24 --> Object25
    __Value2 --> Access22
    __Value2 --> Access24
    PgSelect65[["PgSelect[65∈6] ➊<br />ᐸrelational_postsᐳ"]]:::plan
    PgClassExpression61{{"PgClassExpression[61∈6] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectInlineApply310["PgSelectInlineApply[310∈6] ➊"]:::plan
    PgFromExpression316{{"PgFromExpression[316∈6] ➊"}}:::plan
    PgSelectInlineApply317["PgSelectInlineApply[317∈6] ➊"]:::plan
    Object25 & PgClassExpression61 & PgSelectInlineApply310 & PgFromExpression316 & PgSelectInlineApply317 --> PgSelect65
    Access62{{"Access[62∈6] ➊<br />ᐸ21.tᐳ"}}:::plan
    Access62 --> PgClassExpression61
    PgUpdateSingle21 --> Access62
    First72{{"First[72∈6] ➊"}}:::plan
    PgSelectRows73[["PgSelectRows[73∈6] ➊"]]:::plan
    PgSelectRows73 --> First72
    PgSelect65 --> PgSelectRows73
    PgSelectSingle75{{"PgSelectSingle[75∈6] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First72 --> PgSelectSingle75
    PgSelectInlineApply304["PgSelectInlineApply[304∈6] ➊"]:::plan
    PgSelectInlineApply304 --> PgSelectInlineApply310
    Access311{{"Access[311∈6] ➊<br />ᐸ65.m.joinDetailsFor167ᐳ"}}:::plan
    PgSelect65 --> Access311
    Access318{{"Access[318∈6] ➊<br />ᐸ65.m.joinDetailsFor154ᐳ"}}:::plan
    PgSelect65 --> Access318
    List307{{"List[307∈10] ➊<br />ᐸ305,174ᐳ"}}:::plan
    Access305{{"Access[305∈10] ➊<br />ᐸ314.m.joinDetailsFor184ᐳ"}}:::plan
    PgSelectSingle174{{"PgSelectSingle[174∈10] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    Access305 & PgSelectSingle174 --> List307
    List313{{"List[313∈10] ➊<br />ᐸ311,75ᐳ"}}:::plan
    Access311 & PgSelectSingle75 --> List313
    List319{{"List[319∈10] ➊<br />ᐸ318,75ᐳ"}}:::plan
    Access318 & PgSelectSingle75 --> List319
    PgClassExpression149{{"PgClassExpression[149∈10] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectSingle75 --> PgClassExpression149
    PgClassExpression150{{"PgClassExpression[150∈10] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle75 --> PgClassExpression150
    PgClassExpression151{{"PgClassExpression[151∈10] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle75 --> PgClassExpression151
    PgClassExpression152{{"PgClassExpression[152∈10] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle75 --> PgClassExpression152
    First162{{"First[162∈10] ➊"}}:::plan
    PgSelectRows163[["PgSelectRows[163∈10] ➊"]]:::plan
    PgSelectRows163 --> First162
    Lambda320{{"Lambda[320∈10] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda320 --> PgSelectRows163
    PgSelectSingle165{{"PgSelectSingle[165∈10] ➊<br />ᐸtextᐳ"}}:::plan
    First162 --> PgSelectSingle165
    PgClassExpression166{{"PgClassExpression[166∈10] ➊<br />ᐸ__relation..._lower__.vᐳ"}}:::plan
    PgSelectSingle165 --> PgClassExpression166
    First171{{"First[171∈10] ➊"}}:::plan
    PgSelectRows172[["PgSelectRows[172∈10] ➊"]]:::plan
    PgSelectRows172 --> First171
    Lambda314{{"Lambda[314∈10] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda314 --> PgSelectRows172
    First171 --> PgSelectSingle174
    PgClassExpression175{{"PgClassExpression[175∈10] ➊<br />ᐸ__relation..._archived”ᐳ"}}:::plan
    PgSelectSingle174 --> PgClassExpression175
    First188{{"First[188∈10] ➊"}}:::plan
    PgSelectRows189[["PgSelectRows[189∈10] ➊"]]:::plan
    PgSelectRows189 --> First188
    Lambda308{{"Lambda[308∈10] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda308 --> PgSelectRows189
    PgSelectSingle191{{"PgSelectSingle[191∈10] ➊<br />ᐸpeopleᐳ"}}:::plan
    First188 --> PgSelectSingle191
    Lambda314 --> Access305
    List307 --> Lambda308
    List313 --> Lambda314
    List319 --> Lambda320
    PgClassExpression280{{"PgClassExpression[280∈14] ➊<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle191 --> PgClassExpression280
    PgClassExpression281{{"PgClassExpression[281∈14] ➊<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle191 --> PgClassExpression281
    PgUpdateSingle31[["PgUpdateSingle[31∈3] ➊<br />ᐸrelational_posts(id;title,description,note)ᐳ"]]:::sideeffectplan
    Object35{{"Object[35∈3] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Object35 & Constant358 & Constant30 --> PgUpdateSingle31
    Access32{{"Access[32∈3] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access34{{"Access[34∈3] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access32 & Access34 --> Object35
    __Value2 --> Access32
    __Value2 --> Access34
    PgSelect80[["PgSelect[80∈7] ➊<br />ᐸrelational_postsᐳ"]]:::plan
    PgClassExpression76{{"PgClassExpression[76∈7] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectInlineApply328["PgSelectInlineApply[328∈7] ➊"]:::plan
    PgFromExpression334{{"PgFromExpression[334∈7] ➊"}}:::plan
    PgSelectInlineApply335["PgSelectInlineApply[335∈7] ➊"]:::plan
    Object35 & PgClassExpression76 & PgSelectInlineApply328 & PgFromExpression334 & PgSelectInlineApply335 --> PgSelect80
    Access77{{"Access[77∈7] ➊<br />ᐸ31.tᐳ"}}:::plan
    Access77 --> PgClassExpression76
    PgUpdateSingle31 --> Access77
    First87{{"First[87∈7] ➊"}}:::plan
    PgSelectRows88[["PgSelectRows[88∈7] ➊"]]:::plan
    PgSelectRows88 --> First87
    PgSelect80 --> PgSelectRows88
    PgSelectSingle90{{"PgSelectSingle[90∈7] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First87 --> PgSelectSingle90
    PgSelectInlineApply322["PgSelectInlineApply[322∈7] ➊"]:::plan
    PgSelectInlineApply322 --> PgSelectInlineApply328
    Access329{{"Access[329∈7] ➊<br />ᐸ80.m.joinDetailsFor210ᐳ"}}:::plan
    PgSelect80 --> Access329
    Access336{{"Access[336∈7] ➊<br />ᐸ80.m.joinDetailsFor197ᐳ"}}:::plan
    PgSelect80 --> Access336
    List325{{"List[325∈11] ➊<br />ᐸ323,217ᐳ"}}:::plan
    Access323{{"Access[323∈11] ➊<br />ᐸ332.m.joinDetailsFor227ᐳ"}}:::plan
    PgSelectSingle217{{"PgSelectSingle[217∈11] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    Access323 & PgSelectSingle217 --> List325
    List331{{"List[331∈11] ➊<br />ᐸ329,90ᐳ"}}:::plan
    Access329 & PgSelectSingle90 --> List331
    List337{{"List[337∈11] ➊<br />ᐸ336,90ᐳ"}}:::plan
    Access336 & PgSelectSingle90 --> List337
    PgClassExpression192{{"PgClassExpression[192∈11] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression192
    PgClassExpression193{{"PgClassExpression[193∈11] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression193
    PgClassExpression194{{"PgClassExpression[194∈11] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression194
    PgClassExpression195{{"PgClassExpression[195∈11] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression195
    First205{{"First[205∈11] ➊"}}:::plan
    PgSelectRows206[["PgSelectRows[206∈11] ➊"]]:::plan
    PgSelectRows206 --> First205
    Lambda338{{"Lambda[338∈11] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda338 --> PgSelectRows206
    PgSelectSingle208{{"PgSelectSingle[208∈11] ➊<br />ᐸtextᐳ"}}:::plan
    First205 --> PgSelectSingle208
    PgClassExpression209{{"PgClassExpression[209∈11] ➊<br />ᐸ__relation..._lower__.vᐳ"}}:::plan
    PgSelectSingle208 --> PgClassExpression209
    First214{{"First[214∈11] ➊"}}:::plan
    PgSelectRows215[["PgSelectRows[215∈11] ➊"]]:::plan
    PgSelectRows215 --> First214
    Lambda332{{"Lambda[332∈11] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda332 --> PgSelectRows215
    First214 --> PgSelectSingle217
    PgClassExpression218{{"PgClassExpression[218∈11] ➊<br />ᐸ__relation..._archived”ᐳ"}}:::plan
    PgSelectSingle217 --> PgClassExpression218
    First231{{"First[231∈11] ➊"}}:::plan
    PgSelectRows232[["PgSelectRows[232∈11] ➊"]]:::plan
    PgSelectRows232 --> First231
    Lambda326{{"Lambda[326∈11] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda326 --> PgSelectRows232
    PgSelectSingle234{{"PgSelectSingle[234∈11] ➊<br />ᐸpeopleᐳ"}}:::plan
    First231 --> PgSelectSingle234
    Lambda332 --> Access323
    List325 --> Lambda326
    List331 --> Lambda332
    List337 --> Lambda338
    PgClassExpression282{{"PgClassExpression[282∈15] ➊<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle234 --> PgClassExpression282
    PgClassExpression283{{"PgClassExpression[283∈15] ➊<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle234 --> PgClassExpression283
    PgUpdateSingle41[["PgUpdateSingle[41∈4] ➊<br />ᐸrelational_posts(id;title,description,note)ᐳ"]]:::sideeffectplan
    Object45{{"Object[45∈4] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Object45 & Constant361 & Constant30 --> PgUpdateSingle41
    Access42{{"Access[42∈4] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access44{{"Access[44∈4] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access42 & Access44 --> Object45
    __Value2 --> Access42
    __Value2 --> Access44
    PgSelect95[["PgSelect[95∈8] ➊<br />ᐸrelational_postsᐳ"]]:::plan
    PgClassExpression91{{"PgClassExpression[91∈8] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectInlineApply346["PgSelectInlineApply[346∈8] ➊"]:::plan
    PgFromExpression352{{"PgFromExpression[352∈8] ➊"}}:::plan
    PgSelectInlineApply353["PgSelectInlineApply[353∈8] ➊"]:::plan
    Object45 & PgClassExpression91 & PgSelectInlineApply346 & PgFromExpression352 & PgSelectInlineApply353 --> PgSelect95
    Access92{{"Access[92∈8] ➊<br />ᐸ41.tᐳ"}}:::plan
    Access92 --> PgClassExpression91
    PgUpdateSingle41 --> Access92
    First102{{"First[102∈8] ➊"}}:::plan
    PgSelectRows103[["PgSelectRows[103∈8] ➊"]]:::plan
    PgSelectRows103 --> First102
    PgSelect95 --> PgSelectRows103
    PgSelectSingle105{{"PgSelectSingle[105∈8] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First102 --> PgSelectSingle105
    PgSelectInlineApply340["PgSelectInlineApply[340∈8] ➊"]:::plan
    PgSelectInlineApply340 --> PgSelectInlineApply346
    Access347{{"Access[347∈8] ➊<br />ᐸ95.m.joinDetailsFor253ᐳ"}}:::plan
    PgSelect95 --> Access347
    Access354{{"Access[354∈8] ➊<br />ᐸ95.m.joinDetailsFor240ᐳ"}}:::plan
    PgSelect95 --> Access354
    List343{{"List[343∈12] ➊<br />ᐸ341,260ᐳ"}}:::plan
    Access341{{"Access[341∈12] ➊<br />ᐸ350.m.joinDetailsFor270ᐳ"}}:::plan
    PgSelectSingle260{{"PgSelectSingle[260∈12] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    Access341 & PgSelectSingle260 --> List343
    List349{{"List[349∈12] ➊<br />ᐸ347,105ᐳ"}}:::plan
    Access347 & PgSelectSingle105 --> List349
    List355{{"List[355∈12] ➊<br />ᐸ354,105ᐳ"}}:::plan
    Access354 & PgSelectSingle105 --> List355
    PgClassExpression235{{"PgClassExpression[235∈12] ➊<br />ᐸ__relation...sts__.”id”ᐳ"}}:::plan
    PgSelectSingle105 --> PgClassExpression235
    PgClassExpression236{{"PgClassExpression[236∈12] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle105 --> PgClassExpression236
    PgClassExpression237{{"PgClassExpression[237∈12] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle105 --> PgClassExpression237
    PgClassExpression238{{"PgClassExpression[238∈12] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle105 --> PgClassExpression238
    First248{{"First[248∈12] ➊"}}:::plan
    PgSelectRows249[["PgSelectRows[249∈12] ➊"]]:::plan
    PgSelectRows249 --> First248
    Lambda356{{"Lambda[356∈12] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda356 --> PgSelectRows249
    PgSelectSingle251{{"PgSelectSingle[251∈12] ➊<br />ᐸtextᐳ"}}:::plan
    First248 --> PgSelectSingle251
    PgClassExpression252{{"PgClassExpression[252∈12] ➊<br />ᐸ__relation..._lower__.vᐳ"}}:::plan
    PgSelectSingle251 --> PgClassExpression252
    First257{{"First[257∈12] ➊"}}:::plan
    PgSelectRows258[["PgSelectRows[258∈12] ➊"]]:::plan
    PgSelectRows258 --> First257
    Lambda350{{"Lambda[350∈12] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda350 --> PgSelectRows258
    First257 --> PgSelectSingle260
    PgClassExpression261{{"PgClassExpression[261∈12] ➊<br />ᐸ__relation..._archived”ᐳ"}}:::plan
    PgSelectSingle260 --> PgClassExpression261
    First274{{"First[274∈12] ➊"}}:::plan
    PgSelectRows275[["PgSelectRows[275∈12] ➊"]]:::plan
    PgSelectRows275 --> First274
    Lambda344{{"Lambda[344∈12] ➊<br />ᐸpgInlineViaJoinTransformᐳ"}}:::plan
    Lambda344 --> PgSelectRows275
    PgSelectSingle277{{"PgSelectSingle[277∈12] ➊<br />ᐸpeopleᐳ"}}:::plan
    First274 --> PgSelectSingle277
    Lambda350 --> Access341
    List343 --> Lambda344
    List349 --> Lambda350
    List355 --> Lambda356
    PgClassExpression284{{"PgClassExpression[284∈16] ➊<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle277 --> PgClassExpression284
    PgClassExpression285{{"PgClassExpression[285∈16] ➊<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle277 --> PgClassExpression285

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access12,Access14,Object15,Constant30,Constant358,Constant359,Constant360,Constant361 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgUpdateSingle11 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgUpdateSingle21,Access22,Access24,Object25 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgUpdateSingle31,Access32,Access34,Object35 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgUpdateSingle41,Access42,Access44,Object45 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,PgClassExpression46,Access47,PgSelect50,First57,PgSelectRows58,PgSelectSingle60,PgSelectInlineApply286,PgSelectInlineApply292,Access293,PgFromExpression298,PgSelectInlineApply299,Access300 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression61,Access62,PgSelect65,First72,PgSelectRows73,PgSelectSingle75,PgSelectInlineApply304,PgSelectInlineApply310,Access311,PgFromExpression316,PgSelectInlineApply317,Access318 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression76,Access77,PgSelect80,First87,PgSelectRows88,PgSelectSingle90,PgSelectInlineApply322,PgSelectInlineApply328,Access329,PgFromExpression334,PgSelectInlineApply335,Access336 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression91,Access92,PgSelect95,First102,PgSelectRows103,PgSelectSingle105,PgSelectInlineApply340,PgSelectInlineApply346,Access347,PgFromExpression352,PgSelectInlineApply353,Access354 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,PgClassExpression106,PgClassExpression107,PgClassExpression108,PgClassExpression109,First119,PgSelectRows120,PgSelectSingle122,PgClassExpression123,First128,PgSelectRows129,PgSelectSingle131,PgClassExpression132,First145,PgSelectRows146,PgSelectSingle148,Access287,List289,Lambda290,List295,Lambda296,List301,Lambda302 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression149,PgClassExpression150,PgClassExpression151,PgClassExpression152,First162,PgSelectRows163,PgSelectSingle165,PgClassExpression166,First171,PgSelectRows172,PgSelectSingle174,PgClassExpression175,First188,PgSelectRows189,PgSelectSingle191,Access305,List307,Lambda308,List313,Lambda314,List319,Lambda320 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression192,PgClassExpression193,PgClassExpression194,PgClassExpression195,First205,PgSelectRows206,PgSelectSingle208,PgClassExpression209,First214,PgSelectRows215,PgSelectSingle217,PgClassExpression218,First231,PgSelectRows232,PgSelectSingle234,Access323,List325,Lambda326,List331,Lambda332,List337,Lambda338 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression235,PgClassExpression236,PgClassExpression237,PgClassExpression238,First248,PgSelectRows249,PgSelectSingle251,PgClassExpression252,First257,PgSelectRows258,PgSelectSingle260,PgClassExpression261,First274,PgSelectRows275,PgSelectSingle277,Access341,List343,Lambda344,List349,Lambda350,List355,Lambda356 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,PgClassExpression278,PgClassExpression279 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression280,PgClassExpression281 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression282,PgClassExpression283 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression284,PgClassExpression285 bucket16

