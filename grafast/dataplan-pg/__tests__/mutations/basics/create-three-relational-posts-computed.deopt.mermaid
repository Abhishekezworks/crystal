%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    Object11{{"Object[11∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0]<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0]<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    __Value2["__Value[2∈0]<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    __Value4["__Value[4∈0]<br />ᐸrootValueᐳ"]:::plan
    Constant6{{"Constant[6∈0]<br />ᐸ2ᐳ"}}:::plan
    Constant7{{"Constant[7∈0]<br />ᐸ'Computed post ꖛ1'ᐳ"}}:::plan
    Constant13{{"Constant[13∈0]<br />ᐸ'Computed post ꖛ2'ᐳ"}}:::plan
    Constant19{{"Constant[19∈0]<br />ᐸ'Computed post ꖛ3'ᐳ"}}:::plan
    PgSelect8[["PgSelect[8∈1]<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant7 --> PgSelect8
    PgSelect14[["PgSelect[14∈1]<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant13 --> PgSelect14
    PgSelect20[["PgSelect[20∈1]<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant19 --> PgSelect20
    First24{{"First[24∈1]"}}:::plan
    PgSelect20 --> First24
    PgSelectSingle25{{"PgSelectSingle[25∈1]<br />ᐸrelational_postsᐳ"}}:::plan
    First24 --> PgSelectSingle25
    PgClassExpression26{{"PgClassExpression[26∈1]<br />ᐸ__relational_posts__ᐳ"}}:::plan
    PgSelectSingle25 --> PgClassExpression26
    PgSelect28[["PgSelect[28∈2]<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant183{{"Constant[183∈2]<br />ᐸ1000000ᐳ"}}:::plan
    Object11 & Constant183 --> PgSelect28
    PgSelect80[["PgSelect[80∈2]<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant184{{"Constant[184∈2]<br />ᐸ1000001ᐳ"}}:::plan
    Object11 & Constant184 --> PgSelect80
    PgSelect132[["PgSelect[132∈2]<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant185{{"Constant[185∈2]<br />ᐸ1000002ᐳ"}}:::plan
    Object11 & Constant185 --> PgSelect132
    First32{{"First[32∈2]"}}:::plan
    PgSelect28 --> First32
    PgSelectSingle33{{"PgSelectSingle[33∈2]<br />ᐸrelational_itemsᐳ"}}:::plan
    First32 --> PgSelectSingle33
    PgClassExpression36{{"PgClassExpression[36∈2]<br />ᐸ__relation...ems__.”id”ᐳ"}}:::plan
    PgSelectSingle33 --> PgClassExpression36
    First84{{"First[84∈2]"}}:::plan
    PgSelect80 --> First84
    PgSelectSingle85{{"PgSelectSingle[85∈2]<br />ᐸrelational_itemsᐳ"}}:::plan
    First84 --> PgSelectSingle85
    PgClassExpression88{{"PgClassExpression[88∈2]<br />ᐸ__relation...ems__.”id”ᐳ"}}:::plan
    PgSelectSingle85 --> PgClassExpression88
    First136{{"First[136∈2]"}}:::plan
    PgSelect132 --> First136
    PgSelectSingle137{{"PgSelectSingle[137∈2]<br />ᐸrelational_itemsᐳ"}}:::plan
    First136 --> PgSelectSingle137
    PgClassExpression140{{"PgClassExpression[140∈2]<br />ᐸ__relation...ems__.”id”ᐳ"}}:::plan
    PgSelectSingle137 --> PgClassExpression140
    PgPolymorphic35{{"PgPolymorphic[35∈3]"}}:::plan
    PgClassExpression34{{"PgClassExpression[34∈3]<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle33 & PgClassExpression34 --> PgPolymorphic35
    PgPolymorphic87{{"PgPolymorphic[87∈3]"}}:::plan
    PgClassExpression86{{"PgClassExpression[86∈3]<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle85 & PgClassExpression86 --> PgPolymorphic87
    PgPolymorphic139{{"PgPolymorphic[139∈3]"}}:::plan
    PgClassExpression138{{"PgClassExpression[138∈3]<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle137 & PgClassExpression138 --> PgPolymorphic139
    PgSelectSingle33 --> PgClassExpression34
    PgSelectSingle85 --> PgClassExpression86
    PgSelectSingle137 --> PgClassExpression138
    PgSelect37[["PgSelect[37∈4]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect37
    PgSelect45[["PgSelect[45∈4]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect45
    PgSelect56[["PgSelect[56∈4]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect56
    PgSelect64[["PgSelect[64∈4]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect64
    PgSelect72[["PgSelect[72∈4]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression36 --> PgSelect72
    First41{{"First[41∈4]"}}:::plan
    PgSelect37 --> First41
    PgSelectSingle42{{"PgSelectSingle[42∈4]<br />ᐸrelational_topicsᐳ"}}:::plan
    First41 --> PgSelectSingle42
    First49{{"First[49∈4]"}}:::plan
    PgSelect45 --> First49
    PgSelectSingle50{{"PgSelectSingle[50∈4]<br />ᐸrelational_postsᐳ"}}:::plan
    First49 --> PgSelectSingle50
    PgClassExpression52{{"PgClassExpression[52∈4]<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle50 --> PgClassExpression52
    PgClassExpression53{{"PgClassExpression[53∈4]<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle50 --> PgClassExpression53
    PgClassExpression54{{"PgClassExpression[54∈4]<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle50 --> PgClassExpression54
    First60{{"First[60∈4]"}}:::plan
    PgSelect56 --> First60
    PgSelectSingle61{{"PgSelectSingle[61∈4]<br />ᐸrelational_dividersᐳ"}}:::plan
    First60 --> PgSelectSingle61
    First68{{"First[68∈4]"}}:::plan
    PgSelect64 --> First68
    PgSelectSingle69{{"PgSelectSingle[69∈4]<br />ᐸrelational_checklistsᐳ"}}:::plan
    First68 --> PgSelectSingle69
    First76{{"First[76∈4]"}}:::plan
    PgSelect72 --> First76
    PgSelectSingle77{{"PgSelectSingle[77∈4]<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First76 --> PgSelectSingle77
    PgSelect89[["PgSelect[89∈5]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    Object11 & PgClassExpression88 --> PgSelect89
    PgSelect97[["PgSelect[97∈5]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression88 --> PgSelect97
    PgSelect108[["PgSelect[108∈5]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression88 --> PgSelect108
    PgSelect116[["PgSelect[116∈5]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression88 --> PgSelect116
    PgSelect124[["PgSelect[124∈5]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression88 --> PgSelect124
    First93{{"First[93∈5]"}}:::plan
    PgSelect89 --> First93
    PgSelectSingle94{{"PgSelectSingle[94∈5]<br />ᐸrelational_topicsᐳ"}}:::plan
    First93 --> PgSelectSingle94
    First101{{"First[101∈5]"}}:::plan
    PgSelect97 --> First101
    PgSelectSingle102{{"PgSelectSingle[102∈5]<br />ᐸrelational_postsᐳ"}}:::plan
    First101 --> PgSelectSingle102
    PgClassExpression104{{"PgClassExpression[104∈5]<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle102 --> PgClassExpression104
    PgClassExpression105{{"PgClassExpression[105∈5]<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle102 --> PgClassExpression105
    PgClassExpression106{{"PgClassExpression[106∈5]<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle102 --> PgClassExpression106
    First112{{"First[112∈5]"}}:::plan
    PgSelect108 --> First112
    PgSelectSingle113{{"PgSelectSingle[113∈5]<br />ᐸrelational_dividersᐳ"}}:::plan
    First112 --> PgSelectSingle113
    First120{{"First[120∈5]"}}:::plan
    PgSelect116 --> First120
    PgSelectSingle121{{"PgSelectSingle[121∈5]<br />ᐸrelational_checklistsᐳ"}}:::plan
    First120 --> PgSelectSingle121
    First128{{"First[128∈5]"}}:::plan
    PgSelect124 --> First128
    PgSelectSingle129{{"PgSelectSingle[129∈5]<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First128 --> PgSelectSingle129
    PgSelect141[["PgSelect[141∈6]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    Object11 & PgClassExpression140 --> PgSelect141
    PgSelect149[["PgSelect[149∈6]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression140 --> PgSelect149
    PgSelect160[["PgSelect[160∈6]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression140 --> PgSelect160
    PgSelect168[["PgSelect[168∈6]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression140 --> PgSelect168
    PgSelect176[["PgSelect[176∈6]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression140 --> PgSelect176
    First145{{"First[145∈6]"}}:::plan
    PgSelect141 --> First145
    PgSelectSingle146{{"PgSelectSingle[146∈6]<br />ᐸrelational_topicsᐳ"}}:::plan
    First145 --> PgSelectSingle146
    First153{{"First[153∈6]"}}:::plan
    PgSelect149 --> First153
    PgSelectSingle154{{"PgSelectSingle[154∈6]<br />ᐸrelational_postsᐳ"}}:::plan
    First153 --> PgSelectSingle154
    PgClassExpression156{{"PgClassExpression[156∈6]<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle154 --> PgClassExpression156
    PgClassExpression157{{"PgClassExpression[157∈6]<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle154 --> PgClassExpression157
    PgClassExpression158{{"PgClassExpression[158∈6]<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle154 --> PgClassExpression158
    First164{{"First[164∈6]"}}:::plan
    PgSelect160 --> First164
    PgSelectSingle165{{"PgSelectSingle[165∈6]<br />ᐸrelational_dividersᐳ"}}:::plan
    First164 --> PgSelectSingle165
    First172{{"First[172∈6]"}}:::plan
    PgSelect168 --> First172
    PgSelectSingle173{{"PgSelectSingle[173∈6]<br />ᐸrelational_checklistsᐳ"}}:::plan
    First172 --> PgSelectSingle173
    First180{{"First[180∈6]"}}:::plan
    PgSelect176 --> First180
    PgSelectSingle181{{"PgSelectSingle[181∈6]<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First180 --> PgSelectSingle181

    %% define steps

    %% implicit side effects
    PgSelect8 -.-o PgSelect14
    PgSelect14 -.-o PgSelect20

    subgraph "Buckets for mutations/basics/create-three-relational-posts-computed"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Constant6,Constant7,Access9,Access10,Object11,Constant13,Constant19 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 6, 7, 13, 19, 4<br /><br />1: PgSelect[8]<br />2: PgSelect[14]<br />3: PgSelect[20]<br />4: <br />ᐳ: 24, 25, 26"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect8,PgSelect14,PgSelect20,First24,PgSelectSingle25,PgClassExpression26 bucket1
    Bucket2("Bucket 2 (nullableBoundary)<br />Deps: 11, 26, 4<br /><br />ROOT PgClassExpression{1}ᐸ__relational_posts__ᐳ[26]<br />1: <br />ᐳ: 183, 184, 185<br />2: 28, 80, 132<br />ᐳ: 32, 33, 36, 84, 85, 88, 136, 137, 140"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgSelect28,First32,PgSelectSingle33,PgClassExpression36,PgSelect80,First84,PgSelectSingle85,PgClassExpression88,PgSelect132,First136,PgSelectSingle137,PgClassExpression140,Constant183,Constant184,Constant185 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 33, 85, 137, 4, 11, 36, 88, 140<br /><br />ROOT __ValueᐸrootValueᐳ[4]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression34,PgPolymorphic35,PgClassExpression86,PgPolymorphic87,PgClassExpression138,PgPolymorphic139 bucket3
    Bucket4("Bucket 4 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 11, 36, 35<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgSelect37,First41,PgSelectSingle42,PgSelect45,First49,PgSelectSingle50,PgClassExpression52,PgClassExpression53,PgClassExpression54,PgSelect56,First60,PgSelectSingle61,PgSelect64,First68,PgSelectSingle69,PgSelect72,First76,PgSelectSingle77 bucket4
    Bucket5("Bucket 5 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 11, 88, 87<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,PgSelect89,First93,PgSelectSingle94,PgSelect97,First101,PgSelectSingle102,PgClassExpression104,PgClassExpression105,PgClassExpression106,PgSelect108,First112,PgSelectSingle113,PgSelect116,First120,PgSelectSingle121,PgSelect124,First128,PgSelectSingle129 bucket5
    Bucket6("Bucket 6 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 11, 140, 139<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgSelect141,First145,PgSelectSingle146,PgSelect149,First153,PgSelectSingle154,PgClassExpression156,PgClassExpression157,PgClassExpression158,PgSelect160,First164,PgSelectSingle165,PgSelect168,First172,PgSelectSingle173,PgSelect176,First180,PgSelectSingle181 bucket6
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5 & Bucket6
    classDef unary fill:#fafffa,borderWidth:8px
    class Object11,Access9,Access10,__Value2,__Value4,Constant6,Constant7,Constant13,Constant19,PgSelect8,PgSelect14,PgSelect20,First24,PgSelectSingle25,PgClassExpression26,PgSelect28,PgSelect80,PgSelect132,First32,PgSelectSingle33,PgClassExpression36,First84,PgSelectSingle85,PgClassExpression88,First136,PgSelectSingle137,PgClassExpression140,Constant183,Constant184,Constant185,PgPolymorphic35,PgPolymorphic87,PgPolymorphic139,PgClassExpression34,PgClassExpression86,PgClassExpression138,PgSelect37,PgSelect45,PgSelect56,PgSelect64,PgSelect72,First41,PgSelectSingle42,First49,PgSelectSingle50,PgClassExpression52,PgClassExpression53,PgClassExpression54,First60,PgSelectSingle61,First68,PgSelectSingle69,First76,PgSelectSingle77,PgSelect89,PgSelect97,PgSelect108,PgSelect116,PgSelect124,First93,PgSelectSingle94,First101,PgSelectSingle102,PgClassExpression104,PgClassExpression105,PgClassExpression106,First112,PgSelectSingle113,First120,PgSelectSingle121,First128,PgSelectSingle129,PgSelect141,PgSelect149,PgSelect160,PgSelect168,PgSelect176,First145,PgSelectSingle146,First153,PgSelectSingle154,PgClassExpression156,PgClassExpression157,PgClassExpression158,First164,PgSelectSingle165,First172,PgSelectSingle173,First180,PgSelectSingle181 unary
    end
